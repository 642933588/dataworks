"use strict";(self.webpackChunkdinky_web=self.webpackChunkdinky_web||[]).push([[3595],{16148:function(w,D,_){_.r(D);var l=_(15009),a=_.n(l),S=_(99289),g=_.n(S),U=_(5574),d=_.n(U),e=_(39149),G=_(49881),v=_(19284),h=_(37202),X=_(77559),C=_(88920),B=_(81029),H=_(41913),q=_(33160),s=_(93759),o=_(38345),M=_(57344),P=_(42075),j=_(14726),E=_(67294),t=_(85893),ee=function(c){var Ne=(0,G.md)(),b=c.dispatch,L=c.database,_e=L.dbData,N=L.selectDatabaseId,te=L.expandKeys,Te=L.selectKeys,Ee=(0,E.useState)(!1),F=d()(Ee,2),W=F[0],n=F[1],ae=(0,E.useState)(!0),x=d()(ae,2),de=x[0],k=x[1],re=(0,E.useState)([]),Y=d()(re,2),le=Y[0],Ae=Y[1],Ie=(0,E.useState)({}),Z=d()(Ie,2),Re=Z[0],V=Z[1],ue=(0,E.useState)({id:0,schemaName:"",tableName:""}),m=d()(ue,2),Oe=m[0],J=m[1],f=_e.filter(function(T){return T.id===N})[0],De=(0,M.useLocation)(),p=De.search.split("=")[1],Se=function(){M.history.push("/registration/datasource/list")},z=function(){k(!0),V({}),J({id:0,schemaName:"",tableName:""})},$=(0,E.useCallback)(g()(a()().mark(function T(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return z(),n(!0),r.next=4,(0,v.ME)(Number(p)).then(function(i){return i&&Ae(i)});case 4:n(!1);case 5:case"end":return r.stop()}},T)})),[p]);(0,E.useEffect)(function(){$()},[]);var ge=(0,E.useCallback)(function(){var T=g()(a()().mark(function A(r,i){var I,Q,R,u,y;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(I=i.node,Q=I.isLeaf,R=I.parentId,u=I.name,y=I.fullInfo,b({type:h.cZ.updateDatabaseSelectKey,payload:r}),Q){O.next=5;break}return z(),O.abrupt("return");case 5:b({type:h.cZ.addTab,payload:{icon:f.type,id:N+R+u,breadcrumbLabel:[f.type,f.name].join("/"),label:R+"."+u,params:{queryParams:{id:N,schemaName:R,tableName:u},tableInfo:y},type:"metadata"}}),J({id:Number(p),schemaName:R,tableName:u}),k(!1),V(y);case 9:case"end":return O.stop()}},A)}));return function(A,r){return T.apply(this,arguments)}}(),[]),ce=function(A){b({type:h.cZ.updateDatabaseExpandKey,payload:A})},Le=(0,t.jsx)(e.HL,{children:(0,t.jsxs)(P.Z,{size:"middle",children:[(0,t.jsx)(j.ZP,{size:"middle",icon:(0,t.jsx)(q.Z,{spin:W}),type:"primary",hidden:!(0,G.ux)(B.k5.REGISTRATION_DATA_SOURCE_DETAIL_REFRESH),onClick:function(){return(0,v.zT)(N).then(function(){return $()})},children:(0,H.l)("button.refresh")}),(0,t.jsx)(j.ZP,{size:"middle",icon:(0,t.jsx)(s.Z,{}),type:"primary",onClick:Se,children:(0,H.l)("button.back")})]})});return(0,t.jsxs)(o.Z,{loading:W,ghost:!0,gutter:[16,16],split:"vertical",children:[(0,t.jsx)(o.Z,{hoverable:!0,bordered:!0,className:"siderTree schemaTree",colSpan:"16%",children:(0,t.jsx)(G.FY,{path:B.k5.REGISTRATION_DATA_SOURCE_DETAIL_TREE,children:(0,t.jsx)(C.Z,{selectKeys:Te,expandKeys:te,onExpand:ce,onNodeClick:ge,treeData:le})},"schemaTree")}),(0,t.jsx)(o.Z,{hoverable:!0,colSpan:"84%",ghost:!0,headerBordered:!0,children:(0,t.jsx)(X.Z,{tableInfo:Re,queryParams:Oe,rightButtons:Le,tagDisabled:de})})]})};D.default=(0,M.connect)(function(K){var c=K.Studio;return{database:c.database}})(ee)},81029:function(w,D,_){_.d(D,{ef:function(){return g},k5:function(){return d},oF:function(){return U}});var l=_(41913),a=_(66309),S=_(85893),g={true:{text:(0,S.jsx)(a.Z,{color:"success",children:(0,l.l)("global.yes")}),status:"Success"},false:{text:(0,S.jsx)(a.Z,{color:"error",children:(0,l.l)("global.no")}),status:"Error"}},U=[{value:1,text:(0,l.l)("global.yes")},{value:0,text:(0,l.l)("global.no")}],d=function(e){return e.DATA_STUDIO_LEFT_PROJECT="/datastudio/left/project",e.DATASTUDIO_LEFT_CATALOG="/datastudio/left/catalog",e.DATASTUDIO_LEFT_DATASOURCE="/datastudio/left/datasource",e.DATASTUDIO_LEFT_GLOBAL_VARIABLE="/datastudio/left/globalVariable",e.DATASTUDIO_RIGHT_JOB_CONFIG="/datastudio/right/jobConfig",e.DATASTUDIO_RIGHT_PREVIEW_CONFIG="/datastudio/right/previewConfig",e.DATASTUDIO_RIGHT_SAVE_POINT="/datastudio/right/savePoint",e.DATASTUDIO_RIGHT_HISTORY_VISION="/datastudio/right/historyVision",e.DATASTUDIO_RIGHT_JOB_INFO="/datastudio/right/jobInfo",e.DATASTUDIO_LEFT_BOTTOM_CONSOLE="/datastudio/bottom/console",e.DATASTUDIO_LEFT_BOTTOM_RESULT="/datastudio/bottom/result",e.DATASTUDIO_LEFT_BOTTOM_LINEAGE="/datastudio/bottom/lineage",e.DATASTUDIO_LEFT_BOTTOM_HISTORY="/datastudio/bottom/history",e.DATASTUDIO_LEFT_BOTTOM_TABLE_DATA="/datastudio/bottom/table-data",e.DATASTUDIO_LEFT_BOTTOM_TOOL="/datastudio/bottom/tool",e.REGISTRATION_ALERT_GROUP_ADD="/registration/alert/group/add",e.REGISTRATION_ALERT_GROUP_EDIT="/registration/alert/group/edit",e.REGISTRATION_ALERT_GROUP_DELETE="/registration/alert/group/delete",e.REGISTRATION_ALERT_INSTANCE_ADD="/registration/alert/instance/add",e.REGISTRATION_ALERT_INSTANCE_EDIT="/registration/alert/instance/edit",e.REGISTRATION_ALERT_INSTANCE_DELETE="/registration/alert/instance/delete",e.REGISTRATION_ALERT_TEMPLATE_ADD="/registration/alert/template/add",e.REGISTRATION_ALERT_TEMPLATE_EDIT="/registration/alert/template/edit",e.REGISTRATION_ALERT_TEMPLATE_DELETE="/registration/alert/template/delete",e.REGISTRATION_CLUSTER_CONFIG_ADD="/registration/cluster/config/add",e.REGISTRATION_CLUSTER_CONFIG_EDIT="/registration/cluster/config/edit",e.REGISTRATION_CLUSTER_CONFIG_DELETE="/registration/cluster/config/delete",e.REGISTRATION_CLUSTER_CONFIG_HEARTBEATS="/registration/cluster/config/heartbeat",e.REGISTRATION_CLUSTER_CONFIG_DEPLOY="/registration/cluster/config/deploy",e.REGISTRATION_CLUSTER_INSTANCE_ADD="/registration/cluster/instance/add",e.REGISTRATION_CLUSTER_INSTANCE_EDIT="/registration/cluster/instance/edit",e.REGISTRATION_CLUSTER_INSTANCE_DELETE="/registration/cluster/instance/delete",e.REGISTRATION_CLUSTER_INSTANCE_HEARTBEATS="/registration/cluster/instance/heartbeat",e.REGISTRATION_CLUSTER_INSTANCE_KILL="/registration/cluster/instance/kill",e.REGISTRATION_DATA_SOURCE_LIST="/registration/datasource/list",e.REGISTRATION_DATA_SOURCE_ADD="/registration/datasource/list/add",e.REGISTRATION_DATA_SOURCE_EDIT="/registration/datasource/list/edit",e.REGISTRATION_DATA_SOURCE_DELETE="/registration/datasource/list/delete",e.REGISTRATION_DATA_SOURCE_COPY="/registration/datasource/list/copy",e.REGISTRATION_DATA_SOURCE_CHECK_HEARTBEAT="/registration/datasource/list/heartbeat",e.REGISTRATION_DATA_SOURCE_DETAIL_TREE="/registration/datasource/detail/tree",e.REGISTRATION_DATA_SOURCE_DETAIL_DESC="/registration/datasource/detail/desc",e.REGISTRATION_DATA_SOURCE_DETAIL_QUERY="/registration/datasource/detail/query",e.REGISTRATION_DATA_SOURCE_DETAIL_GENSQL="/registration/datasource/detail/gensql",e.REGISTRATION_DATA_SOURCE_DETAIL_CONSOLE="/registration/datasource/detail/console",e.REGISTRATION_DATA_SOURCE_DETAIL_REFRESH="/registration/datasource/detail/refresh",e.REGISTRATION_DOCUMENT_ADD="/registration/document/add",e.REGISTRATION_DOCUMENT_EDIT="/registration/document/edit",e.REGISTRATION_DOCUMENT_DELETE="/registration/document/delete",e.REGISTRATION_FRAGMENT_ADD="/registration/fragment/add",e.REGISTRATION_FRAGMENT_EDIT="/registration/fragment/edit",e.REGISTRATION_FRAGMENT_DELETE="/registration/fragment/delete",e.REGISTRATION_GIT_PROJECT_ADD="/registration/gitproject/add",e.REGISTRATION_GIT_PROJECT_EDIT="/registration/gitproject/edit",e.REGISTRATION_GIT_PROJECT_DELETE="/registration/gitproject/delete",e.REGISTRATION_GIT_PROJECT_BUILD="/registration/gitproject/build",e.REGISTRATION_GIT_PROJECT_SHOW_LOG="/registration/gitproject/showLog",e.REGISTRATION_UDF_TEMPLATE_ADD="/registration/udf/template/add",e.REGISTRATION_UDF_TEMPLATE_EDIT="/registration/udf/template/edit",e.REGISTRATION_UDF_TEMPLATE_DELETE="/registration/udf/template/delete",e.REGISTRATION_RESOURCE_ADD_FOLDER="/registration/resource/addFolder",e.REGISTRATION_RESOURCE_RENAME="/registration/resource/rename",e.REGISTRATION_RESOURCE_DELETE="/registration/resource/delete",e.REGISTRATION_RESOURCE_UPLOAD="/registration/resource/upload",e.AUTH_MENU_ADD_ROOT="/auth/menu/createRoot",e.AUTH_MENU_ADD_SUB="/auth/menu/addSub",e.AUTH_MENU_EDIT="/auth/menu/edit",e.AUTH_MENU_DELETE="/auth/menu/delete",e.AUTH_MENU_REFRESH="/auth/menu/refresh",e.AUTH_ROLE_ADD="/auth/role/add",e.AUTH_ROLE_EDIT="/auth/role/edit",e.AUTH_ROLE_DELETE="/auth/role/delete",e.AUTH_ROLE_ASSIGN_MENU="/auth/role/assignMenu",e.AUTH_ROLE_VIEW_USER_LIST="/auth/role/viewUser",e.AUTH_ROW_PERMISSIONS_ADD="/auth/rowPermissions/add",e.AUTH_ROW_PERMISSIONS_EDIT="/auth/rowPermissions/edit",e.AUTH_ROW_PERMISSIONS_DELETE="/auth/rowPermissions/delete",e.AUTH_TOKEN_ADD="/auth/token/add",e.AUTH_TOKEN_EDIT="/auth/token/edit",e.AUTH_TOKEN_DELETE="/auth/token/delete",e.AUTH_USER_ADD="/auth/user/add",e.AUTH_USER_EDIT="/auth/user/edit",e.AUTH_USER_DELETE="/auth/user/delete",e.AUTH_USER_CHANGE_PASSWORD="/auth/user/changePassword",e.AUTH_USER_RESET_PASSWORD="/auth/user/reset",e.AUTH_USER_ASSIGN_ROLE="/auth/user/assignRole",e.AUTH_USER_RECOVERY="/auth/user/recovery",e.AUTH_TENANT_ADD="/auth/tenant/add",e.AUTH_TENANT_EDIT="/auth/tenant/edit",e.AUTH_TENANT_DELETE="/auth/tenant/delete",e.AUTH_TENANT_ASSIGN_USER="/auth/tenant/assignUser",e.AUTH_TENANT_SET_USER_TO_TENANT_ADMIN="/auth/tenant/modifyTenantManager",e.AUTH_TENANT_VIEW_USER="/auth/tenant/viewUser",e.SETTING_GLOBAL_DINKY="/settings/globalsetting/dinky",e.SETTING_GLOBAL_DINKY_EDIT="/settings/globalsetting/dinky/edit",e.SETTING_GLOBAL_FLINK="/settings/globalsetting/flink",e.SETTING_GLOBAL_FLINK_EDIT="/settings/globalsetting/flink/edit",e.SETTING_GLOBAL_MAVEN="/settings/globalsetting/maven",e.SETTING_GLOBAL_MAVEN_EDIT="/settings/globalsetting/maven/edit",e.SETTING_GLOBAL_DS="/settings/globalsetting/ds",e.SETTING_GLOBAL_DS_EDIT="/settings/globalsetting/ds/edit",e.SETTING_GLOBAL_LDAP="/settings/globalsetting/ldap",e.SETTING_GLOBAL_LDAP_EDIT="/settings/globalsetting/ldap/edit",e.SETTING_GLOBAL_METRICS="/settings/globalsetting/metrics",e.SETTING_GLOBAL_METRICS_EDIT="/settings/globalsetting/metrics/edit",e.SETTING_GLOBAL_RESOURCE="/settings/globalsetting/resource",e.SETTING_GLOBAL_RESOURCE_EDIT="/settings/globalsetting/resource/edit",e.SYSTEM_SETTING_INFO_LOG_LIST="/settings/systemlog/loglist",e.SYSTEM_SETTING_INFO_ROOT_LOG="/settings/systemlog/rootlog",e.SYSTEM_ALERT_RULE_ADD="/settings/alertrule/add",e.SYSTEM_ALERT_RULE_EDIT="/settings/alertrule/edit",e.SYSTEM_ALERT_RULE_DELETE="/settings/alertrule/delete",e}({})}}]);
