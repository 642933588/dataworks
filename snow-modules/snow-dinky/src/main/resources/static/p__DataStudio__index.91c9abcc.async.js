"use strict";(self.webpackChunkdinky_web=self.webpackChunkdinky_web||[]).push([[4655],{13468:function(rt,Le,r){r.d(Le,{P:function(){return ge}});var ve=r(97857),C=r.n(ve),te=r(15009),_=r.n(te),Ie=r(99289),A=r.n(Ie),ke=r(5574),oe=r.n(ke),ie=r(14726),f=r(67294),xe=r(85893),ge=function(se){var lt=se.click,c=se.title,jt=se.icon,Je=se.hotKeyDesc,mt=se.props,ft=(0,f.useState)(!1),e=oe()(ft,2),be=e[0],gt=e[1],Se=function(){var je=A()(_()().mark(function De(Oe){var fe;return _()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(!lt){Te.next=9;break}return gt(!0),Te.next=4,lt();case 4:if(fe=Te.sent,!(fe instanceof Promise)){Te.next=8;break}return Te.next=8,fe;case 8:gt(!1);case 9:case"end":return Te.stop()}},De)}));return function(Oe){return je.apply(this,arguments)}}();return(0,xe.jsx)(ie.ZP,C()(C()({size:"small",type:"text",icon:jt,title:Je,loading:be,onClick:function(De){return Se(De)}},mt),{},{children:c}),c)}},74435:function(rt,Le,r){var ve=r(97857),C=r.n(ve),te=r(41913),_=r(64317),Ie=r(17057),A=r(96074),ke=r(85893),oe=Ie.Z.Link,ie=function(xe){var ge=function(se){return(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsxs)(oe,{href:"#/registration/document",children:["+ ",(0,te.l)("rc.cc.addConfig")]}),(0,ke.jsx)(A.Z,{style:{margin:"8px 0"}}),se]})};return(0,ke.jsx)(_.Z,C()(C()({},xe),{},{fieldProps:{dropdownRender:function(se){return ge(se)}}}))};Le.Z=ie},73064:function(rt,Le,r){var ve=r(97857),C=r.n(ve),te=r(85418),_=r(67294),Ie=r(85893),A=function(oe){var ie=oe.onClick,f=oe.items,xe=oe.openChange,ge=oe.open,ee=oe.contextMenuPosition;return(0,Ie.jsx)(te.Z,{arrow:!0,trigger:["contextMenu"],overlayStyle:C()({},ee),menu:{onClick:ie,items:f},open:ge,onOpenChange:xe,children:(0,Ie.jsx)("div",{style:C()({},ee)})})};Le.Z=A},84851:function(rt,Le,r){r.d(Le,{Gg:function(){return A},OL:function(){return ke},cM:function(){return Ie},e3:function(){return oe},zC:function(){return _}});var ve=r(37202),C=r(60860),te=r(79935),_=function(f){var xe=Array.from(f.split("/")).map(function(ge){return{title:ge,breadcrumbName:ge}});return xe},Ie=function(f){return f===ve.z6.project},A=function(f){return f?C.Z4.PUBLISH==f.step:!1},ke=function(f){var xe,ge,ee,se;return f?C.Z4.PUBLISH===f.step&&(f==null||(xe=f.dialect)===null||xe===void 0?void 0:xe.toLowerCase())!==te.zy.FLINKSQLENV&&(f==null||(ge=f.dialect)===null||ge===void 0?void 0:ge.toLowerCase())!==te.zy.SCALA&&(f==null||(ee=f.dialect)===null||ee===void 0?void 0:ee.toLowerCase())!==te.zy.JAVA&&(f==null||(se=f.dialect)===null||se===void 0?void 0:se.toLowerCase())!==te.zy.PYTHON_LONG:!1},oe=function(f){if(!f)return!1;switch(f.toLowerCase()){case te.zy.SQL:case te.zy.MYSQL:case te.zy.ORACLE:case te.zy.SQLSERVER:case te.zy.POSTGRESQL:case te.zy.CLICKHOUSE:case te.zy.PHOENIX:case te.zy.DORIS:case te.zy.HIVE:case te.zy.STARROCKS:case te.zy.PRESTO:return!0;default:return!1}}},58288:function(rt,Le,r){r.d(Le,{g0:function(){return f},oe:function(){return ge},wB:function(){return xe}});var ve=r(41913),C=r(71501),te=r(31484),_=r(65987),Ie=r(19661),A=r(12363),ke=r(51767),oe=r(77375),ie=r(85893),f=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return[{key:"addSubFolder",icon:(0,ie.jsx)(C.Z,{}),label:(0,ve.l)("right.menu.createSubFolder")},{key:"createTask",icon:(0,ie.jsx)(C.Z,{}),label:(0,ve.l)("right.menu.createTask")},{key:"delete",icon:(0,ie.jsx)(te.Z,{twoToneColor:"red"}),label:(0,ve.l)("button.delete")},{key:"renameFolder",icon:(0,ie.jsx)(_.Z,{}),label:(0,ve.l)("right.menu.rename")},{key:"paste",icon:(0,ie.jsx)(Ie.Z,{}),label:(0,ve.l)("right.menu.paste"),disabled:!se}]},xe=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return[{key:"edit",icon:(0,ie.jsx)(_.Z,{}),label:(0,ve.l)("button.edit")},{key:"exportJson",icon:(0,ie.jsx)(A.Z,{}),label:(0,ve.l)("right.menu.exportJson"),disabled:!0},{key:"copy",icon:(0,ie.jsx)(ke.Z,{}),label:(0,ve.l)("right.menu.copy")},{key:"cut",icon:(0,ie.jsx)(oe.Z,{}),label:(0,ve.l)("right.menu.cut"),disabled:se},{key:"delete",icon:(0,ie.jsx)(te.Z,{twoToneColor:"red"}),label:(0,ve.l)("button.delete")}]},ge=[{label:"Flink Job Type",options:[{value:"FlinkSql",label:"FlinkSql"},{value:"FlinkJar",label:"FlinkJar"},{value:"FlinkSqlEnv",label:"FlinkSqlEnv"}]},{label:"Jdbc Query Type",options:[{value:"Mysql",label:"Mysql"},{value:"Oracle",label:"Oracle"},{value:"SqlServer",label:"SqlServer"},{value:"PostgreSql",label:"PostgreSql"},{value:"ClickHouse",label:"ClickHouse"},{value:"Doris",label:"Doris"},{value:"Hive",label:"Hive"},{value:"Phoenix",label:"Phoenix"},{value:"StarRocks",label:"StarRocks"},{value:"Presto",label:"Presto"}]},{label:"Other Type",options:[{value:"Java",label:"Java"},{value:"Scala",label:"Scala"},{value:"Python",label:"Python"}]}]},54757:function(rt,Le,r){r.d(Le,{$_:function(){return e},Dd:function(){return se},I0:function(){return mt},Mu:function(){return ft},OC:function(){return c},g1:function(){return be},nN:function(){return gt},pV:function(){return lt}});var ve=r(19632),C=r.n(ve),te=r(64599),_=r.n(te),Ie=r(46117),A=r(84851),ke=r(57857),oe=r(79935),ie=r(7646),f=r(41913),xe=r(40411),ge=r(42075),ee=r(85893),se=function Se(je,De){var Oe=_()(je),fe;try{for(Oe.s();!(fe=Oe.n()).done;){var q=fe.value,Te=q,Ee=Te.name,Be=Te.id,We=Te.parentId,le=Te.level;De.push({name:Ee,id:Be,key:Be,title:Ee,parentId:We,level:le}),Te.children&&Se(Te.children,De)}}catch(b){Oe.e(b)}finally{Oe.f()}return De},lt=function Se(je,De){var Oe,fe=_()(De),q;try{for(fe.s();!(q=fe.n()).done;){var Te=q.value,Ee=Te;Ee.children&&(Ee.children.some(function(Be){return Be.id===je})?Oe=Ee.id:Se(je,Ee.children)&&(Oe=Se(je,Ee.children)))}}catch(Be){fe.e(Be)}finally{fe.f()}return Oe},c=function Se(je){var De=[],Oe=_()(je),fe;try{for(Oe.s();!(fe=Oe.n()).done;){var q=fe.value;q.isLeaf?De=De.concat(Se(q.children)):(De.push(q.id),q.children&&(De=De.concat(Se(q.children))))}}catch(Te){Oe.e(Te)}finally{Oe.f()}return De},jt=function(je){switch(je){case 1:return{title:(0,f.l)("global.table.lifecycle.dev"),status:"processing",color:"cyan"};case 2:return{title:(0,f.l)("global.table.lifecycle.online"),status:"success",color:"purple"};default:return{title:(0,f.l)("global.table.lifecycle.dev"),status:"default",color:"cyan"}}},Je=function(je){if(!je)return!1;switch(je.toLowerCase()){case oe.zy.SQL:case oe.zy.MYSQL:case oe.zy.ORACLE:case oe.zy.SQLSERVER:case oe.zy.POSTGRESQL:case oe.zy.CLICKHOUSE:case oe.zy.PHOENIX:case oe.zy.DORIS:case oe.zy.HIVE:case oe.zy.STARROCKS:case oe.zy.PRESTO:case oe.zy.FLINK_SQL:case oe.zy.FLINKJAR:return!0;default:return!1}},mt=function Se(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return je?je.map(function(fe){var q,Te=Oe?[].concat(C()(Oe),[fe.name]):[fe.name],Ee=jt((q=fe.task)===null||q===void 0?void 0:q.step),Be=fe.isLeaf&&Je(fe.type)&&(0,ee.jsx)(ee.Fragment,{children:(0,ee.jsx)(xe.Z,{title:Ee.title,color:Ee.color})}),We=(0,ee.jsx)(ee.Fragment,{children:(0,ee.jsx)(ge.Z,{align:"baseline",size:2,children:(0,ie.hE)(fe.name,De)})});return{isLeaf:fe.isLeaf,name:fe.name,parentId:fe.parentId,label:(0,ie.hE)(fe.name,De),icon:fe.type&&fe.children.length===0&&(0,ee.jsxs)(ge.Z,{size:"small",children:[Be,(0,ke.b)(fe.type,20)]}),value:fe.id,path:Te,type:fe.type,title:(0,ee.jsxs)(ee.Fragment,{children:[fe.isLeaf&&Je(fe.type)&&(0,ee.jsx)(ee.Fragment,{children:"\xA0".repeat(2)})," ",We]}),fullInfo:fe,key:fe.id,id:fe.id,taskId:fe.taskId,children:Se(fe.children,De,Te)}}):[]},ft=function(je){return je.toLowerCase()===oe.zy.SCALA||je.toLowerCase()===oe.zy.PYTHON_LONG||je.toLowerCase()===oe.zy.JAVA},e=function(je){return je.toLowerCase()===oe.zy.FLINK_SQL||je.toLowerCase()===oe.zy.FLINKJAR};function be(Se){return e(Se)?Ie._d.JOB_CONFIG_KEY:(0,A.e3)(Se)?Ie._d.PREVIEW_CONFIG_KEY:Ie._d.JOB_INFO_KEY}function gt(Se){return e(Se)||(0,A.e3)(Se)?Ie.Q9.CONSOLE_KEY:Ie.Q9.TOOLS_KEY}},65148:function(rt,Le,r){r.r(Le),r.d(Le,{default:function(){return Yi}});var ve=r(15009),C=r.n(ve),te=r(99289),_=r.n(te),Ie=r(5574),A=r.n(Ie),ke=r(49881),oe=r(49960),ie=r(84927),f=r(67294),xe=function(t){return t?{borderColor:"#343434",footerColor:"rgba(255, 255, 255, 0.18)"}:{borderColor:"rgba(5, 5, 5, 0.06)",footerColor:"#f4f4f4"}};function ge(){var o=(0,f.useState)(localStorage.getItem(ie.C6.NAV_THEME)),t=A()(o,2),n=t[0],l=t[1];return(0,f.useEffect)(function(){l(localStorage.getItem(ie.C6.NAV_THEME))},[localStorage.getItem(ie.C6.NAV_THEME)]),xe(n===ie.C6.dark)}var ee=r(19632),se=r.n(ee),lt=r(97857),c=r.n(lt),jt=r(9783),Je=r.n(jt),mt=r(97875),ft=r(9361),e=r(85893),be=ft.Z.useToken,gt=function(t){var n=be(),l=n.token;return(0,e.jsx)("span",{className:"title",style:{color:l.colorText},children:t.children})},Se=gt,je=ft.Z.useToken,De=function(t){var n=t.height,l=t.children,d=je(),i=d.token;return(0,e.jsx)("div",{className:"content-scroll",style:{height:n,display:n<1?"none":"block",backgroundColor:i.colorBgBase},children:l})},Oe=De,fe=r(52745),q=r(42075),Te=r(46312),Ee=ft.Z.useToken,Be=function(t){var n=Ee(),l=n.token,d=ge(),i=t.style,j=t.visible,p=t.onResize,x=t.onResizeStop,k=t.defaultSize,E=t.minWidth,Z=t.maxWidth,y=t.minHeight,h=t.maxHeight,B=t.enable,N=t.headerVisible,u=N===void 0?!0:N,H=t.children,L=t.title,P=t.contentHeight,z=t.handlerMinimize,V=t.handlerMaxsize,W=t.tagList,ae=(0,f.useState)(!1),G=A()(ae,2),T=G[0],D=G[1];return(0,e.jsx)("div",{onMouseEnter:function(){return D(!0)},onMouseLeave:function(){return D(!1)},children:(0,e.jsx)(Te.e,{className:"container",style:c()(c()({},i),{},{display:j?"block":"none",borderRadius:5,backgroundColor:l.colorBgBase}),onResize:p,onResizeStop:x,defaultSize:k,minWidth:E,maxWidth:Z,minHeight:y,maxHeight:h,enable:B,children:(0,e.jsxs)(e.Fragment,{children:[u&&(0,e.jsxs)("div",{style:{backgroundColor:l.colorBgBase,borderBlockColor:d.borderColor},className:"container-header",children:[(0,e.jsx)("div",{children:L}),(0,e.jsx)("div",{className:T?"show":"hide",children:(0,e.jsxs)(q.Z,{size:1,children:[t.btnGroup,(0,e.jsx)(mt.Z,{onClick:t.handlerMinimize,icon:(0,e.jsx)(fe.Z,{})})]})})]}),(0,e.jsx)("div",{style:{height:P,backgroundColor:l.colorBgBase,overflow:"auto"},children:H})]})})})},We=Be,le=r(99209),b=r(37202),it=r(67939),Me=r(60860),pe=r(58023),Vt=function(o){return o.SAVEPOINT="savepoint",o.CANCEL="cancel",o}({}),$t=function(o){return o.TRIGGER="trigger",o.DISPOSE="dispose",o.STOP="stop",o.CANCEL="cancel",o}({}),Nt=function(o){return o[o.NONE=0]="NONE",o[o.LATEST=1]="LATEST",o[o.EARLIEST=2]="EARLIEST",o[o.CUSTOM=3]="CUSTOM",o}({}),Kt=function(o){return o.INITIALIZING="INITIALIZING",o.CREATED="CREATED",o.RUNNING="RUNNING",o.FAILING="FAILING",o.FAILED="FAILED",o.CANCELLING="CANCELLING",o.CANCELED="CANCELED",o.FINISHED="FINISHED",o.RESTARTING="RESTARTING",o.SUSPENDED="SUSPENDED",o.RECONCILING="RECONCILING",o.RECONNECTING="RECONNECTING",o.UNKNOWN="UNKNOWN",o}({}),ot=r(7646),ln=r(46482),Ht=r(18127),on=r(50888),Gt=r(63606),sn=r(4340),he=r(57344),Pe=r(17057),$e=r(32983),Jt=r(82404),Wt=Pe.Z.Text,un=function o(t){var n=[];return n.push(t.key),t.children.length>0&&t.children.forEach(function(l){n.push.apply(n,se()(o(l)))}),n},Yt=function(t){var n=t.tab,l=(0,f.useRef)(null),d=(0,f.useState)(),i=A()(d,2),j=i[0],p=i[1],x=(0,f.useState)(),k=A()(x,2),E=k[0],Z=k[1],y=(0,f.useState)([]),h=A()(y,2),B=h[0],N=h[1],u="FlinkSubmit/".concat(n.params.taskId),H="".concat(Me.Lu.PROCESS_CONSOLE,"/").concat(u),L=(0,he.useModel)("Sse",function(G){return{subscribeTopic:G.subscribeTopic}}),P=L.subscribeTopic,z=function(T){Z(function(D){return D&&D.key!=T.key&&p(void 0),T}),p(function(D){return D&&T!==null&&T!==void 0&&T.lastUpdateStep&&D.key===T.lastUpdateStep.key?T.lastUpdateStep:!D||D.key===T.key?T:D})};(0,he.useRequest)({url:pe.Z.PROCESS_LOG,params:{processName:u}},{onSuccess:function(){var G=_()(C()().mark(function D(K){return C()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",z(K));case 1:case"end":return U.stop()}},D)}));function T(D){return G.apply(this,arguments)}return T}()}),(0,f.useEffect)(function(){return P([H],function(G){return z(G.data)})},[]);var V=function(T,D){return p(D.node)},W=function(T){var D=new Date(T.startTime),K=new Date,M=T.time?T.time:K.getTime()-D.getTime();return(0,e.jsxs)(q.Z,{size:5,children:[T.status===Kt.RUNNING&&(0,e.jsx)(on.Z,{}),T.status===Kt.FINISHED&&(0,e.jsx)(Gt.Z,{style:{color:"green",fontWeight:"bold"}}),T.status===Kt.FAILED&&(0,e.jsx)(sn.Z,{style:{color:"red",fontWeight:"bold"}}),(0,e.jsx)(Wt,{children:T.title}),(0,e.jsx)(Wt,{type:"secondary",style:{marginLeft:"auto"},children:(0,ot.FV)(M)})]})};(0,f.useEffect)(function(){E&&N(un(E))},[E]);var ae=function(T){N(T)};return(0,e.jsx)("div",{style:{height:t.height-b.t3.leftMargin},children:(0,e.jsxs)(ln.o,{split:"vertical",defaultSizes:[100,500],minSize:100,className:"split-pane",children:[(0,e.jsx)(Ht.Pane,{className:"split-pane",forwardRef:l,minSize:100,size:100,split:"horizontal",children:E?(0,e.jsx)(Jt.Z,{className:"treeList",showIcon:!1,titleRender:W,onSelect:V,treeData:[E],expandedKeys:B,expandAction:"doubleClick",onExpand:ae}):(0,e.jsx)($e.Z,{})}),(0,e.jsx)(Ht.Pane,{className:"split-pane",forwardRef:l,minSize:100,size:100,split:"horizontal",children:(0,e.jsx)(it.Z,{code:j!=null&&j.log?j.log:"",height:t.height-b.t3.leftMargin,language:"javalog",lineNumbers:"off",enableMiniMap:!0,enableAutoScroll:!0,showFloatButton:!0})})]})})},dn=(0,he.connect)(function(o){var t=o.Studio;return{height:t.bottomContainer.height,console:t.bottomContainerContent.console}})(Yt),qe=r(92398),cn=function(t){var n=t.tabs,l=n.panes,d=n.activeKey;(0,f.useEffect)(function(){},[]);var i=l.map(function(j){return{key:j.key,label:(0,e.jsx)("span",{style:{paddingLeft:"5px"},children:j.label}),children:(0,e.jsx)(dn,{tab:j})}});return(0,e.jsx)(qe.Z,{activeKey:d,size:"small",items:i,tabBarStyle:{display:"none"}})},fn=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,height:t.bottomContainer.height,console:t.bottomContainerContent.console}})(cn),et=r(1878),a=r(41913),st=r(1832),Ce=r(75659),Ze=r(66309),vn=function(t){var n,l,d,i=t.row;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ce.ZP,{column:6,title:(0,a.l)("pages.datastudio.label.history.error"),children:[(0,e.jsx)(Ce.ZP.Item,{label:"JobName",children:(0,e.jsxs)(Ze.Z,{color:i!=null&&i.jobName?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(n=i==null?void 0:i.jobName)!==null&&n!==void 0?n:(0,a.l)("global.job.status.failed-tip")]},i==null?void 0:i.jobName)}),(0,e.jsx)(Ce.ZP.Item,{label:"JobId",children:(0,e.jsxs)(Ze.Z,{color:i!=null&&i.jobId?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(l=i==null?void 0:i.jobId)!==null&&l!==void 0?l:(0,a.l)("global.job.status.failed-tip")]},i==null?void 0:i.jobId)})]}),(0,e.jsx)(it.Z,{showFloatButton:!0,autoWrap:"on",height:"60vh",language:et.r.JavaLog,code:(d=i==null?void 0:i.error)!==null&&d!==void 0?d:"\u6682\u65E0\u65E5\u5FD7"})]})},hn=function(t){var n,l,d,i,j,p,x,k,E,Z,y,h,B,N,u=t.row;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Ce.ZP,{bordered:!0,size:"small",column:2,title:(0,a.l)("pages.datastudio.label.history.execConfig"),children:[(0,e.jsx)(Ce.ZP.Item,{label:"JobId",children:(0,e.jsxs)(Ze.Z,{color:"blue",children:[(0,e.jsx)(st.Z,{})," ",u==null?void 0:u.jobId]},u==null?void 0:u.jobId)}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.jobName"),children:u==null||(n=u.configJson)===null||n===void 0?void 0:n.jobName}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("global.table.runmode"),children:u!=null&&(l=u.configJson)!==null&&l!==void 0&&l.useRemote?(0,a.l)("global.table.runmode.remote"):(0,a.l)("global.table.runmode.local")}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.taskType"),children:u==null||(d=u.configJson)===null||d===void 0?void 0:d.type}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.clusterType"),children:u!=null&&u.clusterId?(0,a.l)("pages.datastudio.label.history.clusterInstance"):u!=null&&u.clusterConfigurationId?(0,a.l)("pages.datastudio.label.history.clusterConfig"):(0,a.l)("pages.datastudio.label.history.local")}),(0,e.jsx)(Ce.ZP.Item,{label:u!=null&&u.clusterId?(0,a.l)("pages.datastudio.label.history.clusterId"):(0,a.l)("pages.datastudio.label.history.clusterConfigurationId"),children:u!=null&&u.clusterId?u==null?void 0:u.clusterId:(i=u==null?void 0:u.clusterConfigurationId)!==null&&i!==void 0?i:"None"}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.clusterName"),children:u==null?void 0:u.clusterName}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.changelog"),children:u!=null&&(j=u.configJson)!==null&&j!==void 0&&j.useChangeLog?(0,a.l)("button.enable"):(0,a.l)("button.disable")}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.maxRows"),children:u==null||(p=u.configJson)===null||p===void 0?void 0:p.maxRowNum}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.autoStop"),children:u!=null&&(x=u.configJson)!==null&&x!==void 0&&x.useAutoCancel?(0,a.l)("button.enable"):(0,a.l)("button.disable")}),(0,e.jsx)(Ce.ZP.Item,{label:"JobManagerAddress",children:u==null?void 0:u.jobManagerAddress}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.jobId"),children:u==null||(k=u.configJson)===null||k===void 0?void 0:k.taskId}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.fragment"),children:u!=null&&(E=u.configJson)!==null&&E!==void 0&&E.fragment?(0,a.l)("button.enable"):(0,a.l)("button.disable")}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.statementSet"),children:u!=null&&(Z=u.configJson)!==null&&Z!==void 0&&Z.statementSet?(0,a.l)("button.enable"):(0,a.l)("button.disable")}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.parallelism"),children:u==null||(y=u.configJson)===null||y===void 0?void 0:y.parallelism}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.checkpoint"),children:u==null||(h=u.configJson)===null||h===void 0?void 0:h.checkpoint}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.savePointStrategy"),children:u==null||(B=u.configJson)===null||B===void 0?void 0:B.savepointStrategy}),(0,e.jsx)(Ce.ZP.Item,{label:(0,a.l)("pages.datastudio.label.history.savePointPath"),children:u==null||(N=u.configJson)===null||N===void 0?void 0:N.savePointPath})]})})},mn=function(t){var n,l=t.row;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Ce.ZP,{column:2,title:(0,a.l)("pages.datastudio.label.history.result"),children:[(0,e.jsx)(Ce.ZP.Item,{span:2,label:"JobId",children:(0,e.jsxs)(Ze.Z,{color:l!=null&&l.jobId?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(n=l==null?void 0:l.jobId)!==null&&n!==void 0?n:(0,a.l)("global.job.status.failed-tip")]},l==null?void 0:l.jobId)}),(0,e.jsx)(Ce.ZP.Item,{span:2})]})})},gn=function(t){var n,l,d,i=t.row;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ce.ZP,{column:6,size:"middle",title:(0,a.l)("pages.datastudio.label.history.statement"),children:[(0,e.jsx)(Ce.ZP.Item,{label:"Jobname",children:(0,e.jsxs)(Ze.Z,{color:i!=null&&i.jobName?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(n=i==null?void 0:i.jobName)!==null&&n!==void 0?n:(0,a.l)("global.job.status.failed-tip")]},i==null?void 0:i.jobName)}),(0,e.jsx)(Ce.ZP.Item,{label:"JobId",children:(0,e.jsxs)(Ze.Z,{color:i!=null&&i.jobId?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(l=i==null?void 0:i.jobId)!==null&&l!==void 0?l:(0,a.l)("global.job.status.failed-tip")]},i==null?void 0:i.jobId)})]}),(0,e.jsx)(it.Z,{showFloatButton:!0,autoWrap:"on",width:"100%",height:"60vh",language:et.r.FlinkSQL,code:(d=i==null?void 0:i.statement)!==null&&d!==void 0?d:""})]})},Re=r(85576),Fe=function(t){var n=t.modalVisit,l=t.handleCancel,d=t.row,i=t.type;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Re.Z,{width:"80%",open:n,destroyOnClose:!0,maskClosable:!1,okButtonProps:{htmlType:"submit",autoFocus:!0,style:{display:"none"}},cancelText:(0,a.l)("button.close"),onCancel:l,children:[i==1&&(0,e.jsx)(hn,{row:d}),i==2&&(0,e.jsx)(gn,{row:d}),i==3&&(0,e.jsx)(mn,{row:d}),i==4&&(0,e.jsx)(vn,{row:d})]})})},Ue=r(25538),pn=r(87712),Ye=r(40717),Hn=r(94465),yn=r(89359),Pa=r(77598),yt=r(96074),Qe=r(40411),Ra=Pe.Z.Link,Aa=Pe.Z.Paragraph,Zt=Pe.Z.Text,Na=function(t){var n,l=t.tabs,d=(0,le.nU)(l.panes,l.activeKey),i=(0,f.useRef)();(0,Pa.Z)(function(){var G;(G=i.current)===null||G===void 0||G.reload()},[l.activeKey]);var j=(0,f.useState)(!1),p=A()(j,2),x=p[0],k=p[1],E=(0,f.useState)(),Z=A()(E,2),y=Z[0],h=Z[1],B=(0,f.useState)(1),N=A()(B,2),u=N[0],H=N[1],L=function(T,D){h(T),k(!0),H(D)},P=function(){k(!1)},z=function(T){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Aa,{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ra,{href:"http://".concat(T.jobManagerAddress),target:"_blank",children:["[",T.jobManagerAddress,"]"]}),(0,e.jsx)(yt.Z,{type:"vertical"}),(0,a.l)("global.table.startTime"),":",(0,ot.At)(T.startTime),(0,e.jsx)(yt.Z,{type:"vertical"}),(0,a.l)("global.table.finishTime"),":",(0,ot.At)(T.endTime)]})})})},V=function(T){return(0,e.jsxs)(q.Z,{size:0,children:[T.jobName?(0,e.jsx)(Ze.Z,{color:T.jobName?"blue":"red",children:T.jobName},T.jobName):(0,a.l)("global.job.status.failed-tip"),T.clusterName?(0,e.jsxs)(Ze.Z,{color:"green",children:[(0,e.jsx)(Ye.Z,{})," ",T.clusterName]},T.clusterName):(0,e.jsxs)(Ze.Z,{color:"green",children:[(0,e.jsx)(Ye.Z,{})," ",(0,a.l)("pages.devops.jobinfo.localenv")]},"local"),T.type&&(0,e.jsxs)(Ze.Z,{color:"blue",children:[(0,e.jsx)(Hn.Z,{})," ",T.type]},T.type),T.status==2?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"success"}),(0,e.jsx)(Zt,{type:"success",children:(0,a.l)("global.job.status.success")})]}):T.status==1?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"success"}),(0,e.jsx)(Zt,{type:"secondary",children:(0,a.l)("global.job.status.running")})]}):T.status==3?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"error"}),(0,e.jsx)(Zt,{type:"danger",children:(0,a.l)("global.job.status.failed")})]}):T.status==4?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"error"}),(0,e.jsx)(Zt,{type:"warning",children:(0,a.l)("global.job.status.canceled")})]}):T.status==0?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"error"}),(0,e.jsx)(Zt,{type:"warning",children:(0,a.l)("global.job.status.initiating")})]}):(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"success"}),(0,e.jsx)(Zt,{type:"danger",children:(0,a.l)("global.job.status.unknown")})]})]})},W=function(T){return[(0,e.jsx)("a",{onClick:function(){return L(T,1)},children:(0,a.l)("pages.datastudio.label.history.execConfig")},"config"),(0,e.jsx)("a",{onClick:function(){return L(T,2)},children:(0,a.l)("pages.datastudio.label.history.statement")},"statement"),(0,e.jsx)("a",{onClick:_()(C()().mark(function D(){return C()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(T.status==2){M.next=4;break}return M.next=3,(0,pn.Bc)((0,a.l)("pages.datastudio.label.history.notSuccess"));case 3:return M.abrupt("return");case 4:L(T,3);case 5:case"end":return M.stop()}},D)})),children:(0,a.l)("pages.datastudio.label.history.result")},"result"),(0,e.jsx)("a",{onClick:function(){return L(T,4)},children:(0,a.l)("pages.datastudio.label.history.error")},"error")]},ae=function(){return{title:{dataIndex:"jobId",title:"JobId",render:function(D,K){var M;return(0,e.jsx)(q.Z,{size:0,children:(0,e.jsxs)(Ze.Z,{color:K.jobId?"blue":"red",children:[(0,e.jsx)(st.Z,{})," ",(M=K.jobId)!==null&&M!==void 0?M:(0,a.l)("global.job.status.failed-tip")]},K.jobId)})}},description:{search:!1,render:function(D,K){return z(K)}},subTitle:{render:function(D,K){return V(K)},search:!1},actions:{render:function(D,K){return W(K)},search:!1},jobName:{dataIndex:"jobName",title:"JobName"},clusterId:{dataIndex:"clusterId",title:"ClusterId"},status:{title:(0,a.l)("global.table.status"),valueType:"select",valueEnum:{"":{text:"\u5168\u90E8",status:"ALL"},0:{text:"\u521D\u59CB\u5316\u4E2D",status:"INITIALIZE"},1:{text:"\u8FD0\u884C\u4E2D",status:"RUNNING"},2:{text:"\u6210\u529F",status:"SUCCESS"},3:{text:"\u5931\u8D25",status:"FAILED"},4:{text:"\u53D6\u6D88",status:"CANCEL"}}},startTime:{dataIndex:"startTime",title:(0,a.l)("global.table.startTime"),valueType:"dateTimeRange"},endTime:{dataIndex:"endTime",title:(0,a.l)("global.table.finishTime"),valueType:"dateTimeRange"}}};return(0,e.jsxs)(e.Fragment,{children:[l.panes.length===0?(0,e.jsx)($e.Z,{image:$e.Z.PRESENTED_IMAGE_SIMPLE,description:(0,a.l)("pages.datastudio.label.history.noData")}):(0,e.jsx)(yn.Rs,{actionRef:i,search:{filterType:"light"},size:"small",rowKey:"id",params:{taskId:d==null||(n=d.task)===null||n===void 0?void 0:n.id},dateFormatter:"string",headerTitle:(0,a.l)("pages.datastudio.label.history.title","",{name:d==null?void 0:d.label}),request:function(T,D,K){var M;return(0,Ue.et)(pe.Z.HISTORY_LIST,c()(c()({},c()(c()({},T),{},{taskId:d==null||(M=d.params)===null||M===void 0?void 0:M.taskId})),{},{sorter:{id:"descend"},filter:K}))},pagination:{defaultPageSize:5,showSizeChanger:!0},metas:ae(),options:{search:!1,setting:!1,density:!1}}),(0,e.jsx)(Fe,{modalVisit:x,handleCancel:P,row:y,type:u})]})},Ka=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(Na),Ma=r(9408),ze=r(21953),Gn=r(4393),Fa=r(59720),wa=function(t){var n=t.tabs,l=n.panes,d=n.activeKey,i=t.bottomHeight,j=f.useState({tables:[],relations:[]}),p=A()(j,2),x=p[0],k=p[1],E=function(){var y=(0,le.r5)(l,d);if(y){var h=y.type,B=y.statementSet,N=y.dialect,u=y.databaseId,H=y.statement,L=y.envId,P=y.fragment,z={type:1,dialect:N,envId:L!=null?L:-1,fragment:P,statement:H,statementSet:B,databaseId:u!=null?u:0,variables:{}};(0,ze.AZ)(pe.Z.STUDIO_GET_LINEAGE,z).then(function(V){return k(V)})}};return(0,f.useEffect)(function(){E()},[d]),(0,e.jsx)(Gn.Z,{hoverable:!0,bodyStyle:{height:i-50},style:{height:i},children:x&&(x.tables.length!==0||x.relations.length!==0)?(0,e.jsx)(Ma.Z,{lineageData:x,refreshCallBack:E}):(0,e.jsx)(Fa.ZP,{style:{height:i-120},status:"warning",title:(0,a.l)("lineage.getError")})})},_a=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,bottomHeight:t.bottomContainer.height}},le.ZS)(wa),_e=r(84851),$=r(79935),bn=r(48296),Ba=r(77963),za=r(35653),tt=r(14726),Cn=r(57513),Ua=function(t){var n,l,d,i=t.tabs,j=i.panes,p=i.activeKey,x=(0,f.useState)({}),k=A()(x,2),E=k[0],Z=k[1],y=(0,f.useState)([]),h=A()(y,2),B=h[0],N=h[1],u=(0,f.useState)(!0),H=A()(u,2),L=H[0],P=H[1],z=(0,le.nU)(j,p),V=(0,le.r5)(j,p),W=(0,f.useState)(""),ae=A()(W,2),G=ae[0],T=ae[1],D=(0,f.useState)(""),K=A()(D,2),M=K[0],U=K[1],R=(0,f.useRef)(null),S=function(I){I(),T("")},s=function(I,w,J){w(),T(I[0]),U(J.toString())},v=function(I){return{filterDropdown:function(J){var X=J.setSelectedKeys,Ae=J.selectedKeys,Ne=J.confirm,nt=J.clearFilters;return(0,e.jsxs)("div",{style:{padding:8},onKeyDown:function(at){return at.stopPropagation()},children:[(0,e.jsx)(za.Z,{ref:R,placeholder:"Search ".concat(I),value:Ae[0],onChange:function(at){return X(at.target.value?[at.target.value]:[])},onPressEnter:function(){return s(Ae,Ne,I)},style:{marginBottom:8,display:"block"}}),(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(tt.ZP,{type:"primary",onClick:function(){return s(Ae,Ne,I)},icon:(0,e.jsx)(bn.Z,{}),size:"small",style:{width:90},children:(0,a.l)("button.search")}),(0,e.jsx)(tt.ZP,{onClick:function(){return nt&&S(nt)},size:"small",style:{width:90},children:(0,a.l)("button.reset")})]})]})},filterIcon:function(J){return(0,e.jsx)(bn.Z,{style:{color:J?"#1677ff":void 0}})},onFilter:function(J,X){return X[I].toString().toLowerCase().includes(J.toLowerCase())},onFilterDropdownOpenChange:function(J){J&&setTimeout(function(){var X;return(X=R.current)===null||X===void 0?void 0:X.select()},100)},render:function(J){return M===I?(0,e.jsx)(Ba.y,{label:J?J.toString():"",words:[G]}):J}}},O=function(){var re=_()(C()().mark(function I(w){var J,X,Ae,Ne,nt,Ve,at,pt;return C()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if((0,le.VZ)(z)){F.next=2;break}return F.abrupt("return");case 2:if(J=z.params,X=z.console,!(X.result&&!w)){F.next=8;break}Z(X.result),F.next=25;break;case 8:if(!(X.results&&!w)){F.next=12;break}N(X.results),F.next=25;break;case 12:if(!(V!=null&&V.dialect&&(V==null||(Ae=V.dialect)===null||Ae===void 0?void 0:Ae.toLowerCase())==$.zy.FLINK_SQL)){F.next=25;break}if(!(V!=null&&V.id)){F.next=25;break}return F.next=16,(0,ze.qm)(pe.Z.GET_LATEST_HISTORY_BY_ID,{id:V.id});case 16:if(Ne=F.sent,nt=Ne.data,!nt){F.next=25;break}return Ve=nt.id,F.next=22,(0,ze.WY)(pe.Z.GET_JOB_DATA,(0,a.l)("global.getdata.tips"),{jobId:Ve});case 22:at=F.sent,pt=at.data,pt.success?(X.result=pt,Z(pt)):(X.result={},Z({}));case 25:P(!1);case 26:case"end":return F.stop()}},I)}));return function(w){return re.apply(this,arguments)}}();(0,f.useEffect)(function(){Z({}),N([]),O()},[z==null||(n=z.console)===null||n===void 0?void 0:n.result,z==null||(l=z.console)===null||l===void 0?void 0:l.results]);var m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I==null?void 0:I.map(function(w){return c()({title:w,dataIndex:w,sorter:function(X,Ae){return X[w]-Ae[w]}},v(w))})},g=function(){var re=_()(C()().mark(function I(){return C()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return P(!0),J.next=3,O(!0);case 3:P(!1);case 4:case"end":return J.stop()}},I)}));return function(){return re.apply(this,arguments)}}(),Y=function(){return(0,e.jsx)(e.Fragment,{children:V!=null&&V.jobInstanceId?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(q.Z,{children:(0,e.jsx)(tt.ZP,{loading:L,type:"primary",onClick:g,icon:(0,e.jsx)(bn.Z,{}),children:(0,a.l)("pages.datastudio.label.result.query.latest.data")})})}):void 0})},ne=function(){if(V&&E.columns){var I="\uFEFF",w=new Blob([I+(0,ot.Ah)(E.columns,E.rowData)],{type:"text/csv"}),J=URL.createObjectURL(w);return(0,e.jsx)(tt.ZP,{type:"link",href:J,children:"Export Csv"})}};return(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsxs)("div",{style:{direction:"rtl"},children:[ne(),V?(0,_e.e3)(V.dialect)?(0,e.jsx)(e.Fragment,{}):Y():void 0]}),E.columns?(0,e.jsx)(Cn.Z,{columns:m(E.columns),size:"small",scroll:{x:"max-content"},dataSource:(d=E.rowData)===null||d===void 0?void 0:d.map(function(re,I){return c()(c()({},re),{},{key:I})}),loading:L}):B.length>0?(0,e.jsx)(qe.Z,{defaultActiveKey:"0",children:B.map(function(re,I){var w;return(0,e.jsx)(qe.Z.TabPane,{tab:"Table ".concat(I+1),children:(0,e.jsx)(Cn.Z,{columns:m(re.columns),size:"small",dataSource:(w=re.rowData)===null||w===void 0?void 0:w.map(function(J,X){return c()(c()({},J),{},{key:X})}),loading:L})},I)})}):(0,e.jsx)($e.Z,{image:$e.Z.PRESENTED_IMAGE_SIMPLE})]})},Va=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}},le.ZS)(Ua),Jn=r(63573);function $a(o){return jn.apply(this,arguments)}function jn(){return jn=_()(C()().mark(function o(t){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,Ue.M2)(pe.Z.JSON_TO_FLINK_SQL,t);case 2:return l.abrupt("return",l.sent.data);case 3:case"end":return l.stop()}},o)})),jn.apply(this,arguments)}var Sn=10,Ha=function(t){var n=t.height,l=n-36-Sn*2-32-12,d=ge(),i="1px solid ".concat(d.borderColor),j=(0,f.useState)(""),p=A()(j,2),x=p[0],k=p[1],E=(0,f.useState)(""),Z=A()(E,2),y=Z[0],h=Z[1];return(0,e.jsxs)("div",{style:{padding:Sn},children:[(0,e.jsx)(q.Z,{children:(0,e.jsx)(tt.ZP,{children:"Convert",onClick:function(){$a({data:x}).then(h)}})}),(0,e.jsxs)("div",{style:{display:"flex",paddingBlockStart:Sn},children:[(0,e.jsx)("div",{style:{width:"50%",border:i},children:(0,e.jsx)(Jn.Z,{height:l+"px",code:x,language:"json",onChange:function(N){k(N!=null?N:"")}})}),(0,e.jsx)("div",{style:{width:"50%"},children:(0,e.jsx)(it.Z,{height:l,code:y,language:"json",style:{border:i},options:{minimap:!0}})})]})]})},Ga=(0,he.connect)(function(o){var t=o.Studio;return{height:t.bottomContainer.height}})(Ha),Qt=r(63764),Ja=function(){return(0,e.jsx)(Qt.SV,{height:"100%",options:{readOnly:!1,originalEditable:!0,selectOnLineNumbers:!0,lineDecorationsWidth:20,mouseWheelZoom:!0,automaticLayout:!0,scrollBeyondLastLine:!1,scrollbar:{useShadows:!1,verticalScrollbarSize:8,horizontalScrollbarSize:8,arrowSize:30}},language:"text",theme:(0,ot.x_)()})},Wa=Ja,me=r(46117),Ya=r(24969),Wn=r(33160),Qa=r(64789),Xa=r(53073),qa=r(17598),xn=r(33862),St={"menu.datastudio.datasource":[{icon:(0,e.jsx)(Ya.Z,{}),title:(0,a.l)("button.create"),onClick:function(){}},{icon:(0,e.jsx)(Wn.Z,{}),title:(0,a.l)("button.refresh"),onClick:function(){}}],"menu.datastudio.catalog":[{icon:(0,e.jsx)(Wn.Z,{}),title:(0,a.l)("button.refresh"),onClick:function(){}}],"menu.datastudio.project":[{icon:(0,e.jsx)(Qa.Z,{}),title:(0,a.l)("right.menu.createRoot"),key:"right.menu.createRoot",onClick:function(){}},{icon:(0,e.jsx)(Xa.Z,{}),title:(0,a.l)("button.expand-all"),key:"button.expand-all",onClick:function(){}},{icon:(0,e.jsx)(qa.Z,{}),title:(0,a.l)("button.collapse-all"),key:"button.collapse-all",onClick:function(){}},{icon:(0,e.jsx)(xn.Z,{}),title:(0,a.l)("button.position"),key:"button.position",onClick:function(){}}]},Yn=(0,f.createContext)(St),Qn=(0,f.createContext)(function(o){});function Mt(){return(0,f.useContext)(Qn)}function er(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"change":return c()(c()({},o),{},Je()({},t.selectKey,t.payload));default:return c()({},o)}}function tr(o){var t=o.children,n=(0,f.useReducer)(er,St),l=A()(n,2),d=l[0],i=l[1];return(0,e.jsx)(Yn.Provider,{value:d,children:(0,e.jsx)(Qn.Provider,{value:i,children:t})})}var nr=r(34776),Xt=r(15611),ar=r(69015),Tn=r(10620),rr=r(50737),lr=r(80882),En=r(57953),In=r(71230),Ft=r(15746),Xn=r(34041);function ir(o){return kn.apply(this,arguments)}function kn(){return kn=_()(C()().mark(function o(t){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,Ue.M2)(pe.Z.STUDIO_GET_MSSCHEMA_INFO,t);case 2:return l.abrupt("return",l.sent.data);case 3:case"end":return l.stop()}},o)})),kn.apply(this,arguments)}function or(o){return Dn.apply(this,arguments)}function Dn(){return Dn=_()(C()().mark(function o(t){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,Ue.M2)(pe.Z.STUDIO_GET_MSCATALOGS,t);case 2:return l.abrupt("return",l.sent.data);case 3:case"end":return l.stop()}},o)})),Dn.apply(this,arguments)}function sr(o){return On.apply(this,arguments)}function On(){return On=_()(C()().mark(function o(t){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,Ue.M2)(pe.Z.STUDIO_GET_MSCOLUMNS,t);case 2:return l.abrupt("return",l.sent.data);case 3:case"end":return l.stop()}},o)})),On.apply(this,arguments)}var ur=function(t){var n,l,d,i,j,p=t.tabs,x=(0,le.r5)(p.panes,p.activeKey);if(!x)return(0,e.jsx)($e.Z,{description:(0,a.l)("pages.datastudio.catalog.selectDatasource")});var k=(n=x==null||(l=x.dialect)===null||l===void 0?void 0:l.toLowerCase())!==null&&n!==void 0?n:"",E=(d=x==null?void 0:x.fragment)!==null&&d!==void 0?d:!0,Z,y,h;if(k===$.zy.FLINKSQLENV)Z=x==null?void 0:x.id,h="Flink";else if(k===$.zy.FLINK_SQL)Z=x==null?void 0:x.envId,h="Flink";else if((0,_e.e3)(k)&&(y=x==null?void 0:x.databaseId,!y))return(0,e.jsx)($e.Z,{description:(0,a.l)("pages.datastudio.catalog.openMission")});Z=(i=Z)!==null&&i!==void 0?i:-1;var B=(0,f.useState)([]),N=A()(B,2),u=N[0],H=N[1],L=(0,f.useState)("default_catalog"),P=A()(L,2),z=P[0],V=P[1],W=(0,f.useState)(""),ae=A()(W,2),G=ae[0],T=ae[1],D=(0,f.useState)(""),K=A()(D,2),M=K[0],U=K[1],R=(0,f.useState)([]),S=A()(R,2),s=S[0],v=S[1],O=(0,f.useState)(!1),m=A()(O,2),g=m[0],Y=m[1],ne=(0,f.useState)(),re=A()(ne,2),I=re[0],w=re[1],J=(0,f.useState)(!1),X=A()(J,2),Ae=X[0],Ne=X[1],nt=(0,f.useState)([]),Ve=A()(nt,2),at=Ve[0],pt=Ve[1],de=Mt(),F="menu.datastudio.catalog",ce=se()(St[F]);ce[0].onClick=function(){ye()},de({type:"change",selectKey:F,payload:ce}),(0,f.useEffect)(function(){Q()},[Z,y]),(0,f.useEffect)(function(){M&&(Ne(!0),pt([]),sr({envId:Z,catalog:z,database:G,table:M,dialect:k,databaseId:y}).then(function(dt){Ne(!1),pt(dt)}).catch(function(){}))},[M]);var ue=function(Xe){v([]),Ne(!0);var ct=Xe.split("."),Ot="default_catalog",Ct="default_database";ct.length>1?(Ot=ct[0],Ct=ct[1]):ct.length==1&&(Ct=ct[0]),V(Ot),T(Ct);var Qi={envId:Z,fragment:E,dialect:k,catalog:Ot,database:Ct,databaseId:y},Xi=ir(Qi);Xi.then(function(we){Ne(!1);var Ea=[];if(we.tables)for(var Un=0;Un<we.tables.length;Un++)Ea.push(we.tables[Un]);for(var At=[],Ia=[],Vn=0,ka=Ea;Vn<ka.length;Vn++){var $n,ht=ka[Vn];Ia.push({title:ht.name,key:ht.name,icon:(0,e.jsx)(Xt.Z,{}),isLeaf:!0,isTable:!0,name:ht.name,schema:Ct,catalog:z,comment:ht.comment,type:ht.type,engine:($n=h)!==null&&$n!==void 0?$n:ht.engine,options:ht.options,rows:ht.rows,createTime:ht.createTime,updateTime:ht.updateTime})}At.push({title:"tables",key:"tables",children:Ia});var Da=[];if(we.views)for(var tn=0;tn<we.views.length;tn++)Da.push({title:we.views[tn],key:we.views[tn],icon:(0,e.jsx)(ar.Z,{}),isLeaf:!0});At.push({title:"views",key:"views",children:Da});var Oa=[];if(we.functions)for(var nn=0;nn<we.functions.length;nn++)Oa.push({title:we.functions[nn],key:we.functions[nn],icon:(0,e.jsx)(Tn.Z,{}),isLeaf:!0});At.push({title:"functions",key:"functions",children:Oa});var Za=[];if(we.userFunctions)for(var an=0;an<we.userFunctions.length;an++)Za.push({title:we.userFunctions[an],key:we.userFunctions[an],icon:(0,e.jsx)(Tn.Z,{}),isLeaf:!0});At.push({title:"user functions",key:"userFunctions",children:Za});var La=[];if(we.modules)for(var rn=0;rn<we.modules.length;rn++)La.push({title:we.modules[rn],key:we.modules[rn],icon:(0,e.jsx)(rr.Z,{}),isLeaf:!0});At.push({title:"modules",key:"modules",children:La}),v(At)}).catch(function(){})},Q=function(){if(Z||y){Ne(!0),v([]),H([]),T("");var Xe={envId:Z,fragment:E,dialect:k,databaseId:y};or(Xe).then(function(ct){H(ct.map(function(Ot){return Ne(!1),{label:Ot.name,options:Ot.schemas.map(function(Ct){return{label:Ct.name,value:Ot.name+"."+Ct.name}})}}))}).catch(function(){})}},ye=function(){G?ue(z+"."+G):Q()},Ke=function(Xe){ue(Xe)},kt=function(Xe){Xe&&Xe.isLeaf&&Xe.isTable&&(U(Xe.name),w(Xe),Y(!0))},Dt=function(){w(void 0),Y(!1)};return(0,e.jsxs)(En.Z,{spinning:Ae,children:[(0,e.jsxs)("div",{style:{paddingInline:10,paddingBlock:5},children:[(0,e.jsx)(In.Z,{style:{paddingBlock:10},children:(0,e.jsx)(Ft.Z,{span:24,children:(0,e.jsx)(Xn.default,{value:G||null,style:{width:"100%"},placeholder:(0,a.l)("pages.datastudio.catalog.catalogSelect"),optionLabelProp:"label",onChange:Ke,options:u})})}),s.length>0?(0,e.jsx)(Jt.Z,{showIcon:!0,switcherIcon:(0,e.jsx)(lr.Z,{}),treeData:s,onRightClick:function(Xe){var ct=Xe.node;return kt(ct)},onSelect:function(Xe,ct){return kt(ct.node)}}):(0,e.jsx)($e.Z,{image:$e.Z.PRESENTED_IMAGE_SIMPLE})]}),(0,e.jsx)(Re.Z,{title:(j=(0,e.jsx)(e.Fragment,{children:I==null?void 0:I.key}))!==null&&j!==void 0?j:(0,e.jsx)(e.Fragment,{}),open:g,width:"85%",onCancel:function(){Dt()},footer:[(0,e.jsx)(tt.ZP,{onClick:function(){Dt()},children:(0,a.l)("button.close")},"back")],children:(0,e.jsx)(nr.Z,{tableInfo:I,tableColumns:at})})]})},dr=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(ur),cr=r(64599),wt=r.n(cr),xt=r(39149),fr=r(88920),vr=r(24311),qn=r(40024),ea=r(92965),qt=r(97269),ut=r(64317),Zn=r(19284),hr=function(t){var n=t.dispatch,l=t.toolContentHeight,d=t.database,i=d.dbData,j=d.selectDatabaseId,p=d.expandKeys,x=d.selectKeys,k=(0,f.useState)([]),E=A()(k,2),Z=E[0],y=E[1],h=(0,f.useState)(!1),B=A()(h,2),N=B[0],u=B[1],H=(0,f.useState)(!1),L=A()(H,2),P=L[0],z=L[1],V=i.filter(function(S){return S.id===j})[0],W=Mt(),ae=function(){var S=_()(C()().mark(function s(v){var O,m,g,Y,ne,re,I,w;return C()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(v){X.next=3;break}return u(!1),X.abrupt("return");case 3:return u(!0),X.next=6,(0,Zn.ME)(v);case 6:if(X.t1=O=X.sent,X.t0=X.t1!==null,!X.t0){X.next=10;break}X.t0=O!==void 0;case 10:if(!X.t0){X.next=14;break}X.t2=O,X.next=15;break;case 14:X.t2=[];case 15:m=X.t2,u(!1),g=wt()(m);try{for(g.s();!(Y=g.n()).done;){ne=Y.value,ne.title=ne.name,ne.key=ne.name,ne.icon=(0,e.jsx)(ea.Z,{}),ne.children=ne.tables,re=wt()(ne.children);try{for(re.s();!(I=re.n()).done;)w=I.value,w.title=w.name,w.key=ne.name+"."+w.name,w.icon=(0,e.jsx)(Xt.Z,{}),w.isLeaf=!0,w.schema=ne.name,w.table=w.name}catch(Ae){re.e(Ae)}finally{re.f()}}}catch(Ae){g.e(Ae)}finally{g.f()}y(m);case 20:case"end":return X.stop()}},s)}));return function(v){return S.apply(this,arguments)}}();(0,f.useEffect)(function(){j&&ae(j)},[]);var G=function(s){ae(s)},T="menu.datastudio.datasource",D=se()(St[T]);D[0].onClick=function(){z(!0)},D[1].onClick=function(){j&&(u(!0),(0,Zn.zT)(j).then(function(){G(j)}))},W({type:"change",selectKey:T,payload:D});var K=function(){return i.map(function(s){var v=s.id,O=s.name,m=s.type,g=s.enabled,Y=s.status;return{key:v,value:v,label:(0,e.jsxs)(xt.Td,{children:[(0,e.jsx)(Ze.Z,{color:g?"processing":"error",children:m},v),O]}),disabled:!g||!Y}})};n({type:b.cZ.updateSelectRightKey,payload:""});var M=function(){var S=_()(C()().mark(function s(v,O){var m,g,Y,ne,re,I;return C()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(n({type:b.cZ.updateDatabaseSelectKey,payload:v}),m=O.node,g=m.isLeaf,Y=m.parentId,ne=m.name,re=m.fullInfo,g){J.next=4;break}return J.abrupt("return");case 4:I={id:j,schemaName:Y,tableName:ne},n({type:b.cZ.addTab,payload:{icon:V.type,id:j+Y+ne,breadcrumbLabel:[V.type,V.name].join("/"),label:Y+"."+ne,params:{queryParams:I,tableInfo:re},type:b.z6.metadata}});case 6:case"end":return J.stop()}},s)}));return function(v,O){return S.apply(this,arguments)}}(),U=function(s){n({type:b.cZ.updateSelectDatabaseId,payload:s}),G(s)},R=function(s){n({type:b.cZ.updateDatabaseExpandKey,payload:s})};return(0,e.jsxs)(En.Z,{spinning:N,delay:500,children:[(0,e.jsx)(vr.Z,{values:{},visible:P,onCancel:function(){return z(!1)},onTest:function(s){return(0,qn.B)(s)},onSubmit:function(){var S=_()(C()().mark(function s(v){var O;return C()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,qn.n)(v);case 2:return g.next=4,(0,Zn.z9)();case 4:O=g.sent,n({type:b.cZ.saveDataBase,payload:O});case 6:case"end":return g.stop()}},s)}));return function(s){return S.apply(this,arguments)}}()}),(0,e.jsx)(qt.A,{style:{height:40},initialValues:{selectDb:j},submitter:!1,children:(0,e.jsx)(ut.Z,{style:{paddingInline:6},width:"xl",allowClear:!1,name:"selectDb",placeholder:(0,a.l)("pages.metadata.selectDatabase"),options:K(),fieldProps:{onSelect:function(s){return U(s)}}})}),(0,e.jsx)(fr.Z,{selectKeys:x,expandKeys:p,style:{height:l-64-20},onNodeClick:M,treeData:Z,onExpand:R})]})},mr=(0,he.connect)(function(o){var t=o.Studio;return{toolContentHeight:t.toolContentHeight,leftContainer:t.leftContainer,database:t.database}})(hr),gr=r(51444),pr=r(16894),ta=Pe.Z.Text,yr=Pe.Z.Link,br=Re.Z.confirm,Cr=function(t){var n=[{title:(0,a.l)("rc.gv.name"),dataIndex:"name",sorter:!0,width:"80%",ellipsis:!0,render:function(d,i){return(0,e.jsxs)(q.Z,{direction:"vertical",size:0,children:[(0,e.jsx)(ta,{copyable:!0,children:"${".concat(i.name,"}")}),(0,e.jsx)(ta,{type:"secondary",children:i.note})]})}},{title:(0,a.l)("rc.gv.value"),dataIndex:"id",width:"20%",render:function(d,i){return(0,e.jsx)(gr.Z,{onClick:function(){return br({content:i.fragmentValue})}})}}];return(0,e.jsx)(pr.ZP,{showHeader:!1,tableStyle:{margin:0,paddingInline:0},search:!1,defaultSize:"small",options:!1,type:"list",toolBarRender:function(){return[(0,e.jsx)(yr,{href:"/#/registration/fragment",children:(0,a.l)("rc.gv.Management")})]},columns:n,request:function(d){return(0,Ue.et)(pe.Z.GLOBAL_VARIABLE,c()(c()({},d),{},{filter:{enabled:[1]}}))},pagination:{hideOnSinglePage:!0,pageSize:10,size:"small",showTotal:function(){return""}}})},jr=Cr,na=r(73064),Lt=r(58288),Pt=r(5966),Sr=function(){return(0,e.jsx)(Pt.Z,{name:"name",label:(0,a.l)("datastudio.project.create.folder.name"),placeholder:(0,a.l)("datastudio.project.create.folder.name.placeholder"),rules:[{required:!0,message:(0,a.l)("datastudio.project.create.folder.name.placeholder")}]})},xr=Sr,Ln=r(37476),Pn=r(18922),Tr=function(t){var n=t.onCancel,l=t.onSubmit,d=t.modalVisible,i=t.title,j=t.values,p=Pn.Z.useForm(),x=A()(p,1),k=x[0],E=f.useMemo(function(){return{resetForm:function(){return k.resetFields()}}},[k]);(0,f.useEffect)(function(){d&&k.resetFields(),k.setFieldsValue(j)},[open,j,k]);var Z=function(){n(),E.resetForm()},y=function(){var h=_()(C()().mark(function B(N){var u;return C()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,k.validateFields();case 2:u=k.getFieldsValue(),l(c()(c()({},j),{},{name:u.name}));case 4:case"end":return L.stop()}},B)}));return function(N){return h.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ln.Y,{title:i,form:k,width:"30%",initialValues:j,open:d,layout:"horizontal",autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,maskClosable:!1,okButtonProps:{htmlType:"submit",autoFocus:!0},onCancel:Z},onFinish:function(){var h=_()(C()().mark(function B(N){return C()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",y(N));case 1:case"end":return H.stop()}},B)}));return function(B){return h.apply(this,arguments)}}(),children:(0,e.jsx)(xr,{})})})},Rn=Tr,He=r(54757),aa=r(38345),Er=function(t){var n=t.type,l=t.onChange,d=(0,f.useState)(),i=A()(d,2),j=i[0],p=i[1];(0,f.useEffect)(function(){p(void 0),l("")},[n]);var x=function(E){return(0,e.jsx)("div",{style:{padding:10,background:"#F8F9FA"},children:(0,e.jsx)(aa.Z,{checked:E.id==(j==null?void 0:j.id),hoverable:!0,bordered:!0,title:(0,e.jsx)(Pe.Z.Text,{ellipsis:!0,style:{width:"150px"},children:E.description}),bodyStyle:{padding:8},onClick:function(){p(E),l(E.fillValue)},children:(0,e.jsx)(it.Z,{code:E.fillValue,language:"sql",height:"15vh",lineNumbers:"off",options:{renderSideBySide:!1,fontSize:9,scrollbar:{vertical:"hidden",horizontal:"hidden"}}})})})};return(0,e.jsx)(aa.Z,{bodyStyle:{padding:0},collapsible:!0,defaultCollapsed:!0,title:(0,e.jsx)("a",{children:(0,a.l)("catalog.useTemplate")}),collapsibleIconRender:function(){return(0,e.jsx)("a",{children:">"})},size:"small",ghost:!0,children:(0,e.jsx)(yn.Rs,{pagination:{pageSize:6,size:"small",showTotal:function(){return(0,e.jsxs)(Pe.Z.Link,{href:"#/registration/document",children:["+ ",(0,a.l)("rc.cc.addConfig")]})}},params:{subtype:n},grid:{gutter:24,column:3},renderItem:x,request:function(E){return(0,Ue.et)(pe.Z.DOCUMENT,c()({},E))}})})},Ir=Er,vt=r(24739),ra=r(90672),kr=r(97462),Dr=r(75594),Or=function(t){var n,l=t.onCancel,d=t.onSubmit,i=t.modalVisible,j=t.title,p=t.values,x=f.useState((n=p.type)!==null&&n!==void 0?n:$.zy.FLINK_SQL),k=A()(x,2),E=k[0],Z=k[1],y=f.useState([]),h=A()(y,2),B=h[0],N=h[1],u=f.useState(""),H=A()(u,2),L=H[0],P=H[1],z=Pn.Z.useForm(),V=A()(z,1),W=V[0],ae=f.useMemo(function(){return{resetForm:function(){return W.resetFields()}}},[W]);(0,f.useEffect)(function(){var R,S=c()(c()({},p),{},{configJson:(R=p.task)===null||R===void 0?void 0:R.configJson});i&&W.resetFields(),W.setFieldsValue(S)},[open,p,W]);var G=function(){(0,ze.Ri)(pe.Z.UDF_TEMPLATE_TREE).then(function(S){var s=[];S==null||S.forEach(function(v){v.value===E&&v.children.forEach(function(O){s.push(O)})}),N(s)})};(0,f.useEffect)(function(){(0,He.Mu)(E)&&G()},[E,W]);var T=function(){ae.resetForm(),Z(""),l()},D=function(S){S.type&&(Z(S.type),W.resetFields(["configJson"]))},K=function(){var R=_()(C()().mark(function S(s){var v,O,m,g;return C()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,W.validateFields();case 2:(0,He.Mu)((v=s.type)!==null&&v!==void 0?v:"")&&s.configJson&&(m=s.configJson.udfConfig.selectKeys,s.configJson.udfConfig.templateId=m[m.length-1]),(0,He.$_)((O=s.type)!==null&&O!==void 0?O:"")?(g={savePointStrategy:0,parallelism:1,envId:-1,step:1,alertGroupId:-1,type:$.Gd.LOCAL,dialect:s.type,statement:L},d(c()(c()(c()({},p),s),{},{task:g}))):d(c()(c()(c()({},p),s),{},{task:{statement:L}}));case 4:case"end":return ne.stop()}},S)}));return function(s){return R.apply(this,arguments)}}(),M=function(){var R=_()(C()().mark(function S(s,v){return C()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!/_/g.test(v)){m.next=4;break}return m.abrupt("return",Promise.reject((0,a.l)("catalog.name.validate.error")));case 4:if(v){m.next=8;break}return m.abrupt("return",Promise.reject((0,a.l)("catalog.name.placeholder")));case 8:return m.abrupt("return",Promise.resolve());case 9:case"end":return m.stop()}},S)}));return function(s,v){return R.apply(this,arguments)}}(),U=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(Pt.Z,{name:"name",label:(0,a.l)("catalog.name"),tooltip:(0,a.l)("catalog.name.tip"),placeholder:(0,a.l)("catalog.name.placeholder"),validateTrigger:["onBlur","onChange","onSubmit"],rules:[{required:!0,validator:M}],width:"xl"}),(0,e.jsx)(ut.Z,{name:"type",label:(0,a.l)("catalog.type"),tooltip:(0,a.l)("catalog.type.tip"),options:Lt.oe,initialValue:Lt.oe[0].options[0].value,disabled:!!p.id,placeholder:(0,a.l)("catalog.type.placeholder"),rules:[{required:!0,message:(0,a.l)("catalog.type.placeholder")}],allowClear:!1,width:"lg"})]}),(0,He.Mu)(E)&&(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(Pt.Z,{name:["configJson","udfConfig","className"],label:(0,a.l)("catalog.udf.className"),placeholder:(0,a.l)("catalog.udf.className.placeholder"),rules:[{required:!0,message:(0,a.l)("catalog.udf.className.placeholder")}],width:"md"}),(0,e.jsx)(Dr.ProFormCascader,{name:["configJson","udfConfig","selectKeys"],label:(0,a.l)("catalog.udf.templateId"),shouldUpdate:function(s,v){return s.type!==v.type},placeholder:(0,a.l)("catalog.udf.templateId.placeholder"),fieldProps:{changeOnSelect:!0,options:B},rules:[{required:!0,message:(0,a.l)("catalog.udf.templateId.placeholder")}],width:"sm"})]}),(0,e.jsx)(ra.Z,{name:"note",label:(0,a.l)("catalog.note"),placeholder:(0,a.l)("catalog.note.placeholder")}),!(0,He.Mu)(E)&&(0,e.jsx)(kr.Z,{name:["type"],children:function(s){var v=s.type;return(0,e.jsx)(Ir,{type:v,onChange:function(m){return P(m)}})}})]})};return(0,e.jsx)(Ln.Y,{title:j,form:W,width:"60%",initialValues:c()({},p),open:i,autoFocusFirstInput:!0,onValuesChange:D,modalProps:{destroyOnClose:!0,maskClosable:!1,okButtonProps:{htmlType:"submit",autoFocus:!0},onCancel:T},onFinish:function(){var R=_()(C()().mark(function S(s){return C()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",K(s));case 1:case"end":return O.stop()}},S)}));return function(S){return R.apply(this,arguments)}}(),children:U()})},la=Or,Zr=r(5075),Lr=r(33076),Pr=Zr.Z.DirectoryTree,Rr=function(t){var n=t.project,l=n.data,d=n.expandKeys,i=n.selectKey,j=t.onNodeClick,p=t.style,x=t.height,k=t.onRightClick,E=t.selectKeyChange,Z=t.onExpand,y=t.dispatch,h=(0,f.useState)(""),B=A()(h,2),N=B[0],u=B[1],H=(0,f.useState)((0,He.I0)(l,N)),L=A()(H,2),P=L[0],z=L[1],V=Mt();(0,f.useEffect)(function(){z((0,He.I0)(l,N))},[N,l]);var W=(0,f.useState)(!0),ae=A()(W,2),G=ae[0],T=ae[1],D=function(s){var v=s.target.value;if(!v){y({type:b.cZ.updateProjectExpandKey,payload:[]}),u(v);return}v=String(v).trim();var O=(0,He.Dd)(P,[]),m=O.map(function(g){return(g==null?void 0:g.name.indexOf(v))>-1?(0,He.pV)(g.key,P):null}).filter(function(g,Y,ne){return g&&ne.indexOf(g)===Y});y({type:b.cZ.updateProjectExpandKey,payload:m}),u(v),T(!0)},K=function(){y({type:b.cZ.updateProjectExpandKey,payload:(0,He.OC)(l)})},M="menu.datastudio.project",U=se()(St[M]),R=function(s,v){var O,m=(O=(0,le.nU)(s,v))===null||O===void 0?void 0:O.treeKey;if(m){var g=(0,He.Dd)(P,[]),Y=g.map(function(ne){return(ne==null?void 0:ne.key)===m?(0,He.pV)(ne.key,P):null}).filter(function(ne,re,I){return ne&&I.indexOf(ne)===re});y({type:b.cZ.updateProjectExpandKey,payload:Y}),T(!0),E([m])}};return U[1].onClick=K,U[2].onClick=function(){return y({type:b.cZ.updateProjectExpandKey,payload:[]})},U[3].onClick=R,V({type:"change",selectKey:M,payload:U}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Lr.Z,{style:{margin:"8px 0px"},placeholder:(0,a.l)("global.search.text"),onChange:D,allowClear:!0}),P.length?(0,e.jsx)(Pr,{style:c()(c()({},p),{},{height:x-40-16,overflowY:"auto"}),className:"treeList",onSelect:function(s,v){return j(v)},onRightClick:k,expandedKeys:d,expandAction:"doubleClick",selectedKeys:i,onExpand:Z,treeData:P}):(0,e.jsx)($e.Z,{className:"code-content-empty",description:(0,a.l)("datastudio.project.create.folder.tip")})]})},Ar=(0,he.connect)(function(o){var t=o.Studio;return{height:t.toolContentHeight,project:t.project}})(Rr),ia=r(52117),Nr={rightActiveKey:"",cutId:0,contextMenuPosition:ia.F,contextMenuOpen:!1,menuItems:[],selectedKeys:[],isLeaf:!1,rightClickedNode:{},isCreateSub:!1,isEdit:!1,isRename:!1,isCreateTask:!1,isCut:!1,value:{}},Kr={taskId:"",upstreamCodes:[],taskPriority:"MEDIUM",failRetryTimes:0,failRetryInterval:0,delayTime:0,timeout:30,timeoutFlag:!1,flag:!1,isCache:!1,timeoutNotifyStrategy:["WARN"],description:""},qi={catalog:"",catalogSelect:[],databaseName:"",databaseId:-1,tableName:"",dialect:"",fragment:!0,envId:-1,engine:"Flink",treeData:[],modalVisit:!1,rowData:{},loading:!1,columnData:[]},Mr=Pe.Z.Text,Fr=function(t){var n=t.dispatch,l=t.project,d=l.expandKeys,i=l.selectKey,j=t.tabs,p=j.panes,x=j.activeKey,k=t.tabs,E=(0,f.useState)(Nr),Z=A()(E,2),y=Z[0],h=Z[1],B=Mt();(0,f.useEffect)(function(){h(function(U){return c()(c()({},U),{},{menuItems:U.isLeaf?(0,Lt.wB)(U.isCut&&U.cutId!==void 0):(0,Lt.g0)(U.isCut&&U.cutId!==void 0)})})},[y.isCut,y.cutId]);var N=function(R){var S=R.node,s=S.isLeaf,v=S.key,O=S.fullInfo,m=R.node,g=R.event;h(function(Y){return c()(c()({},Y),{},{isLeaf:s,menuItems:s?(0,Lt.wB)(Y.isCut&&Y.cutId!==void 0):(0,Lt.g0)(Y.isCut&&Y.cutId!==void 0),contextMenuOpen:!0,contextMenuPosition:c()(c()({},Y.contextMenuPosition),{},{top:g.clientY+5,left:g.clientX+10}),selectedKeys:[v],rightClickedNode:c()(c()({},m),O),value:O})}),n({type:b.cZ.updateProjectSelectKey,payload:[v]})},u=function(R){n({type:b.cZ.updateProjectExpandKey,payload:R})},H=function(R){var S=R.node,s=S.isLeaf,v=S.name,O=S.type,m=S.parentId,g=S.path,Y=S.key,ne=S.taskId;if(h(function(I){return c()(c()({},I),{},{selectedKeys:[Y],contextMenuOpen:!1})}),n({type:b.cZ.updateProjectSelectKey,payload:[Y]}),s){n({type:b.cZ.updateSelectRightKey,payload:(0,He.g1)(O)});var re=(0,He.nN)(O);n({type:b.cZ.updateSelectBottomKey,payload:re}),re===me.Q9.TOOLS_KEY&&n({type:b.cZ.updateSelectBottomSubKey,payload:Rt[re][0].key})}else{n({type:b.cZ.updateProjectExpandKey,payload:[].concat(se()(d),[Y])});return}n({type:b.cZ.addTab,payload:{icon:O,id:m+v,treeKey:Y,breadcrumbLabel:g.slice(0,g.length-1).join("/"),label:v,params:{taskId:ne},type:"project",console:{},subType:O}})},L=function(){h(function(R){return c()(c()({},R),{},{contextMenuOpen:!1})})},P=function(){h(function(R){return c()(c()({},R),{},{isCreateSub:!0})}),L()},z=function(){var U=_()(C()().mark(function R(S){var s;return C()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s={url:"",isLeaf:y.isCreateSub?!1:y.value.isLeaf,parentId:y.isCreateSub?i[0]:y.value.parentId},y.rightActiveKey==="createTask"||y.rightActiveKey==="edit"?(s.url=pe.Z.SAVE_OR_UPDATE_TASK_URL,s.parentId=y.isCreateTask?y.value.id:y.isEdit?y.value.parentId:s.parentId):s.url=pe.Z.SAVE_OR_UPDATE_CATALOGUE_URL,O.next=4,(0,ze.On)(s.url,c()(c()({},S),{},{isLeaf:s.isLeaf,parentId:s.parentId}),function(){},function(){if(n({type:b._X.queryProject}),S.type&&S.type.toLowerCase()===$.zy.FLINKSQLENV&&n({type:b._X.queryEnv}),y.isEdit){var m=S.id,g=(0,le.wN)(p,m);if(g){g.label=S.name;var Y=g.params,ne=Y,re=ne.taskData;re&&(re.name=S.name)}n({type:b.cZ.saveTabs,payload:c()({},t.tabs)}),x===(g==null?void 0:g.key)&&n({type:b.cZ.updateTabsActiveKey,payload:x})}h(function(I){return c()(c()({},I),{},{isCreateSub:!1,isRename:!1,isEdit:!1,isCreateTask:!1,isCut:!1})})});case 4:case"end":return O.stop()}},R)}));return function(S){return U.apply(this,arguments)}}(),V=function(){var U=_()(C()().mark(function R(){var S,s,v,O,m,g,Y,ne;return C()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(S=y.rightClickedNode,s=S.key,v=S.isLeaf,O=S.name,m=S.type,g=y.value,Y=g.taskId,ne=g.task,L(),v){I.next=7;break}return I.next=6,(0,ze.m0)(pe.Z.DELETE_CATALOGUE_BY_ID_URL,s,function(){n({type:b._X.queryProject})});case 6:return I.abrupt("return");case 7:Re.Z.confirm({title:(0,a.l)("datastudio.project.delete.job","",{type:m,name:O}),width:"30%",content:(0,e.jsx)(Mr,{className:"needWrap",type:"danger",children:(0,a.l)("datastudio.project.delete.job.confirm")}),okText:(0,a.l)("button.confirm"),cancelText:(0,a.l)("button.cancel"),onOk:function(){var w=_()(C()().mark(function X(){return C()().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,(0,ze.m0)(pe.Z.DELETE_CATALOGUE_BY_ID_URL,s,function(){var nt=(0,le.wN)(p,s);n({type:b.cZ.removeTag,payload:Y});var Ve=p[p.length>1?p.length-1:0],at=nt.key;at===x&&p.length>=1&&n({type:b.cZ.updateTabsActiveKey,payload:Ve==null?void 0:Ve.key}),p.length===0&&(n({type:b.cZ.updateTabsActiveKey,payload:""}),n({type:b.cZ.updateActiveBreadcrumbTitle,payload:""}))});case 2:n({type:b._X.queryProject});case 3:case"end":return Ne.stop()}},X)}));function J(){return w.apply(this,arguments)}return J}()});case 8:case"end":return I.stop()}},R)}));return function(){return U.apply(this,arguments)}}(),W=function(){var U=_()(C()().mark(function R(){return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:h(function(v){return c()(c()({},v),{},{isRename:!0})}),L();case 2:case"end":return s.stop()}},R)}));return function(){return U.apply(this,arguments)}}(),ae=function(){h(function(R){return c()(c()({},R),{},{isCreateTask:!0})}),L()},G=function(){h(function(R){return c()(c()({},R),{},{isEdit:!0})}),L()},T=function(){var U=_()(C()().mark(function R(){return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ze.vO)(pe.Z.COPY_TASK_URL,(0,a.l)("right.menu.copy"),c()({},y.value),function(){return n({type:b._X.queryProject})});case 2:L();case 3:case"end":return s.stop()}},R)}));return function(){return U.apply(this,arguments)}}(),D=function(){var U=_()(C()().mark(function R(){return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:h(function(v){return c()(c()({},v),{},{cutId:v.rightClickedNode.key,isCut:!0})}),L();case 2:case"end":return s.stop()}},R)}));return function(){return U.apply(this,arguments)}}(),K=function(){var U=_()(C()().mark(function R(){return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ze.Hc)(pe.Z.MOVE_CATALOGUE_URL,(0,a.l)("right.menu.paste"),{originCatalogueId:y.cutId,targetParentId:i[0]},function(){h(function(v){return c()(c()({},v),{},{cutId:void 0,isCut:!1})})});case 2:n({type:b._X.queryProject}),L();case 4:case"end":return s.stop()}},R)}));return function(){return U.apply(this,arguments)}}(),M=function(){var U=_()(C()().mark(function R(S){return C()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h(function(O){return c()(c()({},O),{},{rightActiveKey:S.key})}),v.t0=S.key,v.next=v.t0==="addSubFolder"?4:v.t0==="createTask"?6:v.t0==="delete"?8:v.t0==="renameFolder"?11:v.t0==="edit"?14:v.t0==="exportJson"?16:v.t0==="copy"?17:v.t0==="cut"?20:v.t0==="paste"?23:26;break;case 4:return P(),v.abrupt("break",28);case 6:return ae(),v.abrupt("break",28);case 8:return v.next=10,V();case 10:return v.abrupt("break",28);case 11:return v.next=13,W();case 13:return v.abrupt("break",28);case 14:return G(),v.abrupt("break",28);case 16:return v.abrupt("break",28);case 17:return v.next=19,T();case 19:return v.abrupt("break",28);case 20:return v.next=22,D();case 22:return v.abrupt("break",28);case 23:return v.next=25,K();case 25:return v.abrupt("break",28);case 26:return L(),v.abrupt("break",28);case 28:case"end":return v.stop()}},R)}));return function(S){return U.apply(this,arguments)}}();return(0,e.jsxs)("div",{style:{paddingInline:5},children:[(0,e.jsx)(Ar,{selectKeyChange:function(R){return n({type:b.cZ.updateProjectSelectKey,payload:R})},onRightClick:N,onExpand:u,onNodeClick:function(R){return H(R)}}),(0,e.jsx)(na.Z,{contextMenuPosition:y.contextMenuPosition,open:y.contextMenuOpen,openChange:function(){return h(function(R){return c()(c()({},R),{},{contextMenuOpen:!1})})},items:y.menuItems,onClick:M}),(0,e.jsx)(Rn,{title:(0,a.l)("right.menu.createSubFolder"),values:{},modalVisible:y.isCreateSub,onCancel:function(){return h(function(R){return c()(c()({},R),{},{isCreateSub:!1,value:{}})})},onSubmit:z}),(0,e.jsx)(Rn,{title:(0,a.l)("right.menu.rename"),values:y.value,modalVisible:y.isRename,onCancel:function(){return h(function(R){return c()(c()({},R),{},{isRename:!1,value:{}})})},onSubmit:z}),(0,e.jsx)(la,{title:(0,a.l)("right.menu.createTask"),values:{},modalVisible:y.isCreateTask,onCancel:function(){return h(function(R){return c()(c()({},R),{},{isCreateTask:!1,value:{}})})},onSubmit:z}),Object.keys(y.value).length>0&&(0,e.jsx)(la,{title:(0,a.l)("button.edit"),values:y.value,modalVisible:y.isEdit,onCancel:function(){return h(function(R){return c()(c()({},R),{},{isEdit:!1,value:{}})})},onSubmit:z})]})},wr=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,project:t.project}})(Fr),_r=r(46155),Br=r(98165),zr=r(27484),An=r.n(zr),Ur=function(t){var n=t.tabs,l=n.panes,d=n.activeKey,i=(0,le.r5)(l,d),j=(0,he.useRequest)({url:pe.Z.GET_JOB_VERSION,params:{taskId:i==null?void 0:i.id}});(0,f.useEffect)(function(){i!=null&&i.id&&j.run()},[i,d]);var p=(0,f.useState)(!1),x=A()(p,2),k=x[0],E=x[1],Z=(0,f.useState)(),y=A()(Z,2),h=y[0],B=y[1],N=function(){var P=(0,a.l)("pages.datastudio.label.version.leftTitle","",{versionId:h==null?void 0:h.versionId,createTime:An()(h==null?void 0:h.createTime).format("YYYY-MM-DD HH:mm:ss")}),z=(0,a.l)("pages.datastudio.label.version.rightTitle","",{createTime:An()(i==null?void 0:i.createTime).format("YYYY-MM-DD HH:mm:ss"),updateTime:An()(i==null?void 0:i.updateTime).format("YYYY-MM-DD HH:mm:ss")}),V=h==null?void 0:h.statement,W=i==null?void 0:i.statement;return(0,e.jsxs)(Re.Z,{title:(0,a.l)("pages.datastudio.label.version.diff"),open:k,destroyOnClose:!0,width:"85%",bodyStyle:{height:"70vh"},onCancel:function(){return E(!1)},footer:[(0,e.jsx)(tt.ZP,{onClick:function(){return E(!1)},children:(0,a.l)("button.close")},"back")],children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,e.jsxs)(Ze.Z,{color:"green",style:{height:"20px"},children:[(0,e.jsx)(Hn.Z,{})," ",P]}),(0,e.jsxs)(Ze.Z,{color:"blue",style:{height:"20px"},children:[(0,e.jsx)(Br.Z,{spin:!0})," ",z]})]}),(0,e.jsx)("br",{}),(0,e.jsx)(f.StrictMode,{children:(0,e.jsx)(Qt.SV,{height:"95%",options:{readOnly:!0,selectOnLineNumbers:!0,lineDecorationsWidth:20,mouseWheelZoom:!0,automaticLayout:!0},language:"sql",original:V,modified:W,theme:(0,ot.x_)()})})]})},u=function(){var L=_()(C()().mark(function P(z){return C()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:Re.Z.confirm({title:(0,a.l)("pages.datastudio.label.version.rollback.flinksql"),content:(0,a.l)("pages.datastudio.label.version.rollback.flinksqlConfirm","",{versionId:z.versionId}),okText:(0,a.l)("button.confirm"),cancelText:(0,a.l)("button.cancel"),onOk:function(){var ae=_()(C()().mark(function T(){var D;return C()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return D={taskId:z.taskId,versionId:z.versionId},M.next=3,(0,ze.vO)("api/task/rollbackTask",(0,a.l)("pages.datastudio.label.version.rollback.flinksql"),D);case 3:case"end":return M.stop()}},T)}));function G(){return ae.apply(this,arguments)}return G}()});case 1:case"end":return W.stop()}},P)}));return function(z){return L.apply(this,arguments)}}(),H=function(){var L=_()(C()().mark(function P(z){return C()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,ze.m0)(pe.Z.GET_JOB_VERSION,z.id);case 2:j.run();case 3:case"end":return W.stop()}},P)}));return function(z){return L.apply(this,arguments)}}();return(0,e.jsxs)(Gn.Z,{children:[(0,e.jsx)(_r.Z,{loading:j.loading,data:j.data,onDeleteListen:H,onRollBackListen:u,onSelectListen:function(P){B(P),E(!0)}}),N()]})},Vr=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(Ur),$r=r(74435),Hr=r(30881),Gr=r(48118),Jr=[{key:"closeAll",label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Hr.Z,{}),(0,a.l)("right.menu.closeAll")]})},{key:"closeOther",label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Gr.Z,{className:"blue-icon"}),(0,a.l)("right.menu.closeOther")]})}],Wr=[{label:(0,a.l)("global.savepoint.strategy.disabled"),value:0},{label:(0,a.l)("global.savepoint.strategy.latest"),value:1},{label:(0,a.l)("global.savepoint.strategy.earliest"),value:2},{label:(0,a.l)("global.savepoint.strategy.custom"),value:3}],en=r(57857),oa=r(13838),sa=r(57900),Yr=r(5392),Qr=function(){var t=[];return t.push({label:"Local",value:$.Gd.LOCAL},{label:"Standalone",value:$.Gd.STANDALONE},{label:"Yarn Session",value:$.Gd.YARN_SESSION},{label:"Yarn Per-Job",value:$.Gd.YARN_PER_JOB},{label:"Yarn Application",value:$.Gd.YARN_APPLICATION},{label:"Kubernetes Session",value:$.Gd.KUBERNETES_SESSION},{label:"Kubernetes Application",value:$.Gd.KUBERNETES_APPLICATION},{label:"Kubernetes Operator Application",value:$.Gd.KUBERNETES_APPLICATION_OPERATOR}),t},Xr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=[];n=n.filter(function(x){return x.type===t&&x.status===1&&(!x.autoRegisters||x.clusterConfigurationId)});var d=wt()(n),i;try{for(d.s();!(i=d.n()).done;){var j=i.value,p=(0,e.jsxs)(q.Z,{size:"small",children:[(0,e.jsx)(Ze.Z,{color:j.enabled?"processing":"error",children:j.type}),j.name]});l.push({label:p,value:j.id,key:j.id})}}catch(x){d.e(x)}finally{d.f()}return l},qr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];[$.Gd.YARN_APPLICATION,$.Gd.YARN_PER_JOB].includes(t)?n=n.filter(function(x){return[$.Gd.YARN_APPLICATION,$.Gd.YARN_PER_JOB].includes(x.type)&&x.isAvailable}):n=n.filter(function(x){return x.type===t&&x.isAvailable});var l=[],d=wt()(n),i;try{for(d.s();!(i=d.n()).done;){var j=i.value,p=(0,e.jsx)(xt.Td,{children:(0,e.jsxs)(q.Z,{size:"small",children:[(0,e.jsx)(Ze.Z,{color:j.enabled?"processing":"error",children:j.type}),j.name]})});l.push({label:p,value:j.id,key:j.id})}}catch(x){d.e(x)}finally{d.f()}return l},el=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{status:"error"}),(0,a.l)("button.disable")]}),value:-1,key:-1}],l=wt()(t),d;try{for(l.s();!(d=l.n()).done;){var i=d.value,j=(0,e.jsx)(xt.Td,{children:(0,e.jsxs)(q.Z,{size:"small",children:[i.enabled?(0,e.jsx)(Qe.Z,{status:"success"}):(0,e.jsx)(Qe.Z,{status:"error"}),(0,en.b)(i.dialect,20),i.name,i.fragment?(0,e.jsx)(Yr.Z,{}):void 0]})});n.push({label:j,value:i.id,key:i.id,disabled:!i.enabled})}}catch(p){l.e(p)}finally{l.f()}return n},tl=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[{label:(0,e.jsxs)(xt.Td,{children:[(0,oa.y)(sa.X.GROUP,20),(0,a.l)("button.disable")]}),value:-1,key:-1}];return t.forEach(function(l){n.push({label:(0,e.jsxs)(xt.Td,{children:[(0,oa.y)(sa.X.GROUP,20),l.name]}),value:l.id,key:l.id})}),n},ua=function(t){var n=t-50;return n>0?n/2:300},nl=function(t){return[$.Gd.YARN_SESSION,$.Gd.KUBERNETES_SESSION,$.Gd.STANDALONE].includes(t)},al=function(t){return[$.Gd.YARN_APPLICATION,$.Gd.YARN_PER_JOB,$.Gd.KUBERNETES_APPLICATION,$.Gd.KUBERNETES_APPLICATION_OPERATOR].includes(t)},rl=r(27227),_t=r(56717),Tt=r(31199),Et=r(52688),ll=r(17186),il=r(38925),Nn=r(4584),ol=r(96486),sl=function(t){var n,l=t.sessionCluster,d=t.clusterConfiguration,i=t.dispatch,j=t.tabs,p=j.panes,x=j.activeKey,k=t.env,E=t.group,Z=t.rightContainer,y=t.flinkConfigOptions,h=(0,le.r5)(p,x),B=(0,Nn.Z)(),N=A()(B,1),u=N[0],H=(0,f.useState)(h==null?void 0:h.type),L=A()(H,2),P=L[0],z=L[1];(0,f.useEffect)(function(){i({type:b._X.queryFlinkConfigOptions}),i({type:rl.e1.queryAlertGroup}),z(h==null?void 0:h.type),u.setFieldsValue(c()(c()({},h),{},{type:h==null?void 0:h.type}))},[h]);var V=function(ae,G){var T=(0,le.nU)(p,x);(0,le.VZ)(T)&&(Object.keys(ae).forEach(function(D){D==="configJson"?(T.params.taskData.configJson||(T.params.taskData.configJson={}),Object.keys(ae[D]).forEach(function(K){T.params.taskData[D][K]=G[D][K]})):T.params.taskData[D]=G[D]}),T.isModified=!0,i({type:b.cZ.saveTabs,payload:c()({},t.tabs)}))};return(0,e.jsxs)("div",{style:{maxHeight:Z.height,marginTop:10},children:[(h==null?void 0:h.step)===Me.Z4.PUBLISH&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(il.Z,{message:(0,a.l)("pages.datastudio.label.jobConfig.watermark"),type:"info",showIcon:!0})}),(0,e.jsxs)(qt.A,{size:"middle",initialValues:{type:P,envId:-1,parallelism:1,savePointStrategy:0,alertGroupId:-1},className:"data-studio-form",style:{paddingInline:"15px",overflow:"scroll",marginTop:5},form:u,submitter:!1,layout:"vertical",disabled:(h==null?void 0:h.step)===Me.Z4.PUBLISH,onValuesChange:(0,ol.debounce)(V,500),syncToInitialValues:!0,children:[(0,e.jsx)(ut.Z,{name:"type",label:(0,a.l)("global.table.execmode"),tooltip:(0,a.l)("pages.datastudio.label.jobConfig.execmode.tip"),rules:[{required:!0,message:(0,a.l)("pages.datastudio.label.jobConfig.execmode.tip")}],options:Qr(),fieldProps:{onChange:function(ae){z(ae),u.resetFields(["clusterId","clusterConfigurationId"])}},allowClear:!1}),P!==$.Gd.LOCAL&&(0,e.jsxs)(e.Fragment,{children:[nl(P)&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ut.Z,{style:{width:"100%"},placeholder:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip1","",{type:h==null?void 0:h.type}),label:(0,a.l)("pages.datastudio.label.jobConfig.cluster"),tooltip:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip1","",{type:h==null?void 0:h.type}),rules:[{required:!0,message:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip1","",{type:h==null?void 0:h.type})}],name:"clusterId",options:Xr(P,l)})}),al(P)&&(0,e.jsx)(ut.Z,{name:"clusterConfigurationId",placeholder:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip1","",{type:P}),label:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig"),tooltip:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip2","",{type:P}),rules:[{required:!0,message:(0,a.l)("pages.datastudio.label.jobConfig.clusterConfig.tip1","",{type:P})}],options:qr(P,d),allowClear:!1})]}),(h==null?void 0:h.dialect)&&(h==null||(n=h.dialect)===null||n===void 0?void 0:n.toLowerCase())===$.zy.FLINK_SQL&&(0,e.jsx)(ut.Z,{name:"envId",label:(0,a.l)("pages.datastudio.label.jobConfig.flinksql.env"),tooltip:(0,a.l)("pages.datastudio.label.jobConfig.flinksql.env.tip1"),options:el(k),rules:[{required:!0,message:(0,a.l)("pages.datastudio.label.jobConfig.flinksql.env.tip1")}],showSearch:!0,allowClear:!1}),(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(Tt.Z,{width:"xs",label:(0,a.l)("pages.datastudio.label.jobConfig.parallelism"),name:"parallelism",tooltip:(0,a.l)("pages.datastudio.label.jobConfig.parallelism.tip"),max:9999,min:1}),(0,e.jsx)(Et.Z,c()({label:(0,a.l)("pages.datastudio.label.jobConfig.fragment"),name:"fragment",valuePropName:"checked",tooltip:{title:(0,a.l)("pages.datastudio.label.jobConfig.fragment.tip"),icon:(0,e.jsx)(_t.Z,{})}},(0,$.uP)())),(0,e.jsx)(Et.Z,c()({label:(0,a.l)("pages.datastudio.label.jobConfig.batchmode"),name:"batchModel",valuePropName:"checked",tooltip:{title:(0,a.l)("pages.datastudio.label.jobConfig.batchmode.tip"),icon:(0,e.jsx)(_t.Z,{})}},(0,$.uP)()))]}),(0,e.jsx)(ut.Z,{label:(0,a.l)("pages.datastudio.label.jobConfig.savePointStrategy"),name:"savePointStrategy",tooltip:(0,a.l)("pages.datastudio.label.jobConfig.savePointStrategy.tip"),options:Wr,allowClear:!1}),(h==null?void 0:h.savePointStrategy)===3&&(0,e.jsx)(Pt.Z,{label:(0,a.l)("pages.datastudio.label.jobConfig.savePointpath"),name:"savePointPath",tooltip:(0,a.l)("pages.datastudio.label.jobConfig.savePointpath.tip1"),placeholder:(0,a.l)("pages.datastudio.label.jobConfig.savePointpath.tip2")}),(0,e.jsx)(ut.Z,{label:(0,a.l)("pages.datastudio.label.jobConfig.alertGroup"),name:"alertGroupId",placeholder:(0,a.l)("pages.datastudio.label.jobConfig.alertGroup.tip"),options:tl(E),allowClear:!1}),(0,e.jsx)(ll.u,{label:(0,a.l)("pages.datastudio.label.jobConfig.other"),tooltip:(0,a.l)("pages.datastudio.label.jobConfig.other.tip"),name:["configJson","customConfig"],copyIconProps:!1,creatorButtonProps:{style:{width:"100%"},creatorButtonText:(0,a.l)("pages.datastudio.label.jobConfig.addConfig")},children:(0,e.jsx)(vt.UW,{children:(0,e.jsxs)(q.Z,{align:"baseline",children:[(0,e.jsx)($r.Z,{name:"key",width:ua(Z.width)+100,mode:"single",allowClear:!0,showSearch:!0,placeholder:(0,a.l)("pages.datastudio.label.jobConfig.addConfig.params"),options:y}),(0,e.jsx)(Pt.Z,{name:"value",width:ua(Z.width)-100,placeholder:(0,a.l)("pages.datastudio.label.jobConfig.addConfig.value")})]},"config")})})]})]})},ul=(0,he.connect)(function(o){var t=o.Studio,n=o.Alert;return{sessionCluster:t.sessionCluster,clusterConfiguration:t.clusterConfiguration,rightContainer:t.rightContainer,tabs:t.tabs,env:t.env,group:n.group,flinkConfigOptions:t.flinkConfigOptions}})(sl),bt=r(11198),dl=r(95462),cl=function(t){var n=t.tabs,l=n.panes,d=n.activeKey,i=(0,le.r5)(l,d);return(0,e.jsx)("div",{style:{paddingInline:8},children:(0,e.jsxs)(bt.Z,{bordered:!0,size:"small",column:1,children:[(0,e.jsx)(bt.Z.Item,{label:(0,a.l)("pages.datastudio.label.jobInfo.id"),children:(0,e.jsx)(dl.Z,{copyable:!0,children:i==null?void 0:i.id})}),(0,e.jsx)(bt.Z.Item,{label:(0,a.l)("pages.datastudio.label.jobInfo.name"),children:i==null?void 0:i.name}),(0,e.jsx)(bt.Z.Item,{label:(0,a.l)("pages.datastudio.label.jobInfo.dialect"),children:i==null?void 0:i.dialect}),(0,e.jsx)(bt.Z.Item,{label:(0,a.l)("pages.datastudio.label.jobInfo.versionId"),children:i==null?void 0:i.versionId})]})})},fl=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(cl),vl=function(t){var n,l=t.dispatch,d=t.tabs,i=d.panes,j=d.activeKey,p=t.databaseData,x=(0,Nn.Z)(),k=A()(x,1),E=k[0],Z=(0,le.r5)(i,j),y={},h=p;h.filter(function(N){return N.type.toLowerCase()===(Z==null?void 0:Z.dialect.toLowerCase())}).forEach(function(N){y[N.id]=(0,e.jsxs)(xt.Td,{children:[(0,e.jsx)(Ze.Z,{color:N.enabled?"processing":"error",children:N.type},N.id),N.name]})}),E.setFieldsValue(c()(c()({},Z),{},{databaseId:String((n=Z==null?void 0:Z.databaseId)!==null&&n!==void 0?n:"")}));var B=function(u,H){for(var L=0;L<i.length;L++)if(i[L].key===j){for(var P in u){if(P==="databaseId"){i[L].params.taskData[P]=Number(H[P]);continue}i[L].params.taskData[P]=H[P]}break}l({type:b.cZ.saveTabs,payload:c()({},t.tabs)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(qt.A,{initialValues:{maxRowNum:100},style:{padding:"10px"},form:E,submitter:!1,layout:"vertical",onValuesChange:B,children:[(0,e.jsx)(vt.UW,{children:(0,e.jsx)(ut.Z,{width:"lg",name:"databaseId",label:(0,a.l)("pages.datastudio.label.execConfig.selectDatabase"),valueEnum:y,initialValue:1,placeholder:"Please select a country",rules:[{required:!0,message:"Please select your country!"}]})}),(0,e.jsx)(vt.UW,{children:(0,e.jsx)(Tt.Z,{width:"xs",label:(0,a.l)("pages.datastudio.label.execConfig.maxrow"),name:"maxRowNum",tooltip:(0,a.l)("pages.datastudio.label.execConfig.maxrow.tip"),min:1,max:9999})})]})})},hl=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,databaseData:t.database.dbData}})(vl),ml=function(t){var n=t.dispatch,l=t.tabs,d=l.panes,i=l.activeKey,j=(0,Nn.Z)(),p=A()(j,1),x=p[0],k=(0,le.r5)(d,i);x.setFieldsValue(k);var E=function(y,h){for(var B=0;B<d.length;B++)if(d[B].key===i){for(var N in y)d[B].params.taskData[N]=h[N];break}n({type:b.cZ.saveTabs,payload:c()({},t.tabs)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(qt.A,{initialValues:{maxRowNum:100},style:{padding:"10px"},form:x,submitter:!1,layout:"vertical",onValuesChange:E,children:[(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(Et.Z,c()({label:(0,a.l)("pages.datastudio.label.execConfig.changelog"),name:"useChangeLog",tooltip:{title:(0,a.l)("pages.datastudio.label.execConfig.changelog.tip"),icon:(0,e.jsx)(_t.Z,{})}},(0,$.uP)())),(0,e.jsx)(Et.Z,c()({label:(0,a.l)("pages.datastudio.label.execConfig.autostop"),name:"useAutoCancel",tooltip:{title:(0,a.l)("pages.datastudio.label.execConfig.autostop.tip"),icon:(0,e.jsx)(_t.Z,{})}},(0,$.uP)()))]}),(0,e.jsx)(vt.UW,{children:(0,e.jsx)(Tt.Z,{width:"xs",label:(0,a.l)("pages.datastudio.label.execConfig.maxrow"),name:"maxRowNum",tooltip:(0,a.l)("pages.datastudio.label.execConfig.maxrow.tip"),min:1,max:9999})})]})})},gl=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(ml),pl=function(t){var n=t.tabs,l=n.panes,d=n.activeKey,i=(0,le.nU)(l,d);return(i==null?void 0:i.subType)===b._j.flinkSql?(0,e.jsx)(gl,{}):(0,e.jsx)(hl,{})},yl=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(pl),bl=r(88028),da=r(85265),Cl=function(t){var n,l,d=t.tabs,i=d.panes,j=d.activeKey,p=(0,le.r5)(i,j),x=(0,f.useState)(),k=A()(x,2),E=k[0],Z=k[1],y=(0,f.useRef)();(n=y.current)===null||n===void 0||(l=n.reloadAndRest)===null||l===void 0||l.call(n);var h=[{title:(0,a.l)("pages.task.savePointPath"),dataIndex:"path",hideInForm:!0,hideInSearch:!0},{title:(0,a.l)("global.table.createTime"),dataIndex:"createTime",valueType:"dateTime",hideInForm:!0,hideInSearch:!0,render:function(N,u){return(0,e.jsx)("a",{onClick:function(){return Z(u)},children:N})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(bl.Z,{actionRef:y,rowKey:"id",request:function(N,u,H){return(0,Ue.M2)(pe.Z.GET_SAVEPOINT_LIST,c()(c()({},N),{},{sorter:u,filter:H}))},params:{taskId:p.id},columns:h,search:!1}),(0,e.jsx)(da.Z,{width:600,open:!!E,onClose:function(){Z(void 0)},closable:!1,children:(E==null?void 0:E.name)&&(0,e.jsx)(Ce.vY,{column:2,title:E==null?void 0:E.name,request:_()(C()().mark(function B(){return C()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",{data:E||{}});case 1:case"end":return u.stop()}},B)})),params:{id:E==null?void 0:E.name},columns:h})})]})},jl=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(Cl),Ge=r(81029),ca=r(9020),Sl=r(43425),xl=r(52108),Tl=r(32319),fa=r(13923),El=r(37268),Il=r(70101),va=r(26522),ha=r(40194),ma=r(56424),ga=[{auth:Ge.k5.DATA_STUDIO_LEFT_PROJECT,key:me.e5.PROJECT_KEY,icon:(0,e.jsx)(ca.Z,{}),label:(0,a.l)(me.e5.PROJECT_KEY),children:(0,e.jsx)(wr,{})},{auth:Ge.k5.DATASTUDIO_LEFT_CATALOG,key:me.e5.CATALOG_KEY,icon:(0,e.jsx)(Xt.Z,{}),label:(0,a.l)(me.e5.CATALOG_KEY),children:(0,e.jsx)(dr,{}),isShow:function(t,n){return(t===b.z6.project||t===b.z6.metadata)&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKJAR&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV}},{auth:Ge.k5.DATASTUDIO_LEFT_DATASOURCE,key:me.e5.DATASOURCE_KEY,icon:(0,e.jsx)(ea.Z,{}),label:(0,a.l)(me.e5.DATASOURCE_KEY),children:(0,e.jsx)(mr,{})},{auth:Ge.k5.DATASTUDIO_LEFT_GLOBAL_VARIABLE,key:me.e5.FRAGMENT_KEY,icon:(0,e.jsx)(Tn.Z,{}),label:(0,a.l)(me.e5.FRAGMENT_KEY),children:(0,e.jsx)(jr,{}),isShow:function(t,n){return t===b.z6.project&&!(0,_e.e3)(n!=null?n:"")&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA}}],Kn=[{auth:Ge.k5.DATASTUDIO_RIGHT_JOB_CONFIG,key:me._d.JOB_CONFIG_KEY,icon:(0,e.jsx)(Sl.Z,{}),label:(0,a.l)(me._d.JOB_CONFIG_KEY),children:(0,e.jsx)(ul,{}),isShow:function(t,n){return t===b.z6.project&&(b._j.flinkSql===n||b._j.flinkJar===n)}},{auth:Ge.k5.DATASTUDIO_RIGHT_PREVIEW_CONFIG,key:me._d.PREVIEW_CONFIG_KEY,icon:(0,e.jsx)(xl.Z,{}),label:(0,a.l)(me._d.PREVIEW_CONFIG_KEY),children:(0,e.jsx)(yl,{}),isShow:function(t,n){return t===b.z6.project&&b._j.flinkSql===n||(0,_e.e3)(n!=null?n:"")}},{auth:Ge.k5.DATASTUDIO_RIGHT_SAVE_POINT,key:me._d.SAVEPOINT_KEY,icon:(0,e.jsx)(Tl.Z,{}),label:(0,a.l)(me._d.SAVEPOINT_KEY),children:(0,e.jsx)(jl,{}),isShow:function(t,n){return t===b.z6.project&&b._j.flinkSql===n}},{auth:Ge.k5.DATASTUDIO_RIGHT_HISTORY_VISION,key:me._d.HISTORY_VISION_KEY,icon:(0,e.jsx)(fa.Z,{}),label:(0,a.l)(me._d.HISTORY_VISION_KEY),children:(0,e.jsx)(Vr,{}),isShow:function(t,n){return t===b.z6.project&&b._j.flinkSql===n}},{auth:Ge.k5.DATASTUDIO_RIGHT_JOB_INFO,key:me._d.JOB_INFO_KEY,icon:(0,e.jsx)(_t.Z,{}),label:(0,a.l)(me._d.JOB_INFO_KEY),children:(0,e.jsx)(fl,{}),isShow:function(t){return t===b.z6.project}}],pa=[{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_CONSOLE,key:me.Q9.CONSOLE_KEY,icon:(0,e.jsx)(El.Z,{}),label:(0,a.l)(me.Q9.CONSOLE_KEY),children:(0,e.jsx)(fn,{}),isShow:function(t,n){return t===b.z6.project&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA}},{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_RESULT,key:me.Q9.RESULT_KEY,icon:(0,e.jsx)(Il.Z,{}),label:(0,a.l)(me.Q9.RESULT_KEY),children:(0,e.jsx)(Va,{}),isShow:function(t,n){return t===b.z6.project&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKJAR&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA}},{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_LINEAGE,key:me.Q9.LINEAGE_KEY,icon:(0,e.jsx)(va.Z,{}),label:(0,a.l)(me.Q9.LINEAGE_KEY),children:(0,e.jsx)(_a,{}),isShow:function(t,n){return t===b.z6.project&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKJAR&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA}},{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_HISTORY,key:me.Q9.HISTORY_KEY,icon:(0,e.jsx)(fa.Z,{}),label:(0,a.l)(me.Q9.HISTORY_KEY),children:(0,e.jsx)(Ka,{}),isShow:function(t,n){return t===b.z6.project&&!(0,_e.e3)(n!=null?n:"")&&(n==null?void 0:n.toLowerCase())!==$.zy.FLINKSQLENV&&(n==null?void 0:n.toLowerCase())!==$.zy.SCALA&&(n==null?void 0:n.toLowerCase())!==$.zy.PYTHON_LONG&&(n==null?void 0:n.toLowerCase())!==$.zy.JAVA}},{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_TABLE_DATA,key:me.Q9.TABLE_DATA_KEY,icon:(0,e.jsx)(Xt.Z,{}),label:(0,a.l)(me.Q9.TABLE_DATA_KEY),children:(0,e.jsx)(e.Fragment,{}),isShow:function(t,n){return t===b.z6.project&&(n==null?void 0:n.toLowerCase())===$.zy.FLINK_SQL}},{auth:Ge.k5.DATASTUDIO_LEFT_BOTTOM_TOOL,key:me.Q9.TOOLS_KEY,icon:(0,e.jsx)(ha.Z,{}),label:(0,a.l)(me.Q9.TOOLS_KEY),children:(0,e.jsx)(e.Fragment,{})}],Rt={"menu.datastudio.tool":[{key:"menu.datastudio.tool.text-comparison",icon:(0,e.jsx)(ha.Z,{}),label:(0,a.l)("menu.datastudio.tool.text-comparison"),children:(0,e.jsx)(Wa,{})},{key:"menu.datastudio.tool.jsonToSql",icon:(0,e.jsx)(ma.Z,{}),label:(0,a.l)("menu.datastudio.tool.jsonToSql"),children:(0,e.jsx)(Ga,{})}]},kl={},Dl=r(96330);function Ol(o){return Mn.apply(this,arguments)}function Mn(){return Mn=_()(C()().mark(function o(t){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,Ue.M2)("api/printTable/getPrintTables",{statement:t}));case 1:case"end":return l.stop()}},o)})),Mn.apply(this,arguments)}var Zl=function(t){var n=t.style,l=t.title,d=(0,f.useState)(""),i=A()(d,2),j=i[0],p=i[1],x=(0,he.useModel)("Sse",function(B){return{subscribeTopic:B.subscribeTopic}}),k=x.subscribeTopic,E=(0,f.useState)(""),Z=A()(E,2),y=Z[0],h=Z[1];return(0,f.useEffect)(function(){if(l){h(l.tableName);var B="".concat(Me.Lu.PRINT_TABLE,"/").concat(l.fullTableName);return k([B],function(N){p(function(u){return u+`
`+N.data})})}},[]),(0,e.jsx)(Dl.Z,{value:j,style:{width:n.width,height:n.height}})},Ll=function(){var o=_()(C()().mark(function t(n,l,d,i){var j,p,x,k,E;return C()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(j=d==null?void 0:d.statement,j){y.next=3;break}return y.abrupt("return");case 3:return p=n.map(function(h){return h.label}),y.next=6,Ol(j);case 6:x=y.sent,k=x.data.filter(function(h){return!p.includes(h.tableName)}),Re.Z.confirm({title:(0,a.l)("pages.datastudio.print.table.inputTableName"),content:(0,e.jsx)(Xn.default,{defaultValue:"",style:{width:"90%"},onChange:function(B,N){E={tableName:N.label,fullTableName:N.value}},options:k.map(function(h){return{label:h.tableName,value:h.fullTableName}})}),onOk:function(){n.push({key:l+"/"+E.tableName,label:E.tableName,children:(0,e.jsx)(Zl,{title:E,style:{width:"100%",height:"100%"}})}),i()},zIndex:1e3});case 9:case"end":return y.stop()}},t)}));return function(n,l,d,i){return o.apply(this,arguments)}}(),Fn=Je()({},me.Q9.TABLE_DATA_KEY,{key:"add table data",onAdd:function(){var o=_()(C()().mark(function n(l,d,i,j){return C()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Ll(l,d,i,j);case 2:case"end":return x.stop()}},n)}));function t(n,l,d,i){return o.apply(this,arguments)}return t}()}),ya=r(28459),Pl=function(t){var n,l,d,i=t.dispatch,j=t.size,p=t.bottomContainer,x=t.height,k=t.tabs,E=k.activeKey,Z=k.panes,y=(0,le.r5)(Z,E),h=(n=y==null?void 0:y.id)!==null&&n!==void 0?n:0,B=(0,f.useState)(Object.keys(Fn).map(function(S){return Je()({},S,[])}).reduce(function(S,s){return c()(c()({},S),s)},{})),N=A()(B,2),u=N[0],H=N[1],L=((l=Rt[p.selectKey])!==null&&l!==void 0?l:[]).map(function(S){return{key:p.selectKey+"/"+S.key,label:(0,e.jsxs)("span",{children:[S.icon,S.label]})}});(0,f.useEffect)(function(){H(c()(c()({},u),{},Je()({},p.selectKey,[])))},[h,p.selectKey]);var P=function(){var s,v=(s=u==null?void 0:u[p.selectKey])!==null&&s!==void 0?s:[];H(c()(c()({},u),{},Je()({},p.selectKey,se()(v))))},z=document.documentElement.clientWidth-b.t3.sideWidth*2,V=function(){i({type:b.cZ.updateSelectBottomKey,payload:""})},W=function(s){i({type:b.cZ.updateBottomHeight,payload:s})},ae=function(s){i({type:b.cZ.updateCenterContentHeight,payload:s})},G=function(s){i({type:b.cZ.updateSelectBottomSubKey,payload:s})},T=function(s){i({type:b.cZ.updateSelectBottomKey,payload:s})},D=function(s){i({type:b.cZ.updateToolContentHeight,payload:s})},K=function(){return Object.values(Object.keys(Rt).map(function(s){return Rt[s].map(function(v){return c()(c()({},v),{},{key:s+"/"+v.key})})})).flatMap(function(s){return s})},M=function(s,v,O){var m=document.documentElement.clientHeight-b.t3.headerHeight-b.t3.headerNavHeight-b.t3.footerHeight-b.t3.otherHeight-O.offsetHeight;W(O.offsetHeight),ae(m),D(m-b.t3.leftMargin)},U=function(){var s=function(m){G(m.split("/")[1])},v=function(){var O=_()(C()().mark(function m(g,Y){var ne,re;return C()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:w.t0=Y,w.next=w.t0==="add"?3:w.t0==="remove"?6:9;break;case 3:return w.next=5,Fn[p.selectKey].onAdd((ne=u==null?void 0:u[p.selectKey])!==null&&ne!==void 0?ne:[],p.selectKey,y,P);case 5:return w.abrupt("break",9);case 6:return re=u==null?void 0:u[p.selectKey].filter(function(J){return J.key!==g}),H(c()(c()({},u),{},Je()({},p.selectKey,re))),w.abrupt("break",9);case 9:case"end":return w.stop()}},m)}));return function(g,Y){return O.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(qe.Z,{style:{height:"32px",display:"-webkit-box"},items:L,type:"card",onChange:function(m){G(m.split("/")[1])},activeKey:p.selectKey+"/"+p.selectSubKey[p.selectKey],size:"small",tabPosition:"top"}),Fn[p.selectKey]&&(0,e.jsx)(qe.Z,{style:{height:"32px",display:"-webkit-box"},items:u==null?void 0:u[p.selectKey].map(function(O){return{key:O.key,label:O.label}}),onEdit:v,activeKey:p.selectKey+"/"+p.selectSubKey[p.selectKey],onChange:s,type:"editable-card",size:"small",tabPosition:"top"})]})},R=function(){var s;return[].concat(se()(pa.filter(function(v){var O;if(!v.isShow)return!0;if(parseInt(E)<0)return b.z6.None;var m=Z.find(function(Y){return Y.key===E}),g=v.isShow((O=m==null?void 0:m.type)!==null&&O!==void 0?O:b.z6.None,m==null?void 0:m.subType);return g}).map(function(v){return c()(c()({},v),{},{key:v.key+"/"})})),se()(K()),se()((s=u==null?void 0:u[p.selectKey])!==null&&s!==void 0?s:[])).map(function(v){return c()(c()({},v),{},{children:(0,e.jsx)(Oe,{height:t.height-b.t3.leftMargin,children:v.children})})})};return(0,e.jsx)(We,{title:(0,e.jsx)(ya.ZP,{theme:{components:{Tabs:{horizontalMargin:"0",cardPaddingSM:"6px",horizontalItemPadding:"0"}}},children:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Se,{children:(0,a.l)(p.selectKey)}),U()]})}),visible:p.selectKey,style:{zIndex:999,height:x,marginTop:0,position:"fixed",bottom:b.t3.footerHeight},defaultSize:{width:"100%",height:x},minHeight:b.t3.midMargin,maxHeight:j.contentHeight-40,onResize:function(s,v,O){return M(s,v,O)},btnGroup:(d=kl[p.selectKey])===null||d===void 0?void 0:d.map(function(S){return(0,e.jsx)(mt.Z,{icon:S.icon,onClick:_()(C()().mark(function s(){var v,O,m;return C()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return m=(v=u==null?void 0:u[p.selectKey])!==null&&v!==void 0?v:[],Y.next=3,(O=S.onClick)===null||O===void 0?void 0:O.call(S,m,p.selectKey,y,P);case 3:P();case 4:case"end":return Y.stop()}},s)}))},S.key)}),enable:{top:!0},handlerMinimize:V,maxWidth:z,children:(0,e.jsx)(qe.Z,{activeKey:p.selectKey+"/"+(p.selectSubKey[p.selectKey]?p.selectSubKey[p.selectKey]:""),items:R(),tabBarStyle:{display:"none"}})})},Rl=(0,he.connect)(function(o){var t=o.Studio;return{bottomContainer:t.bottomContainer,tabs:t.tabs}})(Pl),Al=r(84674),Nl=r(38703),Kl=function(t){var n=t.visible,l=t.onCancel,d=t.onOk,i=t.value;return(0,e.jsx)(Re.Z,{title:i!=null&&i.taskId?"Job ".concat(i==null?void 0:i.jobName," is running"):"No job running",open:n,onOk:d,width:"50%",centered:!0,onCancel:l,footer:null,children:(0,e.jsx)(q.Z,{direction:"vertical",style:{width:"100%"},children:(0,e.jsxs)(In.Z,{gutter:[12,12],children:[(0,e.jsx)(Ft.Z,{span:23,children:(0,e.jsx)(Nl.Z,{showInfo:!0,strokeLinecap:"round",percent:i!=null&&i.taskId?(i==null?void 0:i.jobState)==="RUNNING"?50:(i==null?void 0:i.jobState)==="FINISHED"?100:0:0,status:"active",strokeColor:{from:"#108ee9",to:"#87d068"}})}),(0,e.jsx)(Ft.Z,{span:1,children:(0,e.jsx)(Al.Z,{})})]})})})},Ml=Kl,Fl=function(t){var n,l=t.footContainer,d=l.memDetails,i=l.codeType,j=l.lineSeparator,p=l.codeEncoding,x=l.space,k=l.codePosition,E=l.jobRunningMsg,Z=t.token,y=t.tabs,h=ge(),B=(0,f.useState)(!1),N=A()(B,2),u=N[0],H=N[1],L=(0,f.useState)(d),P=A()(L,2),z=P[0],V=P[1],W=(0,le.nU)((n=y.panes)!==null&&n!==void 0?n:[],y.activeKey);(0,f.useEffect)(function(){var T=(0,Ue.je)(pe.Z.BASE_URL+pe.Z.GET_JVM_INFO);return T.onmessage=function(D){var K=JSON.parse(D.data).data;V(Number(K.heapUsed/1024/1024).toFixed(0)+"/"+Number(K.max/1024/1024).toFixed(0)+"M")},function(){T.close()}},[]);var ae=[{text:(0,e.jsx)("span",{style:{backgroundColor:Z.colorBgContainer},children:(0,e.jsx)("div",{style:{width:(1-parseInt(z.split("/")[0])/parseInt(z.split("/")[1]))*100+"%",backgroundColor:Z.colorFill},children:z})}),title:(0,a.l)("pages.datastudio.footer.memDetails","",{max:z.split("/")[1],used:z.split("/")[0]}),isShow:function(){return!0}},{text:i,title:(0,a.l)("pages.datastudio.footer.codeType")+i,isShow:function(D){return b.z6.project===D}},{text:j,title:(0,a.l)("pages.datastudio.footer.lineSeparator")+j,isShow:function(D){return b.z6.project===D}},{text:p,title:(0,a.l)("pages.datastudio.footer.codeEncoding")+p,isShow:function(D){return b.z6.project===D}},{text:"Space: "+x,title:"Space: "+x,isShow:function(D){return b.z6.project===D}},{text:k[0]+":"+k[1],title:(0,a.l)("pages.datastudio.footer.codePosition","",{Ln:k[0],Col:k[1]}),isShow:function(D){return b.z6.project===D}}],G=function(D){return D.filter(function(K){return K.isShow?K.isShow(W==null?void 0:W.type,W==null?void 0:W.subType,W==null?void 0:W.params):!1}).map(function(K,M){return(0,e.jsx)(tt.ZP,{size:"small",type:"text",block:!0,style:{paddingInline:4},onClick:K.onClick,title:K.title,children:K.text},M)})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{backgroundColor:h.footerColor,height:b.t3.footerHeight,width:"100%",display:"flex",paddingInline:10,position:"fixed",bottom:0,right:0,left:0},children:[(0,e.jsx)(q.Z,{style:{direction:"ltr",width:"30%%"},children:(0,e.jsx)(tt.ZP,{size:"small",type:"text",block:!0,style:{paddingInline:4},children:"Welcome to Dinky !"})}),(0,e.jsxs)(q.Z,{onClick:function(){return H(!0)},style:{direction:"rtl",width:"30%"},children:[E.jobName," - ",E.runningLog]}),(0,e.jsx)(q.Z,{style:{direction:"rtl",width:"70%"},size:4,direction:"horizontal",children:G(ae)})]}),(0,e.jsx)(Ml,{value:E,visible:!1,onCancel:function(){return H(!1)},onOk:function(){return H(!1)}})]})},wl=(0,he.connect)(function(o){var t=o.Studio;return{footContainer:t.footContainer,tabs:t.tabs}})(Fl),_l=r(13468),Bl=r(58461),It=r(4755),wn=Pe.Z.Paragraph,Bt=Pe.Z.Text,zl=function(t){var n=(0,f.useState)([]),l=A()(n,2),d=l[0],i=l[1],j=(0,f.useState)((0,e.jsx)(Bt,{children:(0,a.l)("pages.datastudio.explain.validate")})),p=A()(j,2),x=p[0],k=p[1],E=(0,f.useState)(!1),Z=A()(E,2),y=Z[0],h=Z[1],B=(0,f.useState)(""),N=A()(B,2),u=N[0],H=N[1],L=t.tabs,P=L.panes,z=L.activeKey,V=(0,le.r5)(P,z);(0,f.useEffect)(function(){var G=c()(c()({},V),{},{configJson:V==null?void 0:V.config,taskId:V==null?void 0:V.id});k((0,e.jsx)(Bt,{children:(0,a.l)("pages.datastudio.explain.validate")})),i([]);var T=(0,It.SH)((0,a.l)("pages.datastudio.editor.checking","",{jobName:V==null?void 0:V.name}),G);T.then(function(D){var K=[],M=0;if(D.data)for(var U in D.data)(!D.data[U].explainTrue||!D.data[U].parseTrue)&&(K.push(D.data[U]),M++);else{k((0,e.jsx)(Bt,{type:"danger",children:D.msg}));return}M==0?(i(D.data),k((0,e.jsx)(Bt,{type:"success",children:(0,a.l)("pages.datastudio.explain.validate.allright")}))):(i(K),k((0,e.jsx)(Bt,{type:"danger",children:(0,a.l)("pages.datastudio.explain.validate.error","",{errorCount:M})})))})},[]);var W=function(T){h(!0),H(T)},ae=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(yn.ZP,{toolBarRender:!1,search:{filterType:"light"},rowKey:"id",dataSource:d,pagination:{pageSize:5},showActions:"hover",metas:{avatar:{dataIndex:"index",search:!1},title:{dataIndex:"type",title:"type",render:function(D,K){return(0,e.jsx)(q.Z,{size:0,children:(0,e.jsxs)(Ze.Z,{color:"blue",children:[(0,e.jsx)(ca.Z,{})," ",K.type]},K.type)})}},description:{search:!1,render:function(D,K){return(0,e.jsxs)(e.Fragment,{children:[K.sql?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(wn,{ellipsis:{rows:2,expandable:!0,symbol:"more"},children:K.sql})}):null,K.error?(0,e.jsx)(wn,{children:(0,e.jsx)(it.Z,{code:K.error,language:"java",height:"500px"})}):null,K.explain?(0,e.jsx)("a",{onClick:function(){return W(K.explain)},style:{float:"right"},type:"link",children:"Show Plan"}):(0,e.jsx)(e.Fragment,{})]})}},subTitle:{render:function(D,K){return(0,e.jsxs)(q.Z,{size:0,children:[K.parseTrue?(0,e.jsx)(Ze.Z,{color:"#44b549",children:(0,a.l)("pages.datastudio.explain.validate.grammar.right")}):(0,e.jsx)(Ze.Z,{color:"#ff4d4f",children:(0,a.l)("pages.datastudio.explain.validate.grammar.error")}),K.explainTrue?(0,e.jsx)(Ze.Z,{color:"#108ee9",children:(0,a.l)("pages.datastudio.explain.validate.logic.right")}):(0,e.jsx)(Ze.Z,{color:"#ff4d4f",children:(0,a.l)("pages.datastudio.explain.validate.logic.error")}),K.explainTime]})},search:!1}},options:{search:!1,setting:!1}})})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(wn,{children:(0,e.jsx)("blockquote",{children:x})}),ae(),(0,e.jsx)(da.Z,{width:"50%",title:"Show Plan",placement:"right",onClose:function(){return h(!1)},open:y,children:(0,e.jsx)(it.Z,{style:{alignItems:"inherit"},code:u,language:"java",height:"92vh"})})]})},Ul=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs}})(zl),Vl=r(49677),$l=r.n(Vl),Hl=r(82866),Gl=function(t){var n=t.data,l={plan:n};return(0,e.jsx)(e.Fragment,{children:n?(0,e.jsx)("div",{style:{width:"50wh",height:"50vh"},children:(0,e.jsx)(Hl.Z,{job:l,onlyPlan:!0})}):(0,e.jsx)($e.Z,{image:$e.Z.PRESENTED_IMAGE_SIMPLE})})},Jl=(0,he.connect)(function(o){return $l()(o),{}})(Gl),Wl=r(63434),Yl=[{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{color:"red"}),"Highest"]}),value:"HIGHEST",key:"HIGHEST"},{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{color:"orange"}),"High"]}),value:"HIGH",key:"HIGH"},{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{color:"blue"}),"Medium"]}),value:"MEDIUM",key:"MEDIUM"},{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{color:"cyan"}),"Low"]}),value:"LOW",key:"LOW"},{label:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Qe.Z,{color:"purple"}),"Lowest"]}),value:"LOWEST",key:"LOWEST"}],Ql=[{label:(0,a.l)("datastudio.header.pushdolphin.timeoutFlag.warn"),value:"WARN"},{label:(0,a.l)("datastudio.header.pushdolphin.timeoutFlag.failed"),value:"FAILED"}],ba=function(t,n,l){if(l&&t){var d=c()(c()({},n),{},{description:t.description,timeoutFlag:t.timeoutFlag==="OPEN",flag:t.flag==="YES",isCache:t.isCache==="YES",upstreamCodes:t.upstreamTaskMap?Object.keys(t.upstreamTaskMap):[],timeoutNotifyStrategy:t.timeoutNotifyStrategy==="WARNFAILED"?["WARN","FAILED"]:[t.timeoutNotifyStrategy]});return d}else{var i=c()(c()(c()({},t),n),{},{description:n.description,timeoutFlag:n.timeoutFlag?"OPEN":"CLOSE",flag:n.flag?"YES":"NO",isCache:n.isCache?"YES":"NO",timeoutNotifyStrategy:n.timeoutNotifyStrategy.join("")});return i}},Xl=function(t){var n,l,d=t.onCancel,i=t.onSubmit,j=t.modalVisible,p=t.dolphinTaskList,x=t.dolphinDefinitionTask,k=t.currentDinkyTaskValue,E=t.loading,Z=f.useState(ba(x,c()(c()({},Kr),{},{taskId:(n=k==null?void 0:k.id)!==null&&n!==void 0?n:""}),!0)),y=A()(Z,2),h=y[0],B=y[1],N=Pn.Z.useForm(),u=A()(N,1),H=u[0],L=f.useMemo(function(){return{resetForm:function(){return H.resetFields()}}},[H]),P=function(){d(),L.resetForm()},z=function(){var T=_()(C()().mark(function D(){var K,M;return C()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(K=H.validateFields(),K){R.next=3;break}return R.abrupt("return");case 3:M=ba(x,h,!1),i(M),P();case 6:case"end":return R.stop()}},D)}));return function(){return T.apply(this,arguments)}}(),V=function(){return[(0,e.jsx)(tt.ZP,{onClick:P,children:(0,a.l)("button.cancel")},"pushCancel"),(0,e.jsx)(tt.ZP,{type:"primary",htmlType:"submit",loading:E,onClick:function(){return z()},children:(0,a.l)("button.finish")},"push")]},W=function(D){return D&&D.length>0?D.map(function(K){var M=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ze.Z,{color:"purple",children:(0,a.l)("datastudio.header.pushdolphin.taskName","",{name:K.taskName})}),(0,e.jsx)("span",{style:{color:"#8a8a8a"},children:(0,a.l)("datastudio.header.pushdolphin.taskNameExt","",{type:K.taskType,processDefinitionName:K.processDefinitionName})})]});return{label:M,value:K.taskCode.toString(),key:K.taskCode}}):[]},ae=function(D,K){K&&B(c()(c()({},h),K))},G=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pt.Z,{name:"taskId",label:(0,a.l)("datastudio.header.pushdolphin.taskId"),disabled:!0}),(0,e.jsx)(ut.Z,{label:(0,a.l)("datastudio.header.pushdolphin.upstreamCodes"),name:"upstreamCodes",showSearch:!0,mode:"multiple",extra:(0,a.l)("datastudio.header.pushdolphin.upstreamCodesTip"),options:W(p)}),(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(ut.Z,{label:(0,a.l)("datastudio.header.pushdolphin.taskPriority"),name:"taskPriority",width:"sm",options:Yl}),(0,e.jsx)(Tt.Z,{label:(0,a.l)("datastudio.header.pushdolphin.failRetryTimes"),name:"failRetryTimes",initialValue:h.failRetryTimes,width:"sm",min:0,max:99,fieldProps:{precision:0}}),(0,e.jsx)(Tt.Z,{label:(0,a.l)("datastudio.header.pushdolphin.failRetryInterval"),name:"failRetryInterval",width:"sm",rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.failRetryIntervalPlaceholder")}],min:0,fieldProps:{precision:0}}),(0,e.jsx)(Tt.Z,{label:(0,a.l)("datastudio.header.pushdolphin.delayTime"),name:"delayTime",width:"sm",rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.delayTimePlaceholder")}],min:0,fieldProps:{precision:0}}),(0,e.jsx)(Et.Z,c()(c()({label:(0,a.l)("datastudio.header.pushdolphin.timeoutFlag"),rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.timeoutFlagTip")}]},(0,$.uP)()),{},{name:"timeoutFlag"})),(0,e.jsx)(Et.Z,c()(c()({label:(0,a.l)("datastudio.header.pushdolphin.flag"),rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.flagTip")}]},(0,$.uP)()),{},{name:"flag"})),(0,e.jsx)(Et.Z,c()(c()({label:(0,a.l)("datastudio.header.pushdolphin.isCache"),rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.isCacheTip")}]},(0,$.uP)()),{},{name:"isCache"}))]}),h.timeoutFlag&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(vt.UW,{children:[(0,e.jsx)(Wl.Z.Group,{label:(0,a.l)("datastudio.header.pushdolphin.timeoutNotifyStrategy"),name:"timeoutNotifyStrategy",rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.timeoutNotifyStrategyTip")}],width:"sm",options:Ql}),(0,e.jsx)(Tt.Z,{label:(0,a.l)("datastudio.header.pushdolphin.timeout"),name:"timeout",width:"sm",rules:[{required:!0,message:(0,a.l)("datastudio.header.pushdolphin.timeoutPlaceholder")}],min:0,max:30,fieldProps:{precision:0}})]})}),(0,e.jsx)(ra.Z,{label:(0,a.l)("global.table.note"),name:"description"})]})};return(0,e.jsx)(Ln.Y,c()(c()({},$.SU),{},{title:(0,a.l)("datastudio.header.pushdolphin.title","",{name:(l=k==null?void 0:k.name)!==null&&l!==void 0?l:""}),open:j,form:H,initialValues:h,modalProps:{onCancel:P,destroyOnClose:!0},submitter:{render:function(){return se()(V())}},onValuesChange:ae,loading:E,children:G()}))},ql=Xl,_n=r(99219),ei=r(90045),ti=r(60219),ni=r(27426),ai=r(82099),ri=r(4828),li=r(42952),ii=r(37993),oi=r(24147),si=r(37446),ui=r(95122),di={display:"inline-flex",lineHeight:b.t3.headerHeight+"px",height:b.t3.headerHeight,fontStyle:"normal",fontWeight:"bold",fontSize:"16px",padding:"4px 10px"},ci=function(t){var n,l,d,i,j,p,x,k,E,Z,y,h,B,N,u=t.size,H=t.activeBreadcrumbTitle,L=t.tabs,P=L.panes,z=L.activeKey,V=t.saveTabs,W=t.updateJobRunningMsg,ae=t.updateSelectBottomKey,G=t.queryDsConfig,T=t.queryTaskData,D=t.enabledDs,K=Re.Z.useModal(),M=A()(K,2),U=M[0],R=M[1],S=(0,f.useState)({modalVisible:!1,buttonLoading:!1,confirmLoading:!1,dolphinTaskList:[],dolphinDefinitionTask:{},currentDinkyTaskValue:{}}),s=A()(S,2),v=s[0],O=s[1];(0,f.useEffect)(function(){G(ei.C.DOLPHIN_SCHEDULER.toLowerCase())},[]);var m=(0,le.r5)(P,z),g=(0,le.nU)(P,z),Y=function(){var de=_()(C()().mark(function F(){var ce,ue,Q;return C()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return ce=m==null?void 0:m.id,Ke.next=3,(0,ze.Ri)(pe.Z.SCHEDULER_QUERY_UPSTREAM_TASKS,{dinkyTaskId:ce});case 3:return ue=Ke.sent,Ke.next=6,(0,ze.Ri)(pe.Z.SCHEDULER_QUERY_TASK_DEFINITION,{dinkyTaskId:ce});case 6:Q=Ke.sent,O(function(kt){return c()(c()({},kt),{},{buttonLoading:!0,confirmLoading:!1,modalVisible:!0,dolphinTaskList:ue!=null?ue:[],dolphinDefinitionTask:Q!=null?Q:{},currentDinkyTaskValue:m})});case 8:case"end":return Ke.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),ne=function(){var de=_()(C()().mark(function F(){return C()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:O(function(Q){return c()(c()({},Q),{},{modalVisible:!1,buttonLoading:!1,dolphinTaskList:[],confirmLoading:!1,dolphinDefinitionTask:{},currentDinkyTaskValue:{}})});case 1:case"end":return ue.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),re=function(){var de=_()(C()().mark(function F(){var ce;return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,ze.hx)(pe.Z.TASK,m);case 2:return ce=Q.sent,V(c()({},t.tabs)),g&&(g.isModified=!1),Q.abrupt("return",ce);case 6:case"end":return Q.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),I=function(){if(!m)return new Promise(function(ue){return ue(!1)});var F=m.status==Me.jf.RECONNECTING,ce=F?"pages.datastudio.editor.stop.force.jobConfirm":"pages.datastudio.editor.stop.job";return new Promise(function(ue){U.confirm({title:(0,a.l)("pages.datastudio.editor.stop.job"),content:(0,a.l)(ce,"",{jobName:m.name}),okText:(0,a.l)("button.confirm"),cancelText:(0,a.l)("button.cancel"),onOk:function(){var Q=_()(C()().mark(function Ke(){return C()().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return Dt.next=2,(0,It.el)((0,a.l)("pages.datastudio.editor.stop.job"),m.id).then(function(){m.status=Me.jf.CANCELED,V(c()({},t.tabs))});case 2:ue(!0);case 3:case"end":return Dt.stop()}},Ke)}));function ye(){return Q.apply(this,arguments)}return ye}(),onCancel:function(){ue(!1)}})})},w=function(){var de=_()(C()().mark(function F(){var ce,ue,Q;return C()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(ae(me.Q9.CONSOLE_KEY),m){Ke.next=3;break}return Ke.abrupt("return");case 3:return ce=g.monacoInstance.editor.getEditors().find(function(kt){return kt.id===m.id}),ue="",ce&&(ue=ce.getModel().getValueInRange(ce.getSelection())),(ue==null||ue=="")&&(ue=m.statement),Ke.next=9,(0,It.gY)((0,a.l)("pages.datastudio.editor.debugging","",{jobName:m.name}),c()(c()({},m),{},{statement:ue}));case 9:if(Q=Ke.sent,Q){Ke.next=14;break}return Ke.abrupt("return");case 14:ae(me.Q9.RESULT_KEY);case 15:W({taskId:m.id,jobName:m.name,jobState:Q.data.status,runningLog:Q.msg}),m.status=Me.jf.RUNNING,(0,_e.e3)(m.dialect)?(m.status=Me.jf.FINISHED,g&&(g.console.results=Q.data.results)):(m.status=Q.data.status,g&&(g.console.result=Q.data.result)),V(c()({},t.tabs));case 19:case"end":return Ke.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),J=function(){var de=_()(C()().mark(function F(){var ce,ue;return C()().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(ae(me.Q9.CONSOLE_KEY),m){ye.next=3;break}return ye.abrupt("return");case 3:if(m.step!=Me.Z4.PUBLISH){ye.next=7;break}ye.t0=!0,ye.next=10;break;case 7:return ye.next=9,re();case 9:ye.t0=ye.sent;case 10:if(ce=ye.t0,ce){ye.next=13;break}return ye.abrupt("return");case 13:return ye.next=15,(0,It.Rj)((0,a.l)("pages.datastudio.editor.submitting","",{jobName:m.name}),m.id);case 15:if(ue=ye.sent,ue){ye.next=18;break}return ye.abrupt("return");case 18:W({taskId:m.id,jobName:m.name,jobState:ue.data.status,runningLog:ue.msg}),m.status=Me.jf.RUNNING,(0,_e.e3)(m.dialect)&&(m.status=Me.jf.FINISHED),g&&(g.console.result=ue.data.result),(0,_e.e3)(m.dialect)&&ae(me.Q9.RESULT_KEY),V(c()({},t.tabs));case 24:case"end":return ye.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),X=function(){var de=_()(C()().mark(function F(){var ce;return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(m){Q.next=2;break}return Q.abrupt("return");case 2:if(!(0,_e.Gg)(m)){Q.next=8;break}return Q.next=5,(0,It.NP)((0,a.l)("global.table.lifecycle.offline"),m.id,Me.Z4.DEVELOP);case 5:m.step=Me.Z4.DEVELOP,Q.next=15;break;case 8:return Q.next=10,re();case 10:if(ce=Q.sent,!ce){Q.next=15;break}return Q.next=14,(0,It.NP)((0,a.l)("global.table.lifecycle.publishing"),m.id,Me.Z4.PUBLISH);case 14:m.step=Me.Z4.PUBLISH;case 15:return V(c()({},t.tabs)),Q.next=18,T();case 18:case"end":return Q.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),Ae=function(){var de=_()(C()().mark(function F(){var ce;return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,It.nA)((0,a.l)("pages.datastudio.editor.explan.tip"),m);case 2:ce=Q.sent,ce&&U.confirm({title:(0,a.l)("pages.datastudio.editor.explan.tip"),width:"100%",icon:null,content:(0,e.jsx)(Jl,{data:ce.data}),cancelButtonProps:{style:{display:"none"}}});case 4:case"end":return Q.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),Ne=function(){var de=_()(C()().mark(function F(){return C()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:U.confirm({title:(0,a.l)("pages.datastudio.explain.validate.msg"),width:"100%",icon:null,content:(0,e.jsx)(Ul,{}),cancelButtonProps:{style:{display:"none"}}});case 1:case"end":return ue.stop()}},F)}));return function(){return de.apply(this,arguments)}}(),nt=[{hotKey:function(F){return F.ctrlKey&&F.key==="s"||F.metaKey&&F.key==="s"},hotKeyDesc:"Ctrl/Command +S",isShow:(0,_e.cM)(g==null?void 0:g.type),icon:(0,e.jsx)(ti.Z,{}),title:(0,a.l)("button.save"),click:function(){return re()},props:{disabled:(0,_e.Gg)(m)}},{icon:(0,e.jsx)(va.Z,{}),title:(0,a.l)("button.graph"),isShow:(0,_e.cM)(g==null?void 0:g.type)&&(g==null||(n=g.subType)===null||n===void 0?void 0:n.toLowerCase())===$.zy.FLINK_SQL||(g==null||(l=g.subType)===null||l===void 0?void 0:l.toLowerCase())===$.zy.FLINKJAR,click:function(){var de=_()(C()().mark(function ce(){return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",Ae());case 1:case"end":return Q.stop()}},ce)}));function F(){return de.apply(this,arguments)}return F}()},{icon:(0,e.jsx)(ni.Z,{}),hotKey:function(F){return F.altKey&&F.code==="Digit2"||F.altKey&&F.key==="@"},hotKeyDesc:"Alt+2/@",title:(0,a.l)("pages.datastudio.editor.check"),click:function(){return Ne()},isShow:(0,_e.cM)(g==null?void 0:g.type)&&(g==null||(d=g.subType)===null||d===void 0?void 0:d.toLowerCase())!==$.zy.JAVA&&(g==null||(i=g.subType)===null||i===void 0?void 0:i.toLowerCase())!==$.zy.SCALA&&(g==null||(j=g.subType)===null||j===void 0?void 0:j.toLowerCase())!==$.zy.PYTHON_LONG},{icon:(0,e.jsx)(Bl.G$,{loading:v.buttonLoading,className:"blue-icon"}),title:(0,a.l)("button.push"),hotKey:function(F){return F.ctrlKey&&F.key==="e"},hotKeyDesc:"Ctrl+E",isShow:D&&(0,_e.OL)(m),click:function(){return Y()}},{icon:(0,_e.Gg)(m)?(0,e.jsx)(ai.Z,{}):(0,e.jsx)(ri.Z,{}),title:(0,_e.Gg)(m)?(0,a.l)("button.offline"):(0,a.l)("button.publish"),isShow:(g==null?void 0:g.type)==b.z6.project,click:function(){return X()}},{icon:(0,e.jsx)(ma.Z,{}),title:(0,a.l)("pages.datastudio.to.jobDetail"),isShow:(g==null?void 0:g.type)==b.z6.project&&(m==null?void 0:m.jobInstanceId)&&((g==null||(p=g.subType)===null||p===void 0?void 0:p.toLowerCase())==$.zy.FLINK_SQL||(g==null||(x=g.subType)===null||x===void 0?void 0:x.toLowerCase())==$.zy.FLINKJAR),props:{onClick:function(){var de=_()(C()().mark(function ce(){var ue;return C()().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,(0,ze.Ri)(pe.Z.GET_JOB_INSTANCE_BY_TASK_ID,{taskId:m==null?void 0:m.id});case 2:ue=ye.sent,ue&&window.open("/#/devops/job-detail?id=".concat(ue==null?void 0:ue.id));case 4:case"end":return ye.stop()}},ce)}));function F(){return de.apply(this,arguments)}return F}(),target:"_blank"}},{icon:(0,e.jsx)(li.Z,{}),title:(0,a.l)("pages.datastudio.editor.exec"),click:J,hotKey:function(F){return F.shiftKey&&F.key==="F10"},hotKeyDesc:"Shift+F10",isShow:(g==null?void 0:g.type)==b.z6.project&&(0,_n.N$)(m==null?void 0:m.status)&&(g==null||(k=g.subType)===null||k===void 0?void 0:k.toLowerCase())!==$.zy.JAVA&&(g==null||(E=g.subType)===null||E===void 0?void 0:E.toLowerCase())!==$.zy.SCALA&&(g==null||(Z=g.subType)===null||Z===void 0?void 0:Z.toLowerCase())!==$.zy.PYTHON_LONG&&(g==null||(y=g.subType)===null||y===void 0?void 0:y.toLowerCase())!==$.zy.FLINKSQLENV,props:{style:{background:"#52c41a"},type:"primary"}},{icon:(0,e.jsx)(ii.Z,{}),title:(0,a.l)("pages.datastudio.editor.debug"),click:w,hotKey:function(F){return F.shiftKey&&F.key==="F9"},hotKeyDesc:"Shift+F9",isShow:(g==null?void 0:g.type)==b.z6.project&&(0,_n.N$)(m==null?void 0:m.status)&&((g==null||(h=g.subType)===null||h===void 0?void 0:h.toLowerCase())===$.zy.FLINK_SQL||(0,_e.e3)((B=g==null||(N=g.subType)===null||N===void 0?void 0:N.toLowerCase())!==null&&B!==void 0?B:"")),props:{style:{background:"#52c41a"},type:"primary"}},{icon:(0,e.jsx)(oi.Z,{}),title:(0,a.l)("pages.datastudio.editor.stop"),click:I,isShow:(g==null?void 0:g.type)==b.z6.project&&!(0,_n.N$)(m==null?void 0:m.status),hotKey:function(F){return F.shiftKey&&F.key==="F10"},hotKeyDesc:"Shift+F10",props:{type:"primary",style:{background:"#FF4D4F"}}},{icon:(0,e.jsx)(si.Z,{}),title:"",click:function(){},isShow:!0}],Ve=function(){return H?(0,e.jsxs)(xt.Z1,{style:{width:(u.width-2*b.t3.paddingInline)/2},children:[(0,e.jsx)(xn.Z,{style:{paddingRight:20}}),(0,e.jsx)(ui.Z,{style:{fontSize:12,lineHeight:b.t3.headerHeight+"px"},separator:"/",items:(0,_e.zC)(H)})]}):(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(xn.Z,{}),(0,e.jsx)("span",{children:"Guide Page"})]})};document.onkeydown=function(de){nt.filter(function(F){var ce;return(ce=F.hotKey)===null||ce===void 0?void 0:ce.call(F,de)}).forEach(function(F){var ce;(ce=F.click)===null||ce===void 0||ce.call(F),de.preventDefault()})};var at=function(){return(0,e.jsxs)("div",{style:{padding:"4px"},children:[(0,e.jsx)(q.Z,{size:"small",align:"center",direction:"horizontal",wrap:!0,children:nt.filter(function(F){return F.isShow}).map(function(F){return(0,e.jsx)(_l.P,c()({},F))})}),R]})},pt=function(){var de=_()(C()().mark(function F(ce){return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return O(function(ye){return c()(c()({},ye),{},{loading:!0})}),Q.next=3,(0,ze.vO)(pe.Z.SCHEDULER_CREATE_OR_UPDATE_TASK_DEFINITION,"\u63A8\u9001\u4EFB\u52A1[".concat(m==null?void 0:m.name,"]\u81F3 DolphinScheduler"),ce);case 3:return Q.next=5,ne();case 5:case"end":return Q.stop()}},F)}));return function(ce){return de.apply(this,arguments)}}();return(0,e.jsxs)(bt.Z,{column:2,size:"middle",layout:"horizontal",style:di,children:[(0,e.jsx)(bt.Z.Item,{children:Ve()}),(0,e.jsxs)(bt.Z.Item,{contentStyle:{display:"flex",flexDirection:"row-reverse"},children:[at(),v.modalVisible&&(0,e.jsx)(ql,{onCancel:function(){return ne()},currentDinkyTaskValue:v.currentDinkyTaskValue,modalVisible:v.modalVisible,loading:v.confirmLoading,dolphinDefinitionTask:v.dolphinDefinitionTask,dolphinTaskList:v.dolphinTaskList,onSubmit:function(F){return pt(F)}})]})]},"h")},fi=(0,he.connect)(function(o){var t=o.Studio,n=o.SysConfig;return{tabs:t.tabs,dsConfig:n.dsConfig,enabledDs:n.enabledDs}},le.ZS)((0,f.memo)(ci)),vi=function(t){var n=t.leftContainer.selectKey,l=t.dispatch,d=(0,f.useState)(!1),i=A()(d,2),j=i[0],p=i[1],x=Mt(),k=function(){var N=_()(C()().mark(function u(){return C()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:p(!1);case 1:case"end":return L.stop()}},u)}));return function(){return N.apply(this,arguments)}}(),E=function(){var N=_()(C()().mark(function u(){return C()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:p(!0);case 1:case"end":return L.stop()}},u)}));return function(){return N.apply(this,arguments)}}(),Z=function(){var N=_()(C()().mark(function u(H){return C()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,ze.On)(pe.Z.SAVE_OR_UPDATE_CATALOGUE_URL,c()(c()({},H),{},{isLeaf:!1,parentId:0}),function(){},function(){k(),l({type:b._X.queryProject})});case 2:case"end":return P.stop()}},u)}));return function(H){return N.apply(this,arguments)}}(),y="menu.datastudio.project",h=St[y];h[0].onClick=function(){return E()},x({type:"change",selectKey:y,payload:h});var B=function(){return n&&n===y?(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(Se,{children:(0,a.l)(n)}),(0,e.jsx)(Rn,{title:(0,a.l)("right.menu.createRoot"),modalVisible:j,onCancel:k,onSubmit:Z,values:{}})]}):(0,e.jsx)(Se,{children:(0,a.l)(n)})};return(0,e.jsx)(e.Fragment,{children:B()})},hi=(0,he.connect)(function(o){var t=o.Studio;return{leftContainer:t.leftContainer}})(vi),mi=function(t){var n=t.dispatch,l=t.size,d=t.toolContentHeight,i=t.leftContainer,j=t.rightContainer,p=t.tabs,x=p.panes,k=p.activeKey,E=(0,f.useContext)(Yn),Z=ge(),y=l.width-2*b.t3.leftToolWidth-j.width-700,h=function(P){n({type:b.cZ.updateLeftWidth,payload:P})},B=function(){n({type:b.cZ.updateSelectLeftKey,payload:""})},N=function(){h(y)},u={contentHeight:d,onResize:function(P,z,V){return h(V.offsetWidth)},title:(0,e.jsx)(hi,{}),handlerMinimize:function(){return B()},handlerMaxsize:N,visible:i.selectKey!=="",defaultSize:{width:i.width,height:i.height},minWidth:225,maxWidth:y,enable:{right:!0},btnGroup:E[i.selectKey]?E[i.selectKey].map(function(L){return(0,e.jsx)(mt.Z,{title:L.title,icon:L.icon,onClick:function(){var z;return(z=L.onClick)===null||z===void 0?void 0:z.call(L,x,k)}},L.title)}):[],style:{borderInlineEnd:"1px solid ".concat(Z.borderColor)}},H=(0,e.jsx)(qe.Z,{activeKey:i.selectKey,items:ga,tabBarStyle:{display:"none"}});return(0,e.jsx)(We,c()(c()({},u),{},{children:H}))},gi=(0,he.connect)(function(o){var t=o.Studio;return{toolContentHeight:t.toolContentHeight,tabs:t.tabs}})(mi),pi=[{key:"ctrls",label:"Ctrl / Command + S",description:(0,a.l)("shortcut.key.save")},{key:"alt2",label:"Alt / Option + 2",description:(0,a.l)("shortcut.key.check")},{key:"alt3",label:"Alt / Option + 3",description:(0,a.l)("shortcut.key.format")},{key:"alt4",label:"Alt / Option + 4",description:(0,a.l)("shortcut.key.formatSelection")},{key:"alt/",label:"Alt / Option + /",description:(0,a.l)("shortcut.key.notes")},{key:"altu",label:"Alt / Option + U",description:(0,a.l)("shortcut.key.upperCase")},{key:"altl",label:"Alt / Option + L",description:(0,a.l)("shortcut.key.lowerCase")}],yi=Pe.Z.Title,bi=Pe.Z.Paragraph,Ca=Pe.Z.Text,Ci=function(){var t=function(){return pi.map(function(l,d){return(0,e.jsx)(f.Fragment,{children:d%5===0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(yt.Z,{plain:!0,orientationMargin:0}),(0,e.jsx)(Ca,{keyboard:!0,children:l.label}),l.description,(0,e.jsx)(yt.Z,{type:"vertical"})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ca,{keyboard:!0,children:l.label}),l.description,(0,e.jsx)(yt.Z,{type:"vertical"})]})},d)})};return(0,e.jsxs)(Pe.Z,{style:{padding:"2px",textAlign:"center",border:"salmon"},children:[(0,e.jsx)("br",{}),(0,e.jsx)(yi,{level:4,children:(0,a.l)("shortcut.title")}),(0,e.jsx)(bi,{style:{padding:0,margin:0,textAlign:"center",border:"salmon"},children:t()})]})},ji=Ci,Si=[{key:"clusterInstance",label:(0,a.l)("datastudio.middle.qg.clusterInstance"),link:"/registration/cluster/instance"},{key:"clusterConfiguration",label:(0,a.l)("datastudio.middle.qg.clusterConfiguration"),link:"/registration/cluster/config"},{key:"database",label:(0,a.l)("datastudio.middle.qg.database"),link:"/registration/datasource/list"},{key:"alertInstance",label:(0,a.l)("datastudio.middle.qg.alertInstance"),link:"/registration/alert/instance"},{key:"alertGroup",label:(0,a.l)("datastudio.middle.qg.alertGroup"),link:"/registration/alert/group"},{key:"alertRule",label:(0,a.l)("datastudio.middle.qg.alertRule"),link:"/settings/alertrule"},{key:"alertTemplate",label:(0,a.l)("datastudio.middle.qg.alertTemplate"),link:"/registration/alert/template"},{key:"rootLog",label:(0,a.l)("datastudio.middle.qg.rootLog"),link:"/settings/systemlog"},{key:"globalsetting",label:(0,a.l)("datastudio.middle.qg.globalsetting"),link:"/settings/globalsetting"},{key:"fragment",label:(0,a.l)("datastudio.middle.qg.fragment"),link:"/registration/fragment"},{key:"document",label:(0,a.l)("datastudio.middle.qg.document"),link:"/registration/document"},{key:"gitprojects",label:(0,a.l)("datastudio.middle.qg.gitprojects"),link:"/registration/gitproject"},{key:"udf",label:(0,a.l)("datastudio.middle.qg.udf"),link:"/registration/udf"},{key:"resource",label:(0,a.l)("datastudio.middle.qg.resource"),link:"/registration/resource"},{key:"accountCenter",label:(0,a.l)("datastudio.middle.qg.accountCenter"),link:"/account/center"}],xi=Pe.Z.Title,Ti=Pe.Z.Paragraph,Ei=function(){var t=function(){return Si.map(function(l,d){return(0,e.jsx)(f.Fragment,{children:d%5===0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(yt.Z,{plain:!0,orientationMargin:0}),(0,e.jsx)(he.Link,{to:l.link,children:l.label},l.key)]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(yt.Z,{type:"vertical"}),(0,e.jsx)(he.Link,{to:l.link,children:l.label},l.key)]})},d)})};return(0,e.jsxs)(Pe.Z,{style:{padding:"2px",textAlign:"center",border:"salmon"},children:[(0,e.jsx)(xi,{level:4,children:(0,a.l)("datastudio.middle.qg")}),(0,e.jsx)(Ti,{style:{padding:0,margin:0,textAlign:"center",border:"salmon"},children:t()})]})},Ii=Ei,ki=[{title:(0,a.l)("pages.datastudio.sql.configItem"),key:"key",dataIndex:"key"},{title:(0,a.l)("pages.datastudio.sql.cacheConfigItem"),key:"cache",dataIndex:"cache"},{title:(0,a.l)("pages.datastudio.sql.serverConfigItem"),key:"server",dataIndex:"server"}],Di={width:"100%",height:"90%",options:{readOnly:!0,selectOnLineNumbers:!0,lineDecorationsWidth:20,mouseWheelZoom:!0,automaticLayout:!0},language:"flinksql"},Oi=["updateTime","createTime","jobInstanceId","useResult","maxRowNum","useChangeLog","useAutoCancel","status","step","jobConfig","note","step","versionId","clusterName","clusterConfigurationName","databaseName","envName","alertGroupName","variables","alertGroup"],Zi=r(37555),Li=r(2683),zt={no_diff_content:"no_diff_content___IWXEw",diff_content:"diff_content___LaRQA",header:"header___iIfLj",use_version_btn:"use_version_btn___RnwjK"};Qt._m.config({monaco:Li});var Ut=Pe.Z.Text,ja=Pe.Z.Link,Pi=function(t){var n=t.diffs,l=t.open,d=t.fileName,i=t.language,j=i===void 0?"flinksql":i,p=t.onUse,x=n.find(function(y){return y.key==="statement"}),k=n.filter(function(y){return y.key!="statement"}),E=function(){return(0,e.jsx)(e.Fragment,{children:x?(0,e.jsxs)("div",{className:zt.diff_content,children:[(0,e.jsxs)(In.Z,{style:{marginBottom:"5px"},children:[(0,e.jsx)(Ft.Z,{span:12,children:(0,e.jsx)(Ut,{type:"secondary",children:(0,a.l)("pages.datastudio.sql.serverVersion")})}),(0,e.jsx)(Ft.Z,{span:12,children:(0,e.jsx)(Ut,{type:"secondary",children:(0,a.l)("pages.datastudio.sql.cacheVersion")})})]}),(0,e.jsx)(Qt.SV,c()(c()({},Di),{},{language:j,beforeMount:function(B){return(0,Zi.T)(B.languages,B.editor)},original:x==null?void 0:x.server,modified:x==null?void 0:x.cache,theme:(0,ot.x_)()}))]}):(0,e.jsx)(Ut,{className:zt.no_diff_content,type:"success",children:(0,a.l)("pages.datastudio.sql.nochange")})})},Z=function(){return(0,e.jsx)("div",{className:zt.diff_content,children:k.length>0?(0,e.jsx)(Cn.Z,{size:"small",dataSource:k,columns:ki}):(0,e.jsx)(Ut,{className:zt.no_diff_content,type:"success",children:(0,a.l)("pages.datastudio.sql.nochange")})})};return(0,e.jsxs)(Re.Z,{title:(0,e.jsxs)("div",{className:zt.header,children:[(0,a.l)("pages.datastudio.sql.sqlChanged"),"-",d]}),maskClosable:!1,onCancel:function(){return p(!1)},open:l,footer:null,width:"75%",children:[(0,e.jsx)("div",{style:{margin:"10px 0"},children:(0,e.jsx)(Ut,{children:(0,a.l)("pages.datastudio.sql.sqlChangedPrompt")})}),(0,e.jsx)(qe.Z,{tabBarExtraContent:(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(ja,{onClick:function(){return p(!0)},children:(0,a.l)("pages.datastudio.sql.useServer")}),(0,e.jsx)(ja,{onClick:function(){return p(!1)},children:(0,a.l)("pages.datastudio.sql.useCache")})]}),items:[{key:"1",label:(0,a.l)("pages.datastudio.sql.sqldiff.title"),children:E()},{key:"2",label:(0,a.l)("pages.datastudio.sql.paramdiff.title"),children:Z()}]})]})},Ri=(0,f.memo)(Pi),Ai=r(11713),Ni=r(27732),Ki=function(t){var n,l=t.tabsItem,d=t.dispatch,i=t.height,j=t.tabs,p=(0,f.useRef)();(0,f.useEffect)(function(){d({type:b._X.querySuggestions,payload:{enableSchemaSuggestions:!1}})},[]);var x=(0,f.useState)(!1),k=A()(x,2),E=k[0],Z=k[1],y=(0,f.useState)([]),h=A()(y,2),B=h[0],N=h[1],u=(0,oe.jE)(),H=u.fullscreen,L=u.setFullscreen,P=l.params.taskData,z=function(M,U){if(!M){l.params.taskData=c()(c()({},U),{},{useResult:!0,maxRowNum:100}),d({type:b.cZ.saveTabs,payload:c()({},t.tabs)});return}var R=[];Object.keys(U).forEach(function(S){if(Oi.includes(S))M[S]=U[S];else if(S=="configJson"){var s=JSON.stringify(M[S]),v=JSON.stringify(U[S]);s!=v&&R.push({key:S,server:v,cache:s})}else U[S]!=M[S]&&R.push({key:S,server:U[S],cache:M[S]})}),R.length>0&&(N(R),Z(!0))},V=(0,he.useRequest)({url:pe.Z.TASK,params:{id:l.params.taskId}},{onSuccess:function(M){return z(l.params.taskData,M)}}),W=V.loading,ae=V.data,G=function(M){M?(l.params.taskData=c()(c()({},ae),{},{useResult:!0,maxRowNum:100}),l.isModified=!1):l.isModified=!0,d({type:b.cZ.saveTabs,payload:c()({},t.tabs)}),Z(!1)},T=function(M,U){var R;M.layout(),M.focus(),p.current=M,M.id=(R=(0,le.nU)(j.panes,j.activeKey))===null||R===void 0?void 0:R.params.taskId,l.monacoInstance=U,M.onDidChangeCursorPosition(function(S){t.footContainer.codePosition=[S.position.lineNumber,S.position.column],d({type:b.cZ.saveFooterValue,payload:c()({},t.footContainer)})}),(0,ot.v4)(M)},D=function(M){!P||!l||(typeof M=="string"&&(P.statement=M),l.isModified=!0,d({type:b.cZ.saveTabs,payload:c()({},t.tabs)}))};return(0,e.jsx)(En.Z,{spinning:W,delay:600,children:(0,e.jsxs)("div",{style:{width:"100%",height:H?"calc(100vh - 50px)":i},children:[(0,e.jsx)(Ri,{diffs:B,open:E,language:(0,en.k)(l==null?void 0:l.subType),fileName:P==null?void 0:P.name,onUse:G}),(0,e.jsx)(Jn.Z,{monacoRef:l==null?void 0:l.monacoInstance,code:l==null||(n=l.params)===null||n===void 0||(n=n.taskData)===null||n===void 0?void 0:n.statement,language:(0,en.k)(l==null?void 0:l.subType),editorDidMount:T,onChange:D,enableSuggestions:!0,options:{readOnlyMessage:{value:(0,a.l)("pages.datastudio.editor.onlyread")},readOnly:(P==null?void 0:P.step)==Me.Z4.PUBLISH,scrollBeyondLastLine:!1,wordWrap:"on"}}),(0,e.jsx)("div",{style:{position:"absolute",top:15,right:"10%",boxShadow:"0 0 10px #ccc"},children:H?(0,e.jsx)(tt.ZP,{type:"text",style:{zIndex:999},title:(0,a.l)("global.fullScreen.exit"),icon:(0,e.jsx)(Ai.Z,{}),onClick:function(){var M;p==null||(M=p.current)===null||M===void 0||M.layout(),L(!1)}}):(0,e.jsx)(tt.ZP,{type:"text",style:{zIndex:999},title:(0,a.l)("global.fullScreen"),icon:(0,e.jsx)(Ni.Z,{}),onClick:function(){var M;p==null||(M=p.current)===null||M===void 0||M.layout(),L(!0)}})})]})})},Mi=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,footContainer:t.footContainer}})((0,f.memo)(Ki)),Fi=r(77559),wi=r(21640),_i=Pe.Z.Text,Bi=Re.Z.confirm,zi=function(t){var n=t.tabs,l=n.panes,d=n.activeKey,i=t.rightKey,j=t.dispatch,p=ge(),x=(0,oe.jE)(),k=x.fullscreen,E=(0,f.useState)(ia.F),Z=A()(E,2),y=Z[0],h=Z[1],B=(0,f.useState)(!1),N=A()(B,2),u=N[0],H=N[1],L=(0,f.useState)({}),P=A()(L,2),z=P[0],V=P[1],W=function(v){var O=l.find(function(I){return I.key===d}),m=l.find(function(I){return I.key===v}),g=[],Y=[];if(Kn.forEach(function(I){if(!I.isShow){g.push(I.key),Y.push(I.key);return}I.isShow(O.type,O.subType)&&g.push(I.key),I.isShow(m.type,m.subType)&&Y.push(I.key)}),!(!i||Y.includes(i))){if(Y.length===0){j({type:b.cZ.updateSelectRightKey,payload:""});return}var ne=g.findIndex(function(I){return I===i}),re;ne>=Y.length?re=Y.pop():re=Y[ne],j({type:b.cZ.updateSelectRightKey,payload:re})}},ae=function(v){var O=v.key,m=v.label,g=v.subType;if(O!==d&&(H(!1),W(O),j({type:b.cZ.updateTabsActiveKey,payload:O}),j({type:b.cZ.updateSelectRightKey,payload:(0,He.g1)(g!=null?g:"")}),v.type===b.z6.metadata)){var Y=m.replace(".","/");j({type:b.cZ.updateDatabaseSelectKey,payload:[Y]})}},G=function(){j({type:b.cZ.closeAllTabs}),H(!1),j({type:b.cZ.updateSelectRightKey,payload:""})},T=function(){j({type:b.cZ.closeOtherTabs,payload:z}),H(!1)},D=function(v,O){v.preventDefault(),ae(O),V(O),H(!0),h(function(m){return c()(c()({},m),{},{width:"10vw",left:v.clientX+10,top:v.clientY+10})})},K=function(v){switch(v.key){case"closeAll":G();break;case"closeOther":T();break;default:break}},M=l.map(function(s){var v=function(){if((0,le.VZ)(s))return parseInt(d)<0?b.z6.None:(0,e.jsx)(Mi,{tabsItem:s,monacoInstance:s.monacoInstance,height:d===s.key?k?document.body.clientHeight:t.centerContentHeight-48:0});if((0,le.Qm)(s)){var m=s.params;return(0,e.jsx)(Fi.Z,{tableInfo:m.tableInfo,queryParams:m.queryParams})}return(0,e.jsx)(e.Fragment,{})};return{key:s.key,label:(0,e.jsxs)(q.Z,{onClick:function(){return ae(s)},size:0,onContextMenu:function(m){return D(m,s)},children:[(0,en.b)(s.icon,16),(0,e.jsxs)(_i,{type:s.isModified?"success":void 0,children:["\u200D",s.label,s.isModified?" *":""]})]},s.key),children:(0,e.jsx)(Oe,{height:d===s.key?k?document.body.clientHeight:t.centerContentHeight-40:0,children:v()})}}),U=function(v){l.length===1&&j({type:b.cZ.updateSelectRightKey,payload:""}),j({type:b.cZ.closeTab,payload:v})},R=function(v){if(typeof v=="string"){var O=(0,le.nU)(l,v);O!=null&&O.isModified?Bi({title:(0,a.l)("pages.datastudio.editor.notsave"),icon:(0,e.jsx)(wi.Z,{}),content:(0,a.l)("pages.datastudio.editor.notsave.note"),onOk:function(){U(v)}}):U(v)}},S=function(){return(M==null?void 0:M.length)===0?(0,e.jsxs)("div",{style:{height:0},children:[(0,e.jsx)(ji,{}),(0,e.jsx)(yt.Z,{}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)(Ii,{})]}):(0,e.jsxs)(ya.ZP,{theme:{components:{Tabs:{margin:0,borderRadiusLG:0}}},children:[(0,e.jsx)(qe.Z,{className:"data-studio-tabs",tabBarStyle:{borderBlock:"1px solid ".concat(p.borderColor)},hideAdd:!0,activeKey:d,type:"editable-card",onEdit:R,items:M}),(0,e.jsx)(na.Z,{onClick:K,items:Jr,contextMenuPosition:y,open:u,openChange:function(){return H(!1)}})]})};return(0,e.jsx)(e.Fragment,{children:S()})},Sa=(0,he.connect)(function(o){var t=o.Studio;return{tabs:t.tabs,centerContentHeight:t.centerContentHeight,rightKey:t.rightContainer.selectKey}})((0,f.memo)(zi)),Ui=function(t){var n=ge(),l=t.size,d=t.leftContainer,i=t.rightContainer,j=t.toolContentHeight,p=t.updateRightWidth,x=t.updateSelectRightKey,k=t.tabs,E=l.width-2*b.t3.leftToolWidth-d.width-600;return(0,e.jsx)(We,{contentHeight:j,onResize:function(y,h,B){return p(B.offsetWidth)},title:(0,e.jsx)(Se,{children:(0,a.l)(i.selectKey)}),handlerMinimize:function(){return x("")},handlerMaxsize:function(){return p(E)},visible:i.selectKey!=="",defaultSize:{width:i.width,height:i.height},minWidth:200,maxWidth:E,enable:{left:!0},style:{borderInlineStart:"1px solid ".concat(n.borderColor)},children:k.panes.length>0?(0,e.jsx)(qe.Z,{activeKey:i.selectKey,items:Kn,tabBarStyle:{display:"none"}}):(0,e.jsx)(e.Fragment,{children:" "})})},Vi=(0,he.connect)(function(o){var t=o.Studio;return{leftContainer:t.leftContainer,rightContainer:t.rightContainer,bottomContainer:t.bottomContainer,activeBreadcrumbTitle:t.tabs.activeBreadcrumbTitle,tabs:t.tabs,toolContentHeight:t.toolContentHeight}},le.ZS)(Ui),$i=r(11774),Hi=r(39697),Bn=r(21612),zn=r(68508),Gi=r(78603),xa=Bn.Z.Sider,Ta=Bn.Z.Content,Ji=ft.Z.useToken,Wi=function(t){var n=t.bottomContainer,l=t.leftContainer,d=t.rightContainer,i=t.queryDatabaseList,j=t.queryTaskData,p=t.updateToolContentHeight,x=t.updateBottomHeight,k=t.querySessionData,E=t.queryEnv,Z=t.updateCenterContentHeight,y=t.updateSelectLeftKey,h=t.updateSelectRightKey,B=t.updateSelectBottomKey,N=t.queryClusterConfigurationData,u=t.activeBreadcrumbTitle,H=t.updateSelectBottomSubKey,L=t.tabs,P=L.panes,z=L.activeKey,V=(0,le.D_)(P,z),W=Ji(),ae=W.token,G=ge(),T=(0,he.getDvaApp)(),D=T._store.persist,K=(0,oe.jE)(),M=K.fullscreen,U=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,contentHeight:document.documentElement.clientHeight-b.t3.headerNavHeight-b.t3.headerHeight-b.t3.footerHeight-b.t3.otherHeight}},R=(0,f.useState)(U()),S=A()(R,2),s=S[0],v=S[1],O=function(){v(U());var w=V?n.selectKey===""?0:n.height:0,J=U().contentHeight-w;Z(J),p(J-b.t3.leftMargin)};(0,f.useEffect)(function(){return window.addEventListener("resize",O),O(),function(){return window.removeEventListener("resize",O)}},[]);var m=function(){i(),j(),k(),E(),N()};(0,f.useEffect)(function(){var I=V?n.selectKey===""?0:n.height:0,w=s.contentHeight-I;Z(w),p(w-b.t3.leftMargin)},[z,P]),(0,Hi.Z)(_()(C()().mark(function I(){return C()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:m();case 1:case"end":return J.stop()}},I)})),[]);var g=(0,ke.md)(),Y=(0,e.jsx)(zn.Z,{mode:"inline",activeKey:l.selectKey,selectedKeys:[l.selectKey],items:ga.filter(function(I){return(0,ke.sg)({path:I.auth,children:I,access:g})}).filter(function(I){var w,J;if(!I.isShow)return!0;if(parseInt(z)<0)return b.z6.None;var X=P.find(function(Ne){return Ne.key===z}),Ae=I.isShow((w=X==null?void 0:X.type)!==null&&w!==void 0?w:b.z6.None,(J=X==null?void 0:X.subType)!==null&&J!==void 0?J:b._j.None);return I.key===l.selectKey&&!Ae&&P.length>0&&y(me.e5.PROJECT_KEY),Ae}).map(function(I){return{key:I.key,label:I.label,icon:I.icon}}),style:{flexGrow:1,borderBlockStart:"1px solid ".concat(G.borderColor),borderInlineEnd:"1px solid ".concat(G.borderColor)},onClick:function(w){return y(w.key===l.selectKey?"":w.key)}}),ne=(0,e.jsx)(zn.Z,{mode:"inline",selectedKeys:[n.selectKey],activeKey:n.selectKey,items:pa.filter(function(I){return(0,ke.sg)({path:I.auth,children:I,access:g})}).filter(function(I){var w;if(!I.isShow)return!0;if(parseInt(z)<0)return b.z6.None;var J=P.find(function(X){return X.key===z});return I.isShow((w=J==null?void 0:J.type)!==null&&w!==void 0?w:b.z6.None,J==null?void 0:J.subType)}).map(function(I){return{key:I.key,label:I.label,icon:I.icon}}),style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",borderInlineEnd:"1px solid ".concat(G.borderColor)},onClick:function(w){B(w.key===n.selectKey?"":w.key),n.selectKey!==""&&!n.selectSubKey[w.key]&&Rt[w.key]&&H(Rt[w.key][0].key)}}),re=(0,e.jsx)(zn.Z,{selectedKeys:[d.selectKey],mode:"inline",style:{height:"100%",borderInlineStart:"1px solid ".concat(G.borderColor),borderBlockStart:"1px solid ".concat(G.borderColor)},activeKey:d.selectKey,items:Kn.filter(function(I){return(0,ke.sg)({path:I.auth,children:I,access:g})}).filter(function(I){var w;if(!I.isShow)return!0;if(parseInt(z)<0)return b.z6.None;var J=P.find(function(X){return X.key===z});return I.isShow((w=J==null?void 0:J.type)!==null&&w!==void 0?w:b.z6.None,J==null?void 0:J.subType)}).map(function(I){return{key:I.key,label:I.label,icon:I.icon}}),onClick:function(w){return h(w.key===d.selectKey?"":w.key)}});return M?(0,e.jsx)(Sa,{}):(0,e.jsx)($i._z,{title:!1,breadcrumb:{style:{display:"none"}},children:(0,e.jsx)(Gi.r,{loading:null,persistor:D,children:(0,e.jsxs)("div",{style:{marginInline:-10,marginTop:-6,width:s.width},children:[(0,e.jsx)(fi,{size:s,activeBreadcrumbTitle:u}),(0,e.jsxs)(Bn.Z,{hasSider:!0,style:{minHeight:s.contentHeight,maxHeight:s.contentHeight,paddingInline:0},children:[(0,e.jsx)(xa,{collapsed:!0,collapsedWidth:40,children:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Y,V&&ne]})}),(0,e.jsxs)(Ta,{style:{display:"flex",flexDirection:"column",minWidth:0},children:[(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)(tr,{children:(0,e.jsx)(gi,{size:s,leftContainer:l,rightContainer:d})}),(0,e.jsx)(Ta,{style:{width:s.width-2*b.t3.sideWidth-l.width-d.width},children:(0,e.jsx)(Sa,{})}),(0,e.jsx)(Vi,{size:s,bottomHeight:n.height})]}),V&&(0,e.jsx)(Rl,{size:s,height:n.height})]}),(0,e.jsx)(xa,{collapsed:!0,collapsedWidth:40,children:re})]}),(0,e.jsx)(wl,{token:ae})]})})})},Yi=(0,he.connect)(function(o){var t=o.Studio;return{leftContainer:t.leftContainer,rightContainer:t.rightContainer,bottomContainer:t.bottomContainer,activeBreadcrumbTitle:t.tabs.activeBreadcrumbTitle,tabs:t.tabs}},le.ZS)(Wi)},13838:function(rt,Le,r){r.d(Le,{n:function(){return A},y:function(){return Ie}});var ve=r(37500),C=r(72174),te=r(57900),_=r(85893),Ie=function(oe,ie){switch(oe){case te.X.DINGTALK:return(0,_.jsx)(ve.Em,{size:ie});case te.X.WECHAT:return(0,_.jsx)(ve.vN,{size:ie});case te.X.FEISHU:return(0,_.jsx)(ve.oE,{size:ie});case te.X.SMS:return(0,_.jsx)(ve.Jz,{size:ie});case te.X.EMAIL:return(0,_.jsx)(ve.$r,{size:ie});case te.X.HTTP:return(0,_.jsx)(ve.Dx,{size:ie});case te.X.GROUP:return(0,_.jsx)(ve.yu,{size:ie});default:return(0,_.jsx)(ve.v9,{size:ie})}},A=function(oe){var ie;return((ie=C.vV.find(function(f){return f.value===oe}))===null||ie===void 0?void 0:ie.key)||""}},24311:function(rt,Le,r){r.d(Le,{Z:function(){return q}});var ve=r(19632),C=r.n(ve),te=r(15009),_=r.n(te),Ie=r(97857),A=r.n(Ie),ke=r(99289),oe=r.n(ke),ie=r(5574),f=r.n(ie),xe=r(63573),ge=r(85806),ee=r(41913),se=r(97269),lt=r(5966),c=r(64317),jt=r(24739),Je=r(18922),mt=r(49288),ft=r(96330),e=r(67294),be=r(85893),gt={height:"30vh",width:"22vw",lineNumbers:"off",language:"sql"},Se=function(Ee){var Be=Ee.values,We=Ee.form,le=Ee.dbType,b=Ee.excludeFormItem,it=Ee.flinkTemplateChange,Me=Ee.flinkConfigChange,pe=function(){return(0,be.jsxs)(be.Fragment,{children:[(0,be.jsxs)(se.A.Group,{children:[(0,be.jsx)(lt.Z,{name:"name",width:"md",label:(0,ee.l)("rc.ds.name"),rules:[{required:!0,message:(0,ee.l)("rc.ds.namePlaceholder")}],placeholder:(0,ee.l)("rc.ds.namePlaceholder")}),(0,be.jsx)(c.Z,{name:"groupName",width:"sm",label:(0,ee.l)("rc.ds.groupName"),options:ge.DD,placeholder:(0,ee.l)("rc.ds.groupNamePlaceholder")}),(0,be.jsx)(c.Z,{name:"type",width:"sm",label:(0,ee.l)("rc.ds.type"),showSearch:!0,initialValue:le,options:ge.cb,rules:[{required:!0,message:(0,ee.l)("rc.ds.typePlaceholder")}],placeholder:(0,ee.l)("rc.ds.typePlaceholder")}),(0,be.jsx)(lt.Z,{name:["connectConfig","username"],width:"sm",label:(0,ee.l)("rc.ds.username"),rules:[{required:!0,message:(0,ee.l)("rc.ds.usernamePlaceholder")}],placeholder:(0,ee.l)("rc.ds.usernamePlaceholder")}),(0,be.jsx)(lt.Z.Password,{name:["connectConfig","password"],width:"sm",label:(0,ee.l)("rc.ds.password"),placeholder:(0,ee.l)("rc.ds.passwordPlaceholder")}),(0,be.jsx)(lt.Z,{name:"note",width:"md",label:(0,ee.l)("global.table.note"),placeholder:(0,ee.l)("global.table.notePlaceholder")})]}),(0,be.jsx)(se.A.Group,{children:(0,be.jsx)(Je.Z.Item,{name:["connectConfig","url"],label:(0,ee.l)("rc.ds.url"),rules:[{required:!0,message:(0,ee.l)("rc.ds.urlPlaceholder")}],children:(0,be.jsx)(mt.Z,{virtual:!0,placement:"topLeft",autoClearSearchValue:!0,options:ge.rz,style:{width:parent.innerWidth/2-80},filterOption:!0,onSelect:function(Nt){return We&&We.setFieldsValue({url:Nt})},children:(0,be.jsx)(ft.Z,{placeholder:(0,ee.l)("rc.ds.urlPlaceholder")})})})}),!b&&(0,be.jsxs)(jt.UW,{children:[(0,be.jsx)(se.A.Item,{name:"flinkConfig",label:(0,ee.l)("rc.ds.flinkConfig"),tooltip:(0,ee.l)("rc.ds.flinkConfigTooltip"),children:(0,be.jsx)(xe.Z,A()(A()({},gt),{},{onChange:Me,code:Be.flinkConfig||""}))}),(0,be.jsx)(se.A.Item,{name:"flinkTemplate",label:(0,ee.l)("rc.ds.flinkTemplate"),tooltip:(0,ee.l)("rc.ds.flinkTemplateTooltip"),children:(0,be.jsx)(xe.Z,A()(A()({},gt),{},{onChange:it,code:Be.flinkTemplate||""}))})]})]})};return pe()},je=Se,De=r(37476),Oe=r(14726),fe=function(Ee){var Be,We=Ee.visible,le=Ee.values,b=Ee.onCancel,it=Ee.onSubmit,Me=Ee.onTest,pe=e.useState(!1),Vt=f()(pe,2),$t=Vt[0],Nt=Vt[1],Kt=e.useState(le.flinkConfig||""),ot=f()(Kt,2),ln=ot[0],Ht=ot[1],on=e.useState(le.flinkTemplate||""),Gt=f()(on,2),sn=Gt[0],he=Gt[1],Pe=(0,e.useState)((Be=le.type)!==null&&Be!==void 0?Be:"MySQL"),$e=f()(Pe,2),Jt=$e[0],Wt=$e[1],un=(0,e.useState)(!1),Yt=f()(un,2),dn=Yt[0],qe=Yt[1],cn=Je.Z.useForm(),fn=f()(cn,1),et=fn[0],a=e.useMemo(function(){return{resetForm:function(){return et.resetFields()}}},[et]);(0,e.useEffect)(function(){We?et.setFieldsValue(le):et.resetFields()},[We,le]);var st=function(){b(),Nt(!1),a.resetForm()},Ce=function(Fe){Ht(Fe),et.setFieldsValue({flinkConfig:Fe})},Ze=function(Fe){he(Fe),et.setFieldsValue({flinkTemplate:Fe})},vn=function(){var Re=oe()(_()().mark(function Fe(){var Ue;return _()().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,et.validateFields();case 2:Ue=Ye.sent,Me(A()(A()({},le),Ue));case 4:case"end":return Ye.stop()}},Fe)}));return function(){return Re.apply(this,arguments)}}(),hn=function(){var Re=oe()(_()().mark(function Fe(){var Ue;return _()().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,et.validateFields();case 2:Ue=Ye.sent,Nt(!0),it(A()(A()({},le),Ue)),st();case 6:case"end":return Ye.stop()}},Fe)}));return function(){return Re.apply(this,arguments)}}(),mn=function(){return[(0,be.jsx)(Oe.ZP,{onClick:function(){return st()},children:(0,ee.l)("button.cancel")},"cancel"),(0,be.jsx)(Oe.ZP,{loading:$t,type:"primary",onClick:vn,children:(0,ee.l)("button.test")},"test"),(0,be.jsx)(Oe.ZP,{loading:$t,type:"primary",htmlType:"submit",autoFocus:!0,onClick:function(){return hn()},children:(0,ee.l)("button.finish")},"finish")]},gn=function(Fe){Fe.type&&Wt(Fe.type),Fe.type==="Hive"||Fe.type==="Presto"?qe(!0):qe(!1)};return(0,be.jsx)(be.Fragment,{children:(0,be.jsx)(De.Y,{width:"50%",open:We,modalProps:{onCancel:st},title:le.id?(0,ee.l)("rc.ds.modify"):(0,ee.l)("rc.ds.create"),form:et,onValuesChange:gn,submitter:{render:function(){return C()(mn())}},initialValues:A()(A()({},le),{},{flinkConfig:ln,flinkTemplate:sn}),children:(0,be.jsx)(je,{values:le,excludeFormItem:dn,dbType:Jt,form:et,flinkConfigChange:Ce,flinkTemplateChange:Ze})})})},q=fe},40024:function(rt,Le,r){r.d(Le,{B:function(){return oe},n:function(){return ie}});var ve=r(15009),C=r.n(ve),te=r(99289),_=r.n(te),Ie=r(21953),A=r(58023),ke=r(41913),oe=function(){var f=_()(C()().mark(function xe(ge){return C()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,Ie.vO)(A.Z.DATASOURCE_TEST,(0,ke.l)("button.test"),ge);case 2:case"end":return se.stop()}},xe)}));return function(ge){return f.apply(this,arguments)}}(),ie=function(){var f=_()(C()().mark(function xe(ge){return C()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,Ie.On)(A.Z.DATASOURCE_ADD_OR_UPDATE,ge);case 2:case"end":return se.stop()}},xe)}));return function(ge){return f.apply(this,arguments)}}()},90045:function(rt,Le,r){r.d(Le,{C:function(){return ve},E:function(){return C}});var ve=function(te){return te.DINKY="Dinky",te.FLINK="Flink",te.MAVEN="Maven",te.DOLPHIN_SCHEDULER="DolphinScheduler",te.LDAP="LDAP",te.METRIC="Metric",te.RESOURCE="Resource",te.ENV="Env",te}({}),C=function(te){return te.BOOLEAN="boolean",te.OPTION="option",te}({})},52117:function(rt,Le,r){r.d(Le,{F:function(){return ve}});var ve={left:0,top:0,position:"fixed",cursor:"pointer",width:"12vw",zIndex:1e3}}}]);
