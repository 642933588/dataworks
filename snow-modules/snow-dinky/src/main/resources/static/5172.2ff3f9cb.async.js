"use strict";(self.webpackChunkdinky_web=self.webpackChunkdinky_web||[]).push([[5172],{63167:function(w,R,e){e.d(R,{i:function(){return E}});var i=e(97857),r=e.n(i),a=e(58461),s=e(41913),C=e(86738),n=e(14726),I=e(67294),h=e(85893),E=function(x){var F=x.onClick,T=x.description,t=x.disabled,P=t===void 0?!1:t,U=x.buttonIcon,j=x.title,V=x.options;return(0,h.jsx)("span",{onClick:function(m){return m.stopPropagation()},children:(0,h.jsx)(C.Z,{placement:"topRight",title:j!=null?j:(0,s.l)("button.delete"),description:(0,h.jsxs)("div",{className:"needWrap",children:[T," "]}),onConfirm:F,disabled:P,okText:(0,s.l)("button.confirm"),cancelText:(0,s.l)("button.cancel"),children:(0,I.createElement)(n.ZP,r()(r()({},V),{},{title:j!=null?j:(0,s.l)("button.delete"),key:"DeleteIcon",disabled:P,htmlType:"submit",autoFocus:!0,icon:U!=null?U:(0,h.jsx)(a.M3,{})}))})})}},82866:function(w,R,e){e.d(R,{Z:function(){return Z}});var i=e(97857),r=e.n(i),a=e(9783),s=e.n(a),C=e(5574),n=e.n(C),I=e(57932),h=e(41913),E=e(17057),v=e(55054),x=e(4393),F=e(71230),T=e(15746),t=e(85893),P=E.Z.Text,U=E.Z.Paragraph,j=function(u){var o,f,l=u.node,z=l==null?void 0:l.getData();function L(O,q){return(O==null||isNaN(O))&&(O=0),q?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(v.Z,{value:O*100,suffix:"%",prefix:" ",precision:0,valueStyle:{color:O>.75?"#3f8600":O>.5?"#d4b106":O>.25?"#d46b08":"#cf1322",fontSize:10}})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(v.Z,{value:O*100,suffix:"%",prefix:" ",precision:0,valueStyle:{color:O>.75?"#cf1322":O>.5?"#d46b08":O>.25?"#d4b106":"#3f8600",fontSize:10}})})}var W=z.backpressure;return(0,t.jsxs)(x.Z,{style:{width:"250px",padding:0,margin:0,height:140},bordered:!1,size:"small",type:"inner",hoverable:!0,title:z.name,extra:(0,t.jsx)(P,{keyboard:!0,children:z.parallelism}),children:[(0,t.jsx)(U,{ellipsis:{tooltip:z.description},children:(0,t.jsx)("blockquote",{style:{margin:0},children:(0,t.jsx)(P,{type:"secondary",children:z.description})})}),(0,t.jsxs)(F.Z,{children:[(0,t.jsx)(T.Z,{flex:"35%",children:(0,t.jsxs)(P,{style:{display:"inline-flex",alignItems:"center"},type:"secondary",children:[" ",(0,h.l)("devops.baseinfo.busy"),":",L(W&&W.subtasks?(o=W.subtasks[0])===null||o===void 0?void 0:o.busyRatio:0,!1)]})}),(0,t.jsx)(T.Z,{flex:"auto",children:(0,t.jsxs)(P,{type:"secondary",ellipsis:!0,children:[(0,h.l)("devops.baseinfo.backpressure"),":",(0,t.jsx)(I.Z,{status:W?W.status:0,bordered:!1,animation:!1})]})})]}),(0,t.jsxs)(F.Z,{children:[(0,t.jsx)(T.Z,{flex:"35%",children:(0,t.jsxs)(P,{style:{display:"inline-flex",alignItems:"center"},type:"secondary",children:[(0,h.l)("devops.baseinfo.idle"),":",L(W&&W.subtasks?(f=W.subtasks[0])===null||f===void 0?void 0:f.idleRatio:0,!0)]})}),(0,t.jsx)(T.Z,{flex:"auto",children:(0,t.jsxs)(P,{type:"secondary",children:[(0,h.l)("devops.baseinfo.status"),":",(0,t.jsx)(I.Z,{status:z.status,bordered:!1,animation:!1})]})})]})]})},V=j,p=E.Z.Text,m=E.Z.Paragraph,N=function(u){var o=u.node,f=o==null?void 0:o.getData();return(0,t.jsx)(x.Z,{style:{width:270,padding:0,margin:0,height:140},bordered:!1,size:"small",type:"inner",hoverable:!0,title:f.description,extra:(0,t.jsx)(p,{keyboard:!0,children:f.parallelism}),children:(0,t.jsx)(m,{ellipsis:{tooltip:{title:f.description,zIndex:2e3},rows:3},children:(0,t.jsx)("blockquote",{children:(0,t.jsx)(p,{children:f.description})})})})},g=N,c=e(76439),ae=e(66515),H=ae.Options.Connecting,re=ae.Options.Manual,le={markup:[{tagName:"path",selector:"wrap",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",attrs:{fill:"none",pointerEvents:"none"}}],connector:{name:"curveConnector"},attrs:{wrap:{connection:!0,strokeWidth:1,strokeLinejoin:"round"},line:{connection:!0,stroke:"#A2B1C3",strokeWidth:1,targetMarker:{name:"classic",size:6}},text:{fontSize:12},rect:{}}},ye={groups:{in:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"transparent",strokeWidth:1,fill:"transparent"}}},out:{position:{name:"right",args:{dx:-32}},attrs:{circle:{r:4,magnet:!0,stroke:"transparent",strokeWidth:1,fill:"transparent"}}}}},De={snap:!0,allowBlank:!1,allowLoop:!1,highlight:!0,sourceAnchor:{name:"left",args:{dx:c.t4.IS_SAFARI?4:8}},targetAnchor:{name:"right",args:{dx:c.t4.IS_SAFARI?4:-8}},validateConnection:function(u){var o=u.sourceMagnet,f=u.targetMagnet;return!o||o.getAttribute("port-group")==="in"?!1:!(!f||f.getAttribute("port-group")!=="in")}},he={panning:{enabled:!0,eventTypes:["leftMouseDown","mouseWheel"]},translating:{restrict:!0},interacting:{nodeMovable:!1},mousewheel:{enabled:!0,modifiers:"ctrl",factor:1.1,maxScale:1.5,minScale:.5},connecting:De},Ae={type:"dagre",rankdir:"LR",align:"UL",ranksep:120,nodesep:40,controlPoints:!0},A={padding:{left:50,right:50,top:50,bottom:50}},se=e(60860),je=function(u){var o=[],f=[];return u?(u.nodes.forEach(function(l){var z;f.push({id:l.id,shape:"data-processing-dag-node",ports:[{id:"".concat(l.id,"-in"),group:"in"},{id:"".concat(l.id,"-out"),group:"out"}],data:l}),(z=l.inputs)===null||z===void 0||z.forEach(function(L){o.push({label:L.ship_strategy,id:"".concat(l.id,"-").concat(L.num),shape:"data-processing-curve",zIndex:-1,source:{cell:"".concat(L.id),port:"".concat(L.id,"-out")},target:{cell:"".concat(l.id),port:"".concat(l.id,"-in")},data:l})})}),{nodes:f,edges:o}):{nodes:f,edges:o}},Ee=function(u,o){!u||!o||(u.forEach(function(f){var l=o.getCellById(f.id);l&&l.setData(r()(r()({},l.getData()),f))}),o.getEdges().forEach(function(f){var l,z=(l=f.getSourceNode())===null||l===void 0?void 0:l.getData(),L="#bfbfbf",W=0,O=1,q="";switch(z.status){case se.jf.RUNNING:{L="#3471F9",W=5,O=2,q="running-line 30s infinite linear";break}case se.jf.FINISHED:L="#52c41a";break;case se.jf.CANCELED:L="#ffe7ba";break;case se.jf.FAILED:L="#ff4d4f";break}f.attr({line:{strokeDasharray:W}}),f.attr({line:{strokeWidth:O}}),f.attr({line:{animation:q}}),f.attr({line:{stroke:L}})}))},de=function(u,o){var f=Math.abs(o.x-u.x),l=new c.y$;return l.appendSegment(c.y$.createSegment("M",u.x-4,u.y)),l.appendSegment(c.y$.createSegment("L",u.x+12,u.y)),l.appendSegment(c.y$.createSegment("C",u.x<o.x?u.x+f/2:u.x-f/2,u.y,u.x<o.x?o.x-f/2:o.x+f/2,o.y,o.x-6,o.y)),l.appendSegment(c.y$.createSegment("L",o.x+2,o.y)),l.serialize()},ue=e(15055),Ie=e(21953),Le=e(58023),ee=e(48240),Y=e(62595),d=e(38711),ne=e(32394),y=e(92398),Q=e(57513),D=e(34041),B=e(66309),ce=e(71338),K=e(85265),_=e(67294),J=E.Z.Paragraph,G=function(u,o){var f,l=(0,_.useState)(""),z=n()(l,2),L=z[0],W=z[1],O=u+L,q=(0,_.useState)(s()({},O,[])),fe=n()(q,2),k=fe[0],Ne=fe[1],Oe=((f=o==null?void 0:o.history)!==null&&f!==void 0?f:[]).filter(function(b){return b.status==="COMPLETED"}).map(function(b){return{checkpointType:b.checkpoint_type,path:b.external_path,id:b.id}});return(0,_.useEffect)(function(){L&&u&&(k[O]||(0,Ie.eR)(Le.Z.READ_CHECKPOINT,{path:L,operatorId:u}).then(function(b){if(!(!b||b.code!==0)){var ie=Object.keys(b.data).map(function(ve){var ge=b.data[ve];return{key:ve,label:ve,children:(0,t.jsx)(y.Z,{items:Object.keys(ge).map(function(te){return{key:te,label:te,children:(0,t.jsx)(Q.Z,{dataSource:ge[te].datas,columns:ge[te].headers.map(function(X){return{title:X,dataIndex:X,key:X,render:function(Me){return(0,t.jsx)(J,{copyable:!0,ellipsis:{rows:3},children:Me})}}})})}}),tabBarStyle:{marginBlock:0},tabBarGutter:10})}});Ne(r()(r()({},k),{},s()({},O,ie)))}}))},[L,u]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.default,{defaultValue:L,style:{width:"100%"},placeholder:"Select a Checkpoint",optionFilterProp:"children",options:Oe.map(function(b){return{label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(B.Z,{color:"success",children:["CheckPoint Id: ",b.id]}),(0,t.jsxs)(B.Z,{color:"processing",children:["CheckPoint Path:",(0,t.jsx)(ue.Z,{maxCount:40,children:b.path})]}),(0,t.jsxs)(B.Z,{color:"processing",children:["Type:",b.checkpointType]})]}),value:b.path}}),onChange:function(ie){W(ie)}}),(0,t.jsx)(y.Z,{items:k[O],tabBarStyle:{marginBlock:0},tabBarGutter:10})]})},M=function(u){var o,f=(0,_.useRef)(null),l=u.job,z=u.onlyPlan,L=z===void 0?!1:z,W=u.checkPoints,O=W===void 0?{}:W,q=(0,_.useState)(),fe=n()(q,2),k=fe[0],Ne=fe[1],Oe=(0,_.useState)(),b=n()(Oe,2),ie=b[0],ve=b[1],ge=(0,_.useState)(),te=n()(ge,2),X=te[0],Pe=te[1],Me=(0,_.useState)(!1),Re=n()(Me,2),ze=Re[0],Te=Re[1],Ue=(0,_.useState)(1),_e=n()(Ue,2),xe=_e[0],pe=_e[1],be={zoom:1},Ze=function(){Te(!1),Pe(void 0),k==null||k.zoomToFit(A),k==null||k.centerContent()},Ke=function(oe){oe.on("node:selected",function($){var Ce=$.cell;L||(Te(!0),pe(function(Se){return be={zoom:Se},1}),oe.zoomTo(1),Pe(Ce),oe.positionPoint(Y.Rectangle.create(Ce.getBBox()).getLeftMiddle(),"10%","50%"))}),oe.on("node:unselected",function(){pe(be.zoom),Ze()})},We=function(oe){(0,ne.z2)({shape:"data-processing-dag-node",width:270,height:140,component:L?g:V,ports:ye}),c.kS.config(le),c.kJ.registerConnector("curveConnector",de,!0),c.kJ.registerEdge("data-processing-curve",c.kS,!0);var $=new c.kJ(r()({container:f.current},he));$.use(new d.Y({enabled:!0,multiple:!1,rubberband:!1,showNodeSelectionBox:!0}));var Ce=new ee.Vq(Ae).layout(oe);return $.fromJSON(Ce),$.zoomToFit(A),$.on("scale",function(Se){var ke=Se.sx;return pe(ke)}),$.centerContent(),$==null||$.zoomTo(xe),Ee(l==null?void 0:l.vertices,$),Ke($),$};return(0,_.useEffect)(function(){var me=je(l==null?void 0:l.plan);k&&k.clearCells(),Ne(We(me)),pe(1/me.nodes.length+.5)},[ie]),(0,_.useEffect)(function(){Ee(l==null?void 0:l.vertices,k),ie!=(l==null?void 0:l.jid)&&ve(l==null?void 0:l.jid)},[l]),(0,_.useEffect)(function(){k==null||k.zoomTo(xe)},[xe]),(0,t.jsxs)("span",{children:[(0,t.jsx)("div",{style:{height:200,position:"absolute",top:"50%",right:12,marginTop:-100,zIndex:2},children:(0,t.jsx)(ce.Z,{vertical:!0,value:xe,min:.5,max:1.5,tooltip:{open:!1},step:.01,onChange:pe})}),(0,t.jsx)("div",{style:{height:"100%",width:"100%"},ref:f}),(0,t.jsx)(K.Z,{headerStyle:{paddingBlock:5},bodyStyle:{paddingBlock:5},open:ze,getContainer:!1,width:"65%",mask:!1,onClose:Ze,destroyOnClose:!0,closable:!1,children:L?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(y.Z,{defaultActiveKey:"1",items:[{key:"1",label:"Detail",children:(0,t.jsx)("div",{style:{whiteSpace:"pre"},children:X==null||(o=X.getData().description)===null||o===void 0?void 0:o.replaceAll("<br/>",`
`)})},{key:"2",label:"CheckPointRead",children:G(X==null?void 0:X.id,O)}],tabBarGutter:10})})]})},Z=M},57932:function(w,R,e){var i=e(60860),r=e(98165),a=e(8751),s=e(52747),C=e(3089),n=e(24019),I=e(25035),h=e(56717),E=e(66309),v=e(85893),x=function(T){var t=T.status,P=T.animation,U=P===void 0?!0:P,j=T.bordered,V=j===void 0?!0:j,p=function(){switch(t){case i.jf.RUNNING:return{icon:(0,v.jsx)(r.Z,{spin:!0}),color:"success",text:"RUNNING"};case i.jf.FINISHED:return{icon:(0,v.jsx)(a.Z,{}),color:"blue",text:"FINISHED"};case i.jf.FAILED:return{icon:(0,v.jsx)(s.Z,{twoToneColor:"red"}),color:"red",text:"FAILED"};case i.jf.CANCELED:return{icon:(0,v.jsx)(C.Z,{}),color:"orange",text:"CANCELED"};case i.jf.INITIALIZING:return{icon:(0,v.jsx)(n.Z,{}),color:"default",text:"INITIALIZING"};case i.jf.RESTARTING:return{icon:(0,v.jsx)(n.Z,{}),color:"default",text:"RESTARTING"};case i.jf.CREATED:return{icon:(0,v.jsx)(n.Z,{}),color:"default",text:"CREATED"};case i.jf.RECONNECTING:return{icon:(0,v.jsx)(r.Z,{spin:!0}),color:"warning",text:"RECONNECTING"};case i.jf.UNKNOWN:return{icon:(0,v.jsx)(I.Z,{}),color:"default",text:"UNKNOWN"};case i.LE.OK:return{icon:(0,v.jsx)(I.Z,{}),color:"success",text:"OK"};case i.LE.HIGH:return{icon:(0,v.jsx)(h.Z,{twoToneColor:"red"}),color:"error",text:"HIGH"};default:return{icon:(0,v.jsx)(I.Z,{}),color:"default",text:"UNKNOWN"}}},m=p();return(0,v.jsx)(E.Z,{icon:U?m.icon:void 0,color:m.color,bordered:V,children:m.text})};R.Z=x},9408:function(w,R,e){e.d(R,{Z:function(){return Le}});var i=e(97857),r=e.n(i),a=e(5574),s=e.n(a),C=e(17057),n=e(40411),I=e(83062),h=e(12444),E=e.n(h),v=e(72004),x=e.n(v),F=e(31996),T=e.n(F),t=e(26037),P=e.n(t),U=e(42687),j=e(96486),V=e(73935),p=e(52995),m=e(28525),N=function(ee){T()(d,ee);var Y=P()(d);function d(){return E()(this,d),Y.apply(this,arguments)}return x()(d,[{key:"componentDidMount",value:function(){var y=this,Q=V.findDOMNode(this),D=j.get(this.props,"config.enableHoverChain",!0),B=j.get(this.props,"config.titleRender"),ce={root:Q,disLinkable:!1,linkable:!1,draggable:!1,zoomable:!0,moveable:!0,theme:{edge:{type:"endpoint",shapeType:"AdvancedBezier",arrow:!0,isExpandWidth:!0,arrowPosition:1,arrowOffset:-5},endpoint:{limitNum:void 0,expandArea:{left:0,right:0,top:0,botton:0}}},data:{enableHoverChain:D}};this.canvas=new m.Z(ce);var K=(0,p.yd)({tables:this.props.tables,relations:this.props.relations,columns:this.props.columns,operator:this.props.operator,_titleRender:B,_enableHoverChain:D,_emptyContent:this.props.emptyContent,_emptyWidth:this.props.emptyWidth});this.originEdges=K.edges,K=(0,p.mg)(K.nodes,j.cloneDeep(K.edges)),K.edges=K.edges.map(function(_){return r()(r()({},_),{},{shapeType:"AdvancedBezier"})}),this.canvasData={nodes:K.nodes,edges:K.edges},setTimeout(function(){var _=K.edges;K.edges=[],y.canvas.draw(K,function(){y.canvas.relayout({edges:_.map(function(M){return{source:M.sourceNode,target:M.targetNode}})},!0),y.canvas.addEdges(_,!0);var J=j.get(y,"props.config.minimap",{}),G=j.assign({},J.config,{events:["system.node.click","system.canvas.click"]});J&&J.enable&&y.canvas.setMinimap(!0,G),j.get(y,"props.config.gridMode")&&y.canvas.setGridMode(!0,j.assign({},j.get(y,"props.config.gridMode",{}))),K.nodes.length!==0&&(y.canvas.focusCenterWithAnimate(),y._isFirstFocus=!0),y.forceUpdate(),y.props.onLoaded&&y.props.onLoaded(y.canvas)}),y.canvas.on("system.node.click",function(J){var G=J.node;y.canvas.focus(G.id)}),y.canvas.on("system.canvas.click",function(){y.canvas.unfocus()})},j.get(this.props,"config.delayDraw",0))}}]),d}(U.Z),g=e(41913),c=e(87712),ae=e(89031),H=e(68869),re=e(17598),le=e(53073),ye=e(73901),De=e(33160),he=e(67294),Ae=e(11904),A=e(85893),se=C.Z.Text,je={lineageData:{tables:[],relations:[]},canvas:void 0,actionMenu:[],tables:[],relations:[],columns:[],operator:[],centerId:"",showMinimap:!1,refresh:!1,expandField:!1,collapseField:!1,expandDownstream:!1,collapseDownstream:!1,expandUpstream:!1,collapseUpstream:!1},Ee=function(Y){return[{key:"id",width:"100",render:function(ne,y,Q){return(0,A.jsx)(n.Z,{count:Q+1,size:"small",color:Q<10?"red":Q<20?"blue":Q<30?"gold":"cyan"})}},{key:"name",primaryKey:!0,width:"250",render:function(ne,y,Q){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ae.Z,{})," ",ne]})}}]},de=function(Y){return Y.map(function(d){return{id:d==null?void 0:d.id,name:d==null?void 0:d.name,isCollapse:!1,fields:d==null?void 0:d.columns}})},ue=function(Y){return Y.map(function(d){return{id:d==null?void 0:d.id,srcTableId:d==null?void 0:d.srcTableId,tgtTableId:d==null?void 0:d.tgtTableId,srcTableColName:d==null?void 0:d.srcTableColName,tgtTableColName:d==null?void 0:d.tgtTableColName}})},Ie=function(Y){var d=Y.lineageData,ne=Y.refreshCallBack,y=he.useState(r()(r()({},je),{},{lineageData:d,tables:de(d.tables),relations:ue(d.relations)})),Q=s()(y,2),D=Q[0],B=Q[1];(0,he.useEffect)(function(){d&&B(function(G){return r()(r()({},G),{},{lineageData:d,tables:de(d.tables),relations:ue(d.relations)})})},[d,D.refresh]);var ce=function(M,Z){var S=M.isCollapse,u=M.id;D.tables.filter(function(o){return o.id===u}).forEach(function(o){return o.isCollapse=S}),B(function(o){return r()(r()({},o),{},{expandField:!o.expandField})}),(0,c.Ur)((D.expandField,(0,g.l)("lineage.expandField")))},K=function(M){return[{id:"expandField",name:(D.expandField,(0,g.l)("lineage.expandField")),icon:(0,A.jsx)(I.Z,{title:(D.expandField,(0,g.l)("lineage.expandField")),children:(0,A.jsx)(H.Z,{})}),onClick:function(S){return ce(S,M)}},{id:"expandDownstream",name:D.expandDownstream?(0,g.l)("lineage.expandDownstream"):(0,g.l)("lineage.collapseDownstream"),icon:(0,A.jsx)(I.Z,{title:D.expandDownstream?(0,g.l)("lineage.expandDownstream"):(0,g.l)("lineage.collapseDownstream"),children:(0,A.jsx)(re.Z,{})}),onClick:function(S){B(function(u){return r()(r()({},u),{},{expandDownstream:!u.expandDownstream})}),(0,c.Re)(D.expandDownstream?(0,g.l)("lineage.expandDownstream"):(0,g.l)("lineage.collapseDownstream"))}},{id:"expandUpstream",name:D.expandUpstream?(0,g.l)("lineage.expandUpstream"):(0,g.l)("lineage.collapseUpstream"),icon:(0,A.jsx)(I.Z,{title:D.expandUpstream?(0,g.l)("lineage.expandUpstream"):(0,g.l)("lineage.collapseUpstream"),children:(0,A.jsx)(le.Z,{})}),onClick:function(S){B(function(u){return r()(r()({},u),{},{expandUpstream:!u.expandUpstream})}),(0,c.Re)(D.expandUpstream?(0,g.l)("lineage.expandUpstream"):(0,g.l)("lineage.collapseUpstream"))}}]},_=function(){return[{key:"minimap",icon:(0,A.jsx)(I.Z,{title:D.showMinimap?(0,g.l)("lineage.showMap"):(0,g.l)("lineage.hideMap"),children:(0,A.jsx)(ye.Z,{})}),name:D.showMinimap?(0,g.l)("lineage.showMap"):(0,g.l)("lineage.hideMap"),onClick:function(Z){B(function(S){return r()(r()({},S),{},{canvas:Z,showMinimap:!S.showMinimap})})}},{key:"refresh",icon:(0,A.jsx)(I.Z,{title:(0,g.l)("lineage.refresh"),children:(0,A.jsx)(De.Z,{spin:D.refresh})}),title:(0,g.l)("lineage.refresh"),onClick:function(Z){B(function(S){return r()(r()({},S),{},{canvas:Z,refresh:!0})}),ne(),B(function(S){return r()(r()({},S),{},{canvas:Z,refresh:!1})})}}]},J=function(M){var Z;return(0,A.jsx)(se,{title:M,strong:!0,ellipsis:!0,type:"secondary",onClick:function(){var u;(u=D.canvas.nodes)===null||u===void 0||u.forEach(function(o){o.redrawTitle()})},children:(0,A.jsx)("blockquote",{children:(Z=M.toString().split(".")[2])!==null&&Z!==void 0?Z:M})})};return(0,A.jsx)(N,{tables:de(D.lineageData.tables),relations:ue(D.lineageData.relations),columns:Ee(D.lineageData),operator:K(D.tables),centerId:D.centerId,onLoaded:function(M){return B(function(Z){return r()(r()({},Z),{},{canvas:M})})},onChange:function(M){return B(function(Z){return r()(r()({},Z),{},{centerId:M.id})})},config:{titleRender:function(M){return J(M)},minimap:{enable:D.showMinimap},enableHoverChain:!0,showActionIcon:!0,gridMode:{isAdsorb:!0,theme:{shapeType:"line",gap:30,lineWidth:.2,circleRadiu:5}}},butterfly:{zoomable:!0,draggable:!0,movable:!0,linkable:!0},actionMenu:_()})},Le=Ie},15055:function(w,R,e){var i=e(17057),r=e(83062),a=e(85893),s=i.Z.Paragraph,C=i.Z.Text,n=function(h){var E=h.maxCount,v=h.children,x=h.copyable,F=x===void 0?!0:x,T="",t,P="";if(!v||v.length<=E)T=v;else{var U=E/2;T=v.slice(0,U).trim(),t=v.slice(-U).trim(),P=v}return(0,a.jsx)(r.Z,{title:P,children:(0,a.jsxs)(C,{copyable:F?{text:v}:!1,children:[T,t?"......".concat(t):""]})})};R.Z=n},46155:function(w,R,e){var i=e(97857),r=e.n(i),a=e(63167),s=e(41913),C=e(95604),n=e(2487),I=e(48054),h=e(66309),E=e(42075),v=e(83062),x=e(85893),F=function(t){var P=t.data,U=t.onSelectListen,j=U===void 0?function(){}:U,V=t.onDeleteListen,p=t.onRollBackListen,m=t.loading,N=t.header,g=t.options,c=function(H){return(0,x.jsx)(n.Z.Item,{onClick:function(){return j(H)},children:(0,x.jsxs)(I.Z,{title:!1,loading:m,active:!0,children:[(0,x.jsx)(n.Z.Item.Meta,{title:(0,x.jsx)("a",{children:H.isLatest?(0,x.jsx)(h.Z,{color:"green",children:(0,s.l)("devops.jobinfo.version.latestVersion")},"v-latest"):"V-".concat(H.versionId)}),description:H.createTime}),!H.isLatest&&(0,x.jsxs)(E.Z,{onClick:function(le){return le.stopPropagation()},children:[p&&(0,x.jsx)(v.Z,{title:(0,s.l)("devops.jobinfo.version.rollBack"),children:(0,x.jsx)(C.Z,{onClick:function(){return p(H)}})}),V&&(0,x.jsx)(v.Z,{title:(0,s.l)("devops.jobinfo.version.delete"),children:(0,x.jsx)(a.i,{description:(0,s.l)("devops.jobinfo.version.delete.sure","",{version:H.versionId}),onClick:function(){V(H)},options:{size:"small",type:"dashed "}})})]})]})})};return(0,x.jsx)(n.Z,r()(r()({},g),{},{pagination:{position:"bottom",align:"end",size:"small",defaultPageSize:8},size:"small",header:N,dataSource:P,renderItem:function(H){return c(H)}}))};R.Z=F},4755:function(w,R,e){e.d(R,{NP:function(){return V},RL:function(){return U},Rj:function(){return T},SH:function(){return I},el:function(){return P},gY:function(){return x},j3:function(){return j},nA:function(){return E}});var i=e(15009),r=e.n(i),a=e(99289),s=e.n(a),C=e(21953),n=e(58023);function I(p,m){return h.apply(this,arguments)}function h(){return h=s()(r()().mark(function p(m,N){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,C.vO)(n.Z.EXPLAIN_SQL,m,N));case 1:case"end":return c.stop()}},p)})),h.apply(this,arguments)}function E(p,m){return v.apply(this,arguments)}function v(){return v=s()(r()().mark(function p(m,N){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,C.vO)(n.Z.GET_JOB_PLAN,m,N));case 1:case"end":return c.stop()}},p)})),v.apply(this,arguments)}function x(p,m){return F.apply(this,arguments)}function F(){return F=s()(r()().mark(function p(m,N){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,C.vO)(n.Z.DEBUG_TASK,m,N));case 1:case"end":return c.stop()}},p)})),F.apply(this,arguments)}function T(p,m){return t.apply(this,arguments)}function t(){return t=s()(r()().mark(function p(m,N){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,C.WY)(n.Z.SUBMIT_TASK,m,{id:N}));case 1:case"end":return c.stop()}},p)})),t.apply(this,arguments)}function P(p,m){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return(0,C.WY)(n.Z.CANCEL_JOB,p,{id:m,withSavePoint:N,forceCancel:g})}function U(p,m,N){return(0,C.WY)(n.Z.RESTART_TASK,N,{id:p,savePointPath:m})}function j(p,m,N){return(0,C.WY)(n.Z.SAVEPOINT,p,{taskId:m,savePointType:N})}function V(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m=arguments.length>1?arguments[1]:void 0,N=arguments.length>2?arguments[2]:void 0;return(0,C.WY)(n.Z.CHANGE_TASK_LIFE,p,{taskId:m,lifeCycle:N})}},57857:function(w,R,e){e.d(R,{b:function(){return n},k:function(){return C}});var i=e(95034),r=e(97106),a=e(79935),s=e(85893),C=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.zy.FLINK_SQL;switch(h.toLowerCase()){case a.zy.FLINK_SQL:case a.zy.FLINKSQLENV:case a.zy.FLINKJAR:return a.zy.FLINK_SQL;case a.zy.SQL:case a.zy.SQLSERVER:case a.zy.POSTGRESQL:case a.zy.HIVE:case a.zy.CLICKHOUSE:case a.zy.ORACLE:case a.zy.DORIS:case a.zy.PHOENIX:case a.zy.PRESTO:case a.zy.MYSQL:case a.zy.STARROCKS:return a.zy.SQL;case a.zy.PYTHON:case a.zy.PYTHON_LONG:return a.zy.PYTHON_LONG;case a.zy.SCALA:return a.zy.SCALA;case a.zy.JAVA:return a.zy.JAVA;default:return a.zy.SQL}},n=function(h,E){if(!h)return(0,s.jsx)(i.aA,{});switch(h.toLowerCase()){case a.zy.JAVA:return(0,s.jsx)(i.cZ,{});case a.zy.SCALA:return(0,s.jsx)(i.eF,{});case a.zy.PYTHON:case a.zy.PYTHON_LONG:return(0,s.jsx)(i.T,{});case a.zy.MD:case a.zy.MDX:return(0,s.jsx)(i.NH,{});case a.zy.XML:return(0,s.jsx)(i.cx,{});case a.zy.YAML:case a.zy.YML:return(0,s.jsx)(i.zG,{});case a.zy.SH:case a.zy.BASH:case a.zy.CMD:return(0,s.jsx)(i.Hn,{});case a.zy.LOG:return(0,s.jsx)(i.vj,{});case a.zy.FLINKJAR:return(0,s.jsx)(i.Wy,{});case a.zy.FLINK_SQL:return(0,s.jsx)(i.gp,{});case a.zy.FLINKSQLENV:return(0,s.jsx)(i.Mf,{});case a.zy.SQL:return(0,s.jsx)(r.UD,{size:E});case a.zy.MYSQL:return(0,s.jsx)(r.un,{size:E});case a.zy.ORACLE:return(0,s.jsx)(r.u6,{size:E});case a.zy.POSTGRESQL:return(0,s.jsx)(r.Sw,{size:E});case a.zy.CLICKHOUSE:return(0,s.jsx)(r.AA,{size:E});case a.zy.SQLSERVER:return(0,s.jsx)(r.i4,{size:E});case a.zy.DORIS:return(0,s.jsx)(r.rf,{size:E});case a.zy.PHOENIX:return(0,s.jsx)(r.YD,{size:E});case a.zy.HIVE:return(0,s.jsx)(r.pA,{size:E});case a.zy.STARROCKS:return(0,s.jsx)(r.JZ,{size:E});case a.zy.PRESTO:return(0,s.jsx)(r.TO,{size:E});default:return(0,s.jsx)(i.aA,{})}}},60860:function(w,R,e){e.d(R,{LE:function(){return s},Lu:function(){return C},Z4:function(){return i},g$:function(){return a},jf:function(){return r}});var i=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.DEVELOP=1]="DEVELOP",n[n.PUBLISH=2]="PUBLISH",n}({}),r=function(n){return n.FINISHED="FINISHED",n.RUNNING="RUNNING",n.FAILED="FAILED",n.CANCELED="CANCELED",n.INITIALIZING="INITIALIZING",n.RESTARTING="RESTARTING",n.CREATED="CREATED",n.FAILING="FAILING",n.SUSPENDED="SUSPENDED",n.CANCELLING="CANCELLING",n.RECONNECTING="RECONNECTING",n.UNKNOWN="UNKNOWN",n}({}),a=function(n){return n.INITIALIZE="INITIALIZE",n.RUNNING="RUNNING",n.SUCCESS="SUCCESS",n.FAILED="FAILED",n.CANCEL="CANCEL",n}({}),s=function(n){return n.OK="ok",n.HIGH="high",n}({}),C={METRICS:"/TOPIC/METRICS",PROCESS_CONSOLE:"/TOPIC/PROCESS_CONSOLE",PRINT_TABLE:"/TOPIC/PRINT_TABLE"}},99219:function(w,R,e){e.d(R,{$N:function(){return s},N$:function(){return a},b3:function(){return C}});var i=e(60860),r=e(7646);function a(n){if(!n)return!0;switch(n){case i.jf.FAILED:case i.jf.CANCELED:case i.jf.FINISHED:case i.jf.UNKNOWN:case i.g$.SUCCESS:case i.g$.FAILED:case i.g$.CANCEL:return!0;default:return!1}}function s(n){if(!n)return!1;switch(n){case i.jf.RECONNECTING:case i.jf.UNKNOWN:return!0;default:return!1}}function C(n){if(a(n.status))return(0,r.FV)(n.duration);var I=Date.now(),h=I-new Date(n.createTime).getTime();return(0,r.FV)(h)}}}]);
